(self.webpackChunkscrumPokerPicker=self.webpackChunkscrumPokerPicker||[]).push([[179],{2011:(qe,Ae,O)=>{"use strict";O.d(Ae,{hO:()=>V,xv:()=>W,Dh:()=>N,GT:()=>Z,cc:()=>z,on:()=>R,pX:()=>ue});var s=O(5e3),T=O(127),F=O(7130);qe=O.hmd(qe);const X=["ngOnDestroy"],ue=($,K,pe,_e={})=>new Proxy($,{get:(Ve,Re)=>pe.runOutsideAngular(()=>{var Xe;if($[Re])return(null===(Xe=null==_e?void 0:_e.spy)||void 0===Xe?void 0:Xe.get)&&_e.spy.get(Re,$[Re]),$[Re];if(X.indexOf(Re)>-1)return()=>{};const me=K.toPromise().then(it=>{const ve=it&&it[Re];return"function"==typeof ve?ve.bind(it):ve&&ve.then?ve.then(ae=>pe.run(()=>ae)):pe.run(()=>ve)});return new Proxy(()=>{},{get:(it,ve)=>me[ve],apply:(it,ve,ae)=>me.then(ye=>{var Ee;const Ie=ye&&ye(...ae);return(null===(Ee=null==_e?void 0:_e.spy)||void 0===Ee?void 0:Ee.apply)&&_e.spy.apply(Re,ae,Ie),Ie})})})}),Z=($,K)=>{K.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(_e=>{Object.defineProperty($.prototype,_e,Object.getOwnPropertyDescriptor(pe.prototype||pe,_e))})})};class oe{constructor(K){return K}}const N=new s.OlP("angularfire2.app.options"),W=new s.OlP("angularfire2.app.name");function R($,K,pe){const Ve="object"==typeof pe&&pe||{};Ve.name=Ve.name||"string"==typeof pe&&pe||"[DEFAULT]";const Xe=T.Z.apps.filter(me=>me&&me.name===Ve.name)[0]||K.runOutsideAngular(()=>T.Z.initializeApp($,Ve));try{JSON.stringify($)!==JSON.stringify(Xe.options)&&M("error",`${Xe.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(me){}return new oe(Xe)}const M=($,...K)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[$](...K)},L={provide:oe,useFactory:R,deps:[N,s.R0b,[new s.FiY,W]]};let V=(()=>{class ${constructor(pe){T.Z.registerVersion("angularfire",F.q4.full,"core"),T.Z.registerVersion("angularfire",F.q4.full,"app-compat"),T.Z.registerVersion("angular",s.q4F.full,pe.toString())}static initializeApp(pe,_e){return{ngModule:$,providers:[{provide:N,useValue:pe},{provide:W,useValue:_e}]}}}return $.\u0275fac=function(pe){return new(pe||$)(s.LFG(s.Lbi))},$.\u0275mod=s.oAB({type:$}),$.\u0275inj=s.cJS({providers:[L]}),$})();function z($,K,pe,_e,Ve){const[,Re,Xe]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===$)||[];if(Re)return function($,K){try{return $.toString()===K.toString()}catch(pe){return $===K}}(Ve,Xe)||(ee("error",`${K} was already initialized on the ${pe} Firebase App with different settings.${se?" You may need to reload as Firebase is not HMR aware.":""}`),ee("warn",{is:Ve,was:Xe})),Re;{const me=_e();return globalThis.\u0275AngularfireInstanceCache.push([$,me,Ve]),me}}const se=!!qe.hot,ee=($,...K)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[$](...K)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7130:(qe,Ae,O)=>{"use strict";O.d(Ae,{q4:()=>ba,iC:()=>Ca,HU:()=>sl,vb:()=>kr,JM:()=>ns,nk:()=>qr,u3:()=>Ur});var s=O(5e3),T=O(5867),F=O(5861),X=O(9681),ue=O(2090),Z=O(4859),oe=O(1877);O(2833);const W="@firebase/remote-config",R="0.3.4",z=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tt{constructor(te,Se,$e,gt){this.client=te,this.storage=Se,this.storageCache=$e,this.logger=gt}isCachedDataFresh(te,Se){if(!Se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $e=Date.now()-Se,gt=$e<=te;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$e}. Cache max age millis (minimumFetchIntervalMillis setting): ${te}. Is cache hit: ${gt}.`),gt}fetch(te){var Se=this;return(0,F.Z)(function*(){const[$e,gt]=yield Promise.all([Se.storage.getLastSuccessfulFetchTimestampMillis(),Se.storage.getLastSuccessfulFetchResponse()]);if(gt&&Se.isCachedDataFresh(te.cacheMaxAgeMillis,$e))return gt;te.eTag=gt&&gt.eTag;const Ft=yield Se.client.fetch(te),At=[Se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ft.status&&At.push(Se.storage.setLastSuccessfulFetchResponse(Ft)),yield Promise.all(At),Ft})()}}function zt(Q=navigator){return Q.languages&&Q.languages[0]||Q.language}class Be{constructor(te,Se,$e,gt,Ft,At){this.firebaseInstallations=te,this.sdkVersion=Se,this.namespace=$e,this.projectId=gt,this.apiKey=Ft,this.appId=At}fetch(te){var Se=this;return(0,F.Z)(function*(){const[$e,gt]=yield Promise.all([Se.firebaseInstallations.getId(),Se.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Se.projectId}/namespaces/${Se.namespace}:fetch?key=${Se.apiKey}`,Gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":te.eTag||"*"},mn={sdk_version:Se.sdkVersion,app_instance_id:$e,app_instance_id_token:gt,app_id:Se.appId,language_code:zt()},qi={method:"POST",headers:Gn,body:JSON.stringify(mn)},Pt=fetch(At,qi),Hs=new Promise((Mo,ut)=>{te.signal.addEventListener(()=>{const Ln=new Error("The operation was aborted.");Ln.name="AbortError",ut(Ln)})});let zs;try{yield Promise.race([Pt,Hs]),zs=yield Pt}catch(Mo){let ut="fetch-client-network";throw"AbortError"===Mo.name&&(ut="fetch-timeout"),z.create(ut,{originalErrorMessage:Mo.message})}let ms=zs.status;const al=zs.headers.get("ETag")||void 0;let uo,ho;if(200===zs.status){let Mo;try{Mo=yield zs.json()}catch(ut){throw z.create("fetch-client-parse",{originalErrorMessage:ut.message})}uo=Mo.entries,ho=Mo.state}if("INSTANCE_STATE_UNSPECIFIED"===ho?ms=500:"NO_CHANGE"===ho?ms=304:("NO_TEMPLATE"===ho||"EMPTY_CONFIG"===ho)&&(uo={}),304!==ms&&200!==ms)throw z.create("fetch-status",{httpStatus:ms});return{status:ms,eTag:al,config:uo}})()}}class et{constructor(te,Se){this.client=te,this.storage=Se}fetch(te){var Se=this;return(0,F.Z)(function*(){const $e=(yield Se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Se.attemptFetch(te,$e)})()}attemptFetch(te,{throttleEndTimeMillis:Se,backoffCount:$e}){var gt=this;return(0,F.Z)(function*(){yield function(Q,te){return new Promise((Se,$e)=>{const gt=Math.max(te-Date.now(),0),Ft=setTimeout(Se,gt);Q.addEventListener(()=>{clearTimeout(Ft),$e(z.create("fetch-throttle",{throttleEndTimeMillis:te}))})})}(te.signal,Se);try{const Ft=yield gt.client.fetch(te);return yield gt.storage.deleteThrottleMetadata(),Ft}catch(Ft){if(!function(Q){if(!(Q instanceof ue.ZR&&Q.customData))return!1;const te=Number(Q.customData.httpStatus);return 429===te||500===te||503===te||504===te}(Ft))throw Ft;const At={throttleEndTimeMillis:Date.now()+(0,ue.$s)($e),backoffCount:$e+1};return yield gt.storage.setThrottleMetadata(At),gt.attemptFetch(te,At)}})()}}class Nt{constructor(te,Se,$e,gt,Ft){this.app=te,this._client=Se,this._storageCache=$e,this._storage=gt,this._logger=Ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function St(Q,te){const Se=Q.target.error||void 0;return z.create(te,{originalErrorMessage:Se&&Se.message})}const bn="app_namespace_store";class Wn{constructor(te,Se,$e,gt=function(){return new Promise((Q,te)=>{try{const Se=indexedDB.open("firebase_remote_config",1);Se.onerror=$e=>{te(St($e,"storage-open"))},Se.onsuccess=$e=>{Q($e.target.result)},Se.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(bn,{keyPath:"compositeKey"})}}catch(Se){te(z.create("storage-open",{originalErrorMessage:Se}))}})}()){this.appId=te,this.appName=Se,this.namespace=$e,this.openDbPromise=gt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(te){return this.set("last_fetch_status",te)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(te){return this.set("last_successful_fetch_timestamp_millis",te)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(te){return this.set("last_successful_fetch_response",te)}getActiveConfig(){return this.get("active_config")}setActiveConfig(te){return this.set("active_config",te)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(te){return this.set("active_config_etag",te)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(te){return this.set("throttle_metadata",te)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(te){var Se=this;return(0,F.Z)(function*(){const $e=yield Se.openDbPromise;return new Promise((gt,Ft)=>{const Gn=$e.transaction([bn],"readonly").objectStore(bn),mn=Se.createCompositeKey(te);try{const qi=Gn.get(mn);qi.onerror=Pt=>{Ft(St(Pt,"storage-get"))},qi.onsuccess=Pt=>{const Hs=Pt.target.result;gt(Hs?Hs.value:void 0)}}catch(qi){Ft(z.create("storage-get",{originalErrorMessage:qi&&qi.message}))}})})()}set(te,Se){var $e=this;return(0,F.Z)(function*(){const gt=yield $e.openDbPromise;return new Promise((Ft,At)=>{const mn=gt.transaction([bn],"readwrite").objectStore(bn),qi=$e.createCompositeKey(te);try{const Pt=mn.put({compositeKey:qi,value:Se});Pt.onerror=Hs=>{At(St(Hs,"storage-set"))},Pt.onsuccess=()=>{Ft()}}catch(Pt){At(z.create("storage-set",{originalErrorMessage:Pt&&Pt.message}))}})})()}delete(te){var Se=this;return(0,F.Z)(function*(){const $e=yield Se.openDbPromise;return new Promise((gt,Ft)=>{const Gn=$e.transaction([bn],"readwrite").objectStore(bn),mn=Se.createCompositeKey(te);try{const qi=Gn.delete(mn);qi.onerror=Pt=>{Ft(St(Pt,"storage-delete"))},qi.onsuccess=()=>{gt()}}catch(qi){Ft(z.create("storage-delete",{originalErrorMessage:qi&&qi.message}))}})})()}createCompositeKey(te){return[this.appId,this.appName,this.namespace,te].join()}}class Xn{constructor(te){this.storage=te}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var te=this;return(0,F.Z)(function*(){const Se=te.storage.getLastFetchStatus(),$e=te.storage.getLastSuccessfulFetchTimestampMillis(),gt=te.storage.getActiveConfig(),Ft=yield Se;Ft&&(te.lastFetchStatus=Ft);const At=yield $e;At&&(te.lastSuccessfulFetchTimestampMillis=At);const Gn=yield gt;Gn&&(te.activeConfig=Gn)})()}setLastFetchStatus(te){return this.lastFetchStatus=te,this.storage.setLastFetchStatus(te)}setLastSuccessfulFetchTimestampMillis(te){return this.lastSuccessfulFetchTimestampMillis=te,this.storage.setLastSuccessfulFetchTimestampMillis(te)}setActiveConfig(te){return this.activeConfig=te,this.storage.setActiveConfig(te)}}function ci(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,F.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(Q){return!1}})).apply(this,arguments)}(0,X._registerComponent)(new Z.wA("remote-config",function(te,{instanceIdentifier:Se}){const $e=te.getProvider("app").getImmediate(),gt=te.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw z.create("registration-window");if(!(0,ue.hl)())throw z.create("indexed-db-unavailable");const{projectId:Ft,apiKey:At,appId:Gn}=$e.options;if(!Ft)throw z.create("registration-project-id");if(!At)throw z.create("registration-api-key");if(!Gn)throw z.create("registration-app-id");const mn=new Wn(Gn,$e.name,Se=Se||"firebase"),qi=new Xn(mn),Pt=new oe.Yd(W);Pt.logLevel=oe.in.ERROR;const Hs=new Be(gt,X.SDK_VERSION,Se,Ft,At,Gn),zs=new et(Hs,mn),ms=new Tt(zs,mn,qi,Pt),al=new Nt($e,ms,qi,mn,Pt);return function(Q){const te=(0,ue.m9)(Q);te._initializePromise||(te._initializePromise=te._storageCache.loadFromStorage().then(()=>{te._isInitializationComplete=!0}))}(al),al},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(W,R),(0,X.registerVersion)(W,R,"esm2017");var on=O(2940);const Vn="/firebase-messaging-sw.js",fn="/firebase-cloud-messaging-push-scope",Rt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vn="google.c.a.c_id",en="google.c.a.c_l",ti="google.c.a.ts",Cn="google.c.a.e";var It=(()=>{return(Q=It||(It={})).PUSH_RECEIVED="push-received",Q.NOTIFICATION_CLICKED="notification-clicked",It;var Q})();function gi(Q){const te=new Uint8Array(Q);return btoa(String.fromCharCode(...te)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ji(Q){const Se=(Q+"=".repeat((4-Q.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(Se),gt=new Uint8Array($e.length);for(let Ft=0;Ft<$e.length;++Ft)gt[Ft]=$e.charCodeAt(Ft);return gt}const Hi="fcm_token_details_db",Dn="fcm_token_object_Store";function gr(Q){return be.apply(this,arguments)}function be(){return be=(0,F.Z)(function*(Q){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ft=>Ft.name).includes(Hi))return null;let te=null;return(yield(0,on.openDb)(Hi,5,function(){var $e=(0,F.Z)(function*(gt){var Ft;if(gt.oldVersion<2||!gt.objectStoreNames.contains(Dn))return;const At=gt.transaction.objectStore(Dn),Gn=yield At.index("fcmSenderId").get(Q);if(yield At.clear(),Gn)if(2===gt.oldVersion){const mn=Gn;if(!mn.auth||!mn.p256dh||!mn.endpoint)return;te={token:mn.fcmToken,createTime:null!==(Ft=mn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:mn.auth,p256dh:mn.p256dh,endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:"string"==typeof mn.vapidKey?mn.vapidKey:gi(mn.vapidKey)}}}else if(3===gt.oldVersion){const mn=Gn;te={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:gi(mn.auth),p256dh:gi(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:gi(mn.vapidKey)}}}else if(4===gt.oldVersion){const mn=Gn;te={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:gi(mn.auth),p256dh:gi(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:gi(mn.vapidKey)}}}});return function(gt){return $e.apply(this,arguments)}}())).close(),yield(0,on.deleteDb)(Hi),yield(0,on.deleteDb)("fcm_vapid_details_db"),yield(0,on.deleteDb)("undefined"),he(te)?te:null}),be.apply(this,arguments)}function he(Q){if(!Q||!Q.subscriptionOptions)return!1;const{subscriptionOptions:te}=Q;return"number"==typeof Q.createTime&&Q.createTime>0&&"string"==typeof Q.token&&Q.token.length>0&&"string"==typeof te.auth&&te.auth.length>0&&"string"==typeof te.p256dh&&te.p256dh.length>0&&"string"==typeof te.endpoint&&te.endpoint.length>0&&"string"==typeof te.swScope&&te.swScope.length>0&&"string"==typeof te.vapidKey&&te.vapidKey.length>0}const Ne="firebase-messaging-store";let Dt=null;function ke(){return Dt||(Dt=(0,on.openDb)("firebase-messaging-database",1,Q=>{0===Q.oldVersion&&Q.createObjectStore(Ne)})),Dt}function Ge(Q){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.Z)(function*(Q){const te=fe(Q),$e=yield(yield ke()).transaction(Ne).objectStore(Ne).get(te);if($e)return $e;{const gt=yield gr(Q.appConfig.senderId);if(gt)return yield wt(Q,gt),gt}})).apply(this,arguments)}function wt(Q,te){return Et.apply(this,arguments)}function Et(){return(Et=(0,F.Z)(function*(Q,te){const Se=fe(Q),gt=(yield ke()).transaction(Ne,"readwrite");return yield gt.objectStore(Ne).put(te,Se),yield gt.complete,te})).apply(this,arguments)}function vt(Q){return Te.apply(this,arguments)}function Te(){return(Te=(0,F.Z)(function*(Q){const te=fe(Q),$e=(yield ke()).transaction(Ne,"readwrite");yield $e.objectStore(Ne).delete(te),yield $e.complete})).apply(this,arguments)}function fe({appConfig:Q}){return Q.appId}const ze=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _t(Q,te){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,F.Z)(function*(Q,te){const Se=yield Fn(Q),$e=Vr(te),gt={method:"POST",headers:Se,body:JSON.stringify($e)};let Ft;try{Ft=yield(yield fetch(ui(Q.appConfig),gt)).json()}catch(At){throw ze.create("token-subscribe-failed",{errorInfo:At})}if(Ft.error)throw ze.create("token-subscribe-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw ze.create("token-subscribe-no-token");return Ft.token})).apply(this,arguments)}function gn(Q,te){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,F.Z)(function*(Q,te){const Se=yield Fn(Q),$e=Vr(te.subscriptionOptions),gt={method:"PATCH",headers:Se,body:JSON.stringify($e)};let Ft;try{Ft=yield(yield fetch(`${ui(Q.appConfig)}/${te.token}`,gt)).json()}catch(At){throw ze.create("token-update-failed",{errorInfo:At})}if(Ft.error)throw ze.create("token-update-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw ze.create("token-update-no-token");return Ft.token})).apply(this,arguments)}function mi(Q,te){return ei.apply(this,arguments)}function ei(){return(ei=(0,F.Z)(function*(Q,te){const $e={method:"DELETE",headers:yield Fn(Q)};try{const Ft=yield(yield fetch(`${ui(Q.appConfig)}/${te}`,$e)).json();if(Ft.error)throw ze.create("token-unsubscribe-failed",{errorInfo:Ft.error.message})}catch(gt){throw ze.create("token-unsubscribe-failed",{errorInfo:gt})}})).apply(this,arguments)}function ui({projectId:Q}){return`https://fcmregistrations.googleapis.com/v1/projects/${Q}/registrations`}function Fn(Q){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,F.Z)(function*({appConfig:Q,installations:te}){const Se=yield te.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Q.apiKey,"x-goog-firebase-installations-auth":`FIS ${Se}`})})).apply(this,arguments)}function Vr({p256dh:Q,auth:te,endpoint:Se,vapidKey:$e}){const gt={web:{endpoint:Se,auth:te,p256dh:Q}};return $e!==Rt&&(gt.web.applicationPubKey=$e),gt}const Do=6048e5;function no(Q){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(Q){const te=yield ni(Q.swRegistration,Q.vapidKey),Se={vapidKey:Q.vapidKey,swScope:Q.swRegistration.scope,endpoint:te.endpoint,auth:gi(te.getKey("auth")),p256dh:gi(te.getKey("p256dh"))},$e=yield Ge(Q.firebaseDependencies);if($e){if(Ci($e.subscriptionOptions,Se))return Date.now()>=$e.createTime+Do?ce(Q,{token:$e.token,createTime:Date.now(),subscriptionOptions:Se}):$e.token;try{yield mi(Q.firebaseDependencies,$e.token)}catch(gt){console.warn(gt)}return ot(Q.firebaseDependencies,Se)}return ot(Q.firebaseDependencies,Se)})).apply(this,arguments)}function sr(Q){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,F.Z)(function*(Q){const te=yield Ge(Q.firebaseDependencies);te&&(yield mi(Q.firebaseDependencies,te.token),yield vt(Q.firebaseDependencies));const Se=yield Q.swRegistration.pushManager.getSubscription();return!Se||Se.unsubscribe()})).apply(this,arguments)}function ce(Q,te){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,F.Z)(function*(Q,te){try{const Se=yield gn(Q.firebaseDependencies,te),$e=Object.assign(Object.assign({},te),{token:Se,createTime:Date.now()});return yield wt(Q.firebaseDependencies,$e),Se}catch(Se){throw yield sr(Q),Se}})).apply(this,arguments)}function ot(Q,te){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,F.Z)(function*(Q,te){const $e={token:yield _t(Q,te),createTime:Date.now(),subscriptionOptions:te};return yield wt(Q,$e),$e.token})).apply(this,arguments)}function ni(Q,te){return cn.apply(this,arguments)}function cn(){return(cn=(0,F.Z)(function*(Q,te){return(yield Q.pushManager.getSubscription())||Q.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ji(te)})})).apply(this,arguments)}function Ci(Q,te){return te.vapidKey===Q.vapidKey&&te.endpoint===Q.endpoint&&te.auth===Q.auth&&te.p256dh===Q.p256dh}function In(Q){const te={from:Q.from,collapseKey:Q.collapse_key,messageId:Q.fcm_message_id};return function(Q,te){if(!te.notification)return;Q.notification={};const Se=te.notification.title;Se&&(Q.notification.title=Se);const $e=te.notification.body;$e&&(Q.notification.body=$e);const gt=te.notification.image;gt&&(Q.notification.image=gt)}(te,Q),function(Q,te){!te.data||(Q.data=te.data)}(te,Q),function(Q,te){if(!te.fcmOptions)return;Q.fcmOptions={};const Se=te.fcmOptions.link;Se&&(Q.fcmOptions.link=Se);const $e=te.fcmOptions.analytics_label;$e&&(Q.fcmOptions.analyticsLabel=$e)}(te,Q),te}function Xi(Q){return"object"==typeof Q&&!!Q&&vn in Q}function va(Q,te){const Se=[];for(let $e=0;$e<Q.length;$e++)Se.push(Q.charAt($e)),$e<te.length&&Se.push(te.charAt($e));return Se.join("")}function mr(Q){return ze.create("missing-app-config-values",{valueName:Q})}va("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),va("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _r{constructor(te,Se,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const gt=function(Q){if(!Q||!Q.options)throw mr("App Configuration Object");if(!Q.name)throw mr("App Name");const te=["projectId","apiKey","appId","messagingSenderId"],{options:Se}=Q;for(const $e of te)if(!Se[$e])throw mr($e);return{appName:Q.name,projectId:Se.projectId,apiKey:Se.apiKey,appId:Se.appId,senderId:Se.messagingSenderId}}(te);this.firebaseDependencies={app:te,appConfig:gt,installations:Se,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function el(Q){return Si.apply(this,arguments)}function Si(){return(Si=(0,F.Z)(function*(Q){try{Q.swRegistration=yield navigator.serviceWorker.register(Vn,{scope:fn}),Q.swRegistration.update().catch(()=>{})}catch(te){throw ze.create("failed-service-worker-registration",{browserErrorMessage:te.message})}})).apply(this,arguments)}function gs(Q,te){return ii.apply(this,arguments)}function ii(){return(ii=(0,F.Z)(function*(Q,te){if(!te&&!Q.swRegistration&&(yield el(Q)),te||!Q.swRegistration){if(!(te instanceof ServiceWorkerRegistration))throw ze.create("invalid-sw-registration");Q.swRegistration=te}})).apply(this,arguments)}function Rc(Q,te){return ro.apply(this,arguments)}function ro(){return(ro=(0,F.Z)(function*(Q,te){te?Q.vapidKey=te:Q.vapidKey||(Q.vapidKey=Rt)})).apply(this,arguments)}function Zr(){return(Zr=(0,F.Z)(function*(Q,te){if(!navigator)throw ze.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ze.create("permission-blocked");return yield Rc(Q,null==te?void 0:te.vapidKey),yield gs(Q,null==te?void 0:te.serviceWorkerRegistration),no(Q)})).apply(this,arguments)}function Su(Q,te,Se){return so.apply(this,arguments)}function so(){return(so=(0,F.Z)(function*(Q,te,Se){const $e=tl(te);(yield Q.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:Se[vn],message_name:Se[en],message_time:Se[ti],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tl(Q){switch(Q){case It.NOTIFICATION_CLICKED:return"notification_open";case It.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yr(){return(yr=(0,F.Z)(function*(Q,te){const Se=te.data;if(!Se.isFirebaseMessaging)return;Q.onMessageHandler&&Se.messageType===It.PUSH_RECEIVED&&("function"==typeof Q.onMessageHandler?Q.onMessageHandler(In(Se)):Q.onMessageHandler.next(In(Se)));const $e=Se.data;Xi($e)&&"1"===$e[Cn]&&(yield Su(Q,Se.messageType,$e))})).apply(this,arguments)}const oo="@firebase/messaging";function Iu(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,ue.hl)()&&(yield(0,ue.eu)())&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,X._registerComponent)(new Z.wA("messaging",Q=>{const te=new _r(Q.getProvider("app").getImmediate(),Q.getProvider("installations-internal").getImmediate(),Q.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Se=>function(Q,te){return yr.apply(this,arguments)}(te,Se)),te},"PUBLIC")),(0,X._registerComponent)(new Z.wA("messaging-internal",Q=>{const te=Q.getProvider("messaging").getImmediate();return{getToken:$e=>function(Q,te){return Zr.apply(this,arguments)}(te,$e)}},"PRIVATE")),(0,X.registerVersion)(oo,"0.9.5"),(0,X.registerVersion)(oo,"0.9.5","esm2017");var Kp=O(6148),Nc=O(341),hf=O(353),Ko=O(6498),Ao=O(2868),rl=O(3334),$l=O(7951);const ba=new s.GfV("7.2.0"),Fc="__angularfire_symbol__analyticsIsSupportedValue",ri="__angularfire_symbol__analyticsIsSupported",wa="__angularfire_symbol__remoteConfigIsSupported",Yo="__angularfire_symbol__messagingIsSupported";globalThis[ri]||(globalThis[ri]=(0,Kp.Gb)().then(Q=>globalThis[Fc]=Q)),globalThis[Yo]||(globalThis[Yo]=Iu().then(Q=>globalThis.__angularfire_symbol__messagingIsSupportedValue=Q)),globalThis[wa]||(globalThis[wa]=ci().then(Q=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=Q));const qr={async:()=>globalThis[ri],sync:()=>{const Q=globalThis[Fc];if(void 0===Q)throw new Error((Q=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${Q} in the constructor, first ensure that ${Q} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${Q})\`.`)("Analytics"));return Q}};function ns(Q,te,Se){if(te){if(1===te.length)return te[0];const Ft=te.filter(At=>At.app===Se);if(1===Ft.length)return Ft[0]}return Se.container.getProvider(Q).getImmediate({optional:!0})}const kr=(Q,te)=>{const Se=te?[te]:(0,T.C6)(),$e=[];return Se.forEach(gt=>{gt.container.getProvider(Q).instances.forEach(At=>{$e.includes(At)||$e.push(At)})}),$e};function ko(){}class lo{constructor(te,Se=Nc.N){this.zone=te,this.delegate=Se}now(){return this.delegate.now()}schedule(te,Se,$e){const gt=this.zone;return this.delegate.schedule(function(At){gt.runGuarded(()=>{te.apply(this,[At])})},Se,$e)}}class Mu{constructor(te){this.zone=te,this.task=null}call(te,Se){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),Se.pipe((0,Ao.b)({next:$e,complete:$e,error:$e})).subscribe(te).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sl=(()=>{class Q{constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new lo(Zone.current)),this.insideAngular=Se.run(()=>new lo(Zone.current,hf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Q.\u0275fac=function(Se){return new(Se||Q)(s.LFG(s.R0b))},Q.\u0275prov=s.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();function vr(){const Q=globalThis.\u0275AngularFireScheduler;if(!Q)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Q}function Di(Q){return vr().ngZone.runOutsideAngular(()=>Q())}function co(Q){return vr().ngZone.run(()=>Q())}function Ca(Q){return vr(),function(Q){return function(Se){return(Se=Se.lift(new Mu(Q.ngZone))).pipe((0,rl.R)(Q.outsideAngular),(0,$l.QV)(Q.insideAngular))}}(vr())(Q)}const br=(Q,te)=>function(){return te&&setTimeout(()=>{"scheduled"===te.state&&te.invoke()},10),co(()=>Q.apply(void 0,arguments))},Ur=(Q,te)=>function(){let Se;for(let gt=0;gt<arguments.length;gt++)"function"==typeof arguments[gt]&&(te&&(Se||(Se=co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)))),arguments[gt]=br(arguments[gt],Se));const $e=Di(()=>Q.apply(this,arguments));if(!te){if($e instanceof Ko.y){const gt=vr();return $e.pipe((0,rl.R)(gt.outsideAngular),(0,$l.QV)(gt.insideAngular))}return co(()=>$e)}return $e instanceof Ko.y?$e.pipe(Ca):$e instanceof Promise?co(()=>new Promise((gt,Ft)=>$e.then(At=>co(()=>gt(At)),At=>co(()=>Ft(At))))):"function"==typeof $e&&Se?function(){return setTimeout(()=>{Se&&"scheduled"===Se.state&&Se.invoke()},10),$e.apply(this,arguments)}:co(()=>$e)}},4074:(qe,Ae,O)=>{"use strict";O.d(Ae,{$:()=>al,A:()=>M,E:()=>ce,G:()=>cn,I:()=>ao,K:()=>Et,L:()=>Ko,M:()=>ba,N:()=>Fc,P:()=>ra,Q:()=>ri,R:()=>Fy,T:()=>$l,U:()=>Yo,V:()=>Lc,W:()=>kr,X:()=>te,Y:()=>$e,Z:()=>Ft,_:()=>qi,a:()=>Bn,a0:()=>ho,a1:()=>ut,a2:()=>ll,a3:()=>Yp,a4:()=>ks,a5:()=>Hd,a6:()=>a_,a7:()=>Bc,a8:()=>Ea,a9:()=>Uc,aA:()=>nh,aB:()=>eh,aC:()=>sr,aG:()=>po,aJ:()=>wa,aa:()=>l_,ab:()=>Hc,ae:()=>mf,af:()=>_f,ag:()=>Qp,aj:()=>vr,ak:()=>cl,am:()=>Xp,an:()=>vf,ao:()=>ui,ap:()=>ve,aq:()=>ei,ar:()=>gn,as:()=>pe,at:()=>Gu,au:()=>aa,av:()=>_e,aw:()=>me,ax:()=>ye,ay:()=>vt,az:()=>Qr,b:()=>Li,c:()=>sa,d:()=>ig,e:()=>f_,f:()=>th,g:()=>tr,h:()=>kf,i:()=>jc,j:()=>Uu,k:()=>lh,l:()=>Lu,m:()=>v_,n:()=>eu,o:()=>N,r:()=>Ta,s:()=>wr,t:()=>rt,u:()=>ml,z:()=>z});var s=O(5861),T=O(2090),F=O(9681),X=O(655),ue=O(1877),Z=O(4859);const N={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},M={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const z=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ie=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},se=new T.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$=new ue.Yd("@firebase/auth");function K(E,...y){$.logLevel<=ue.in.ERROR&&$.error(`Auth (${F.SDK_VERSION}): ${E}`,...y)}function pe(E,...y){throw Xe(E,...y)}function _e(E,...y){return Xe(E,...y)}function Ve(E,y,v){const I=Object.assign(Object.assign({},ie()),{[y]:v});return new T.LL("auth","Firebase",I).create(y,{appName:E.name})}function Re(E,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&pe(E,"argument-error"),Ve(E,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(E,...y){if("string"!=typeof E){const v=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(v,...I)}return se.create(E,...y)}function me(E,y,...v){if(!E)throw Xe(y,...v)}function it(E){const y="INTERNAL ASSERTION FAILED: "+E;throw K(y),new Error(y)}function ve(E,y){E||it(y)}const ae=new Map;function ye(E){ve(E instanceof Function,"Expected a class definition");let y=ae.get(E);return y?(ve(y instanceof E,"Instance stored in cache mismatched with class"),y):(y=new E,ae.set(E,y),y)}function De(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ct(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class He{constructor(y,v){this.shortDelay=y,this.longDelay=v,ve(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,T.uI)()||(0,T.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,T.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ze(E,y){ve(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class et{static initialize(y,v,I){this.fetchImpl=y,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new He(3e4,6e4);function Nt(E,y){return E.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:E.tenantId}):y}function St(E,y,v,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(E,y,v,I,H={}){return zn(E,H,(0,s.Z)(function*(){let ne={},We={};I&&("GET"===y?We=I:ne={body:JSON.stringify(I)});const pt=(0,T.xO)(Object.assign({key:E.config.apiKey},We)).slice(1),kt=yield E._getAdditionalHeaders();return kt["Content-Type"]="application/json",E.languageCode&&(kt["X-Firebase-Locale"]=E.languageCode),et.fetch()(Xn(E,E.config.apiHost,v,pt),Object.assign({method:y,headers:kt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function zn(E,y,v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(E,y,v){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},Sn),y);try{const H=new Kn(E),ne=yield Promise.race([v(),H.promise]);H.clearNetworkTimeout();const We=yield ne.json();if("needConfirmation"in We)throw jn(E,"account-exists-with-different-credential",We);if(ne.ok&&!("errorMessage"in We))return We;{const pt=ne.ok?We.errorMessage:We.error.message,[kt,tn]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw jn(E,"credential-already-in-use",We);if("EMAIL_EXISTS"===kt)throw jn(E,"email-already-in-use",We);const $n=I[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw Ve(E,$n,tn);pe(E,$n)}}catch(H){if(H instanceof T.ZR)throw H;pe(E,"network-request-failed")}})).apply(this,arguments)}function pi(E,y,v,I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(E,y,v,I,H={}){const ne=yield St(E,y,v,I,H);return"mfaPendingCredential"in ne&&pe(E,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Xn(E,y,v,I){const H=`${y}${v}?${I}`;return E.config.emulator?Ze(E.config,H):`${E.config.apiScheme}://${H}`}class Kn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(_e(this.auth,"timeout")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(E,y,v){const I={appName:E.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const H=_e(E,y,I);return H.customData._tokenResponse=v,H}function ci(){return(ci=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Bt(E,y){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Vn(E,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Rt(E){if(E)try{const y=new Date(Number(E));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function en(){return(en=(0,s.Z)(function*(E,y=!1){const v=(0,T.m9)(E),I=yield v.getIdToken(y),H=Cn(I);me(H&&H.exp&&H.auth_time&&H.iat,v.auth,"internal-error");const ne="object"==typeof H.firebase?H.firebase:void 0,We=null==ne?void 0:ne.sign_in_provider;return{claims:H,token:I,authTime:Rt(ti(H.auth_time)),issuedAtTime:Rt(ti(H.iat)),expirationTime:Rt(ti(H.exp)),signInProvider:We||null,signInSecondFactor:(null==ne?void 0:ne.sign_in_second_factor)||null}})).apply(this,arguments)}function ti(E){return 1e3*Number(E)}function Cn(E){const[y,v,I]=E.split(".");if(void 0===y||void 0===v||void 0===I)return K("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,T.tV)(v);return H?JSON.parse(H):(K("Failed to decode base64 JWT payload"),null)}catch(H){return K("Caught error parsing JWT payload as JSON",H),null}}function It(E,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(E,y,v=!1){if(v)return y;try{return yield y}catch(I){throw I instanceof T.ZR&&Ji(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}function Ji({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Hi{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,s.Z)(function*(){yield v.iteration()}),I)}iteration(){var y=this;return(0,s.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&y.schedule(!0))}y.schedule()})()}}class En{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rt(this.lastLoginAt),this.creationTime=Rt(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(E){return gr.apply(this,arguments)}function gr(){return(gr=(0,s.Z)(function*(E){var y;const v=E.auth,I=yield E.getIdToken(),H=yield It(E,Vn(v,{idToken:I}));me(null==H?void 0:H.users.length,v,"internal-error");const ne=H.users[0];E._notifyReloadListener(ne);const We=(null===(y=ne.providerUserInfo)||void 0===y?void 0:y.length)?tt(ne.providerUserInfo):[],pt=we(E.providerData,We),$n=!!E.isAnonymous&&!(E.email&&ne.passwordHash||(null==pt?void 0:pt.length)),ji={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:pt,metadata:new En(ne.createdAt,ne.lastLoginAt),isAnonymous:$n};Object.assign(E,ji)})).apply(this,arguments)}function he(){return(he=(0,s.Z)(function*(E){const y=(0,T.m9)(E);yield Dn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function we(E,y){return[...E.filter(I=>!y.some(H=>H.providerId===I.providerId)),...y]}function tt(E){return E.map(y=>{var{providerId:v}=y,I=(0,X._T)(y,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Dt(){return(Dt=(0,s.Z)(function*(E,y){const v=yield zn(E,{},(0,s.Z)(function*(){const I=(0,T.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:H,apiKey:ne}=E.config,We=Xn(E,H,"/v1/token",`key=${ne}`),pt=yield E._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(We,{method:"POST",headers:pt,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){me(y.idToken,"internal-error"),me(void 0!==y.idToken,"internal-error"),me(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(E){const y=Cn(E);return me(y,"internal-error"),me(void 0!==y.exp,"internal-error"),me(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var I=this;return(0,s.Z)(function*(){return me(!I.accessToken||I.refreshToken,y,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var I=this;return(0,s.Z)(function*(){const{accessToken:H,refreshToken:ne,expiresIn:We}=yield function(E,y){return Dt.apply(this,arguments)}(y,v);I.updateTokensAndExpiration(H,ne,Number(We))})()}updateTokensAndExpiration(y,v,I){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,v){const{refreshToken:I,accessToken:H,expirationTime:ne}=v,We=new ke;return I&&(me("string"==typeof I,"internal-error",{appName:y}),We.refreshToken=I),H&&(me("string"==typeof H,"internal-error",{appName:y}),We.accessToken=H),ne&&(me("number"==typeof ne,"internal-error",{appName:y}),We.expirationTime=ne),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return it("not implemented")}}function Ge(E,y){me("string"==typeof E||void 0===E,"internal-error",{appName:y})}class ht{constructor(y){var{uid:v,auth:I,stsTokenManager:H}=y,ne=(0,X._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.metadata=new En(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,s.Z)(function*(){const I=yield It(v,v.stsTokenManager.getToken(v.auth,y));return me(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(y){return function(E){return en.apply(this,arguments)}(this,y)}reload(){return function(E){return he.apply(this,arguments)}(this)}_assign(y){this!==y&&(me(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new ht(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var I=this;return(0,s.Z)(function*(){let H=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),H=!0),v&&(yield Dn(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,s.Z)(function*(){const v=yield y.getIdToken();return yield It(y,function(E,y){return ci.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var I,H,ne,We,pt,kt,tn,$n;const ji=null!==(I=v.displayName)&&void 0!==I?I:void 0,vs=null!==(H=v.email)&&void 0!==H?H:void 0,mo=null!==(ne=v.phoneNumber)&&void 0!==ne?ne:void 0,Uo=null!==(We=v.photoURL)&&void 0!==We?We:void 0,og=null!==(pt=v.tenantId)&&void 0!==pt?pt:void 0,tu=null!==(kt=v._redirectEventId)&&void 0!==kt?kt:void 0,Ku=null!==(tn=v.createdAt)&&void 0!==tn?tn:void 0,ca=null!==($n=v.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:ch,emailVerified:Aa,isAnonymous:Vf,providerData:Yu,stsTokenManager:ka}=v;me(ch&&ka,y,"internal-error");const vl=ke.fromJSON(this.name,ka);me("string"==typeof ch,y,"internal-error"),Ge(ji,y.name),Ge(vs,y.name),me("boolean"==typeof Aa,y,"internal-error"),me("boolean"==typeof Vf,y,"internal-error"),Ge(mo,y.name),Ge(Uo,y.name),Ge(og,y.name),Ge(tu,y.name),Ge(Ku,y.name),Ge(ca,y.name);const Qu=new ht({uid:ch,auth:y,email:vs,emailVerified:Aa,displayName:ji,isAnonymous:Vf,photoURL:Uo,phoneNumber:mo,tenantId:og,stsTokenManager:vl,createdAt:Ku,lastLoginAt:ca});return Yu&&Array.isArray(Yu)&&(Qu.providerData=Yu.map(lc=>Object.assign({},lc))),tu&&(Qu._redirectEventId=tu),Qu}static _fromIdTokenResponse(y,v,I=!1){return(0,s.Z)(function*(){const H=new ke;H.updateFromServerResponse(v);const ne=new ht({uid:v.localId,auth:y,stsTokenManager:H,isAnonymous:I});return yield Dn(ne),ne})()}}const Et=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(v,I){var H=this;return(0,s.Z)(function*(){H.storage[v]=I})()}_get(v){var I=this;return(0,s.Z)(function*(){const H=I.storage[v];return void 0===H?null:H})()}_remove(v){var I=this;return(0,s.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return E.type="NONE",E})();function vt(E,y,v){return`firebase:${E}:${y}:${v}`}class Te{constructor(y,v,I){this.persistence=y,this.auth=v,this.userKey=I;const{config:H,name:ne}=this.auth;this.fullUserKey=vt(this.userKey,H.apiKey,ne),this.fullPersistenceKey=vt("persistence",H.apiKey,ne),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,s.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?ht._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,s.Z)(function*(){if(v.persistence===y)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,I="authUser"){return(0,s.Z)(function*(){if(!v.length)return new Te(ye(Et),y,I);const H=(yield Promise.all(v.map(function(){var tn=(0,s.Z)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let ne=H[0]||ye(Et);const We=vt(I,y.config.apiKey,y.name);let pt=null;for(const tn of v)try{const $n=yield tn._get(We);if($n){const ji=ht._fromJSON(y,$n);tn!==ne&&(pt=ji),ne=tn;break}}catch($n){}const kt=H.filter(tn=>tn._shouldAllowMigration);return ne._shouldAllowMigration&&kt.length?(ne=kt[0],pt&&(yield ne._set(We,pt.toJSON())),yield Promise.all(v.map(function(){var tn=(0,s.Z)(function*($n){if($n!==ne)try{yield $n._remove(We)}catch(ji){}});return function($n){return tn.apply(this,arguments)}}())),new Te(ne,y,I)):new Te(ne,y,I)})()}}function fe(E){const y=E.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Yt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ge(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Qt(y))return"Blackberry";if(mi(y))return"Webos";if(ze(y))return"Safari";if((y.includes("chrome/")||_t(y))&&!y.includes("edge/"))return"Chrome";if(gn(y))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function ge(E=(0,T.z$)()){return/firefox\//i.test(E)}function ze(E=(0,T.z$)()){const y=E.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function _t(E=(0,T.z$)()){return/crios\//i.test(E)}function Yt(E=(0,T.z$)()){return/iemobile/i.test(E)}function gn(E=(0,T.z$)()){return/android/i.test(E)}function Qt(E=(0,T.z$)()){return/blackberry/i.test(E)}function mi(E=(0,T.z$)()){return/webos/i.test(E)}function ei(E=(0,T.z$)()){return/iphone|ipad|ipod/i.test(E)}function ui(E=(0,T.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Vr(E=(0,T.z$)()){return ei(E)||gn(E)||mi(E)||Qt(E)||/windows phone/i.test(E)||Yt(E)}function no(E,y=[]){let v;switch(E){case"Browser":v=fe((0,T.z$)());break;case"Worker":v=`${fe((0,T.z$)())}-${E}`;break;default:v=E}const I=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${F.SDK_VERSION}/${I}`}class zi{constructor(y,v){this.app=y,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(y,v){var I=this;return v&&(this._popupRedirectResolver=ye(v)),this._initializationPromise=this.queue((0,s.Z)(function*(){var H,ne;if(!I._deleted&&(I.persistenceManager=yield Te.create(I,y),!I._deleted)){if(null===(H=I._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(We){}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(ne=I.currentUser)||void 0===ne?void 0:ne.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,s.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v)}})()}initializeCurrentUser(y){var v=this;return(0,s.Z)(function*(){var I;let H=yield v.assertedPersistence.getCurrentUser();if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ne=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,We=null==H?void 0:H._redirectEventId,pt=yield v.tryRedirectSignIn(y);(!ne||ne===We)&&(null==pt?void 0:pt.user)&&(H=pt.user)}return H?H._redirectEventId?(me(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===H._redirectEventId?v.directlySetCurrentUser(H):v.reloadAndSetCurrentUserOrClear(H)):v.reloadAndSetCurrentUserOrClear(H):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var v=this;return(0,s.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(H){yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,s.Z)(function*(){try{yield Dn(y)}catch(I){if("auth/network-request-failed"!==I.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var y=this;return(0,s.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,s.Z)(function*(){const I=y?(0,T.m9)(y):null;return I&&me(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(y){var v=this;return(0,s.Z)(function*(){if(!v._deleted)return y&&me(v.tenantId===y.tenantId,v,"tenant-id-mismatch"),v.queue((0,s.Z)(function*(){yield v.directlySetCurrentUser(y),v.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,s.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var v=this;return this.queue((0,s.Z)(function*(){yield v.assertedPersistence.setPersistence(ye(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new T.LL("auth","Firebase",y())}onAuthStateChanged(y,v,I){return this.registerStateListener(this.authStateSubscription,y,v,I)}onIdTokenChanged(y,v,I){return this.registerStateListener(this.idTokenSubscription,y,v,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var I=this;return(0,s.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(v);return null===y?H.removeCurrentUser():H.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,s.Z)(function*(){if(!v.redirectPersistenceManager){const I=y&&ye(y)||v._popupRedirectResolver;me(I,v,"argument-error"),v.redirectPersistenceManager=yield Te.create(v,[ye(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,s.Z)(function*(){var I,H;return v._isInitialized&&(yield v.queue((0,s.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===y?v._currentUser:(null===(H=v.redirectUser)||void 0===H?void 0:H._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,s.Z)(function*(){if(y===v.currentUser)return v.queue((0,s.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,I,H){if(this._deleted)return()=>{};const ne="function"==typeof v?v:v.next.bind(v),We=this._isInitialized?Promise.resolve():this._initializationPromise;return me(We,this,"internal-error"),We.then(()=>ne(this.currentUser)),"function"==typeof v?y.addObserver(v,I,H):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,s.Z)(function*(){v.currentUser&&v.currentUser!==y&&(v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh()),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=no(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,s.Z)(function*(){const v={"X-Client-Version":y.clientVersion};return y.app.options.appId&&(v["X-Firebase-gmpid"]=y.app.options.appId),v})()}}function sr(E){return(0,T.m9)(E)}class Ar{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,T.ne)(v=>this.observer=v)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ce(E,y,v){const I=sr(E);me(I._canInitEmulator,I,"emulator-config-failed"),me(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const H=!!(null==v?void 0:v.disableWarnings),ne=Ue(y),{host:We,port:pt}=function(E){const y=Ue(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(y.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const ne=H[1];return{host:ne,port:Lt(I.substr(ne.length+1))}}{const[ne,We]=I.split(":");return{host:ne,port:Lt(We)}}}(y);I.config.emulator={url:`${ne}//${We}${null===pt?"":`:${pt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:We,port:pt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function(){function E(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Ue(E){const y=E.indexOf(":");return y<0?"":E.substr(0,y+1)}function Lt(E){if(!E)return null;const y=Number(E);return isNaN(y)?null:y}class cn{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return it("not implemented")}_getIdTokenResponse(y){return it("not implemented")}_linkToIdToken(y,v){return it("not implemented")}_getReauthenticationResolver(y){return it("not implemented")}}function Ci(E,y){return In.apply(this,arguments)}function In(){return(In=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:resetPassword",Nt(E,y))})).apply(this,arguments)}function Ds(E,y){return io.apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function xn(E,y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:update",Nt(E,y))})).apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithPassword",Nt(E,y))})).apply(this,arguments)}function mr(E,y){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:sendOobCode",Nt(E,y))})).apply(this,arguments)}function el(E,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(E,y){return mr(E,y)})).apply(this,arguments)}function gs(E,y){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(E,y){return mr(E,y)})).apply(this,arguments)}function Rc(E,y){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(E,y){return mr(E,y)})).apply(this,arguments)}function As(E,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,s.Z)(function*(E,y){return mr(E,y)})).apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithEmailLink",Nt(E,y))})).apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithEmailLink",Nt(E,y))})).apply(this,arguments)}class yr extends cn{constructor(y,v,I,H=null){super("password",I),this._email=y,this._password=v,this._tenantId=H}static _fromEmailAndPassword(y,v){return new yr(y,v,"password")}static _fromEmailAndCode(y,v,I=null){return new yr(y,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,s.Z)(function*(){switch(v.signInMethod){case"password":return function(E,y){return Wl.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,y){return so.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:pe(y,"internal-error")}})()}_linkToIdToken(y,v){var I=this;return(0,s.Z)(function*(){switch(I.signInMethod){case"password":return Ds(y,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(E,y){return xi.apply(this,arguments)}(y,{idToken:v,email:I._email,oobCode:I._password});default:pe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function oo(E,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithIdp",Nt(E,y))})).apply(this,arguments)}class ao extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new ao(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):pe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:H}=v,ne=(0,X._T)(v,["providerId","signInMethod"]);if(!I||!H)return null;const We=new ao(I,H);return We.idToken=ne.idToken||void 0,We.accessToken=ne.accessToken||void 0,We.secret=ne.secret,We.nonce=ne.nonce,We.pendingToken=ne.pendingToken||null,We}_getIdTokenResponse(y){return oo(y,this.buildRequest())}_linkToIdToken(y,v){const I=this.buildRequest();return I.idToken=v,oo(y,I)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,oo(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,T.xO)(v)}return y}}function df(E,y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:sendVerificationCode",Nt(E,y))})).apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithPhoneNumber",Nt(E,y))})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(E,y){const v=yield pi(E,"POST","/v1/accounts:signInWithPhoneNumber",Nt(E,y));if(v.temporaryProof)throw jn(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const r_={USER_NOT_FOUND:"user-not-found"};function Pc(){return(Pc=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithPhoneNumber",Nt(E,Object.assign(Object.assign({},y),{operation:"REAUTH"})),r_)})).apply(this,arguments)}class il extends cn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new il({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new il({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function(E,y){return Du.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function(E,y){return ku.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(E,y){return Pc.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:I,verificationCode:H}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:I,code:H}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:I,phoneNumber:H,temporaryProof:ne}=y;return I||v||H||ne?new il({verificationId:v,verificationCode:I,phoneNumber:H,temporaryProof:ne}):null}}class Nc{constructor(y){var v,I,H,ne,We,pt;const kt=(0,T.zd)((0,T.pd)(y)),tn=null!==(v=kt.apiKey)&&void 0!==v?v:null,$n=null!==(I=kt.oobCode)&&void 0!==I?I:null,ji=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=kt.mode)&&void 0!==H?H:null);me(tn&&$n&&ji,"argument-error"),this.apiKey=tn,this.operation=ji,this.code=$n,this.continueUrl=null!==(ne=kt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(We=kt.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(pt=kt.tenantId)&&void 0!==pt?pt:null}static parseLink(y){const v=function(E){const y=(0,T.zd)((0,T.pd)(E)).link,v=y?(0,T.zd)((0,T.pd)(y)).deep_link_id:null,I=(0,T.zd)((0,T.pd)(E)).deep_link_id;return(I?(0,T.zd)((0,T.pd)(I)).link:null)||I||v||y||E}(y);try{return new Nc(v)}catch(I){return null}}}let Ko=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,I){return yr._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const H=Nc.parseLink(I);return me(H,"argument-error"),yr._fromEmailAndCode(v,H.code,H.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ao{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class rl extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class $l extends rl{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return me("providerId"in v&&"signInMethod"in v,"argument-error"),ao._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return me(y.idToken||y.accessToken,"argument-error"),ao._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return $l.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return $l.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:ne,nonce:We,providerId:pt}=y;if(!I&&!H&&!v&&!ne||!pt)return null;try{return new $l(pt)._credential({idToken:v,accessToken:I,nonce:We,pendingToken:ne})}catch(kt){return null}}}let ba=(()=>{class E extends rl{constructor(){super("facebook.com")}static credential(v){return ao._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(I){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Fc=(()=>{class E extends rl{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return ao._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:H}=v;if(!I&&!H)return null;try{return E.credential(I,H)}catch(ne){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ri=(()=>{class E extends rl{constructor(){super("github.com")}static credential(v){return ao._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(I){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class wa extends cn{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return oo(y,this.buildRequest())}_linkToIdToken(y,v){const I=this.buildRequest();return I.idToken=v,oo(y,I)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,oo(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:H,pendingToken:ne}=v;return I&&H&&ne&&I===H?new wa(I,ne):null}static _create(y,v){return new wa(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yo extends Ao{constructor(y){me(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Yo.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Yo.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=wa.fromJSON(y);return me(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:I}=y;if(!v||!I)return null;try{return wa._create(I,v)}catch(H){return null}}}let Lc=(()=>{class E extends rl{constructor(){super("twitter.com")}static credential(v,I){return ao._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=v;if(!I||!H)return null;try{return E.credential(I,H)}catch(ne){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function ff(E,y){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signUp",Nt(E,y))})).apply(this,arguments)}class qr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,I,H=!1){return(0,s.Z)(function*(){const ne=yield ht._fromIdTokenResponse(y,I,H),We=ns(I);return new qr({user:ne,providerId:We,_tokenResponse:I,operationType:v})})()}static _forOperation(y,v,I){return(0,s.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const H=ns(I);return new qr({user:y,providerId:H,_tokenResponse:I,operationType:v})})()}}function ns(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function kr(E){return ko.apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(E){var y;const v=sr(E);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new qr({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield ff(v,{returnSecureToken:!0}),H=yield qr._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(H.user),H})).apply(this,arguments)}class lo extends T.ZR{constructor(y,v,I,H){var ne;super(v.code,v.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,lo.prototype),this.customData={appName:y.name,tenantId:null!==(ne=y.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(y,v,I,H){return new lo(y,v,I,H)}}function Mu(E,y,v,I){return("reauthenticate"===y?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?lo._fromErrorAndOperation(E,ne,y,I):ne})}function sl(E){return new Set(E.map(({providerId:y})=>y).filter(y=>!!y))}function vr(E,y){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(E,y){const v=(0,T.m9)(E);yield Fi(!0,v,y);const{providerUserInfo:I}=yield Bt(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),H=sl(I||[]);return v.providerData=v.providerData.filter(ne=>H.has(ne.providerId)),H.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function co(E,y){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,s.Z)(function*(E,y,v=!1){const I=yield It(E,y._linkToIdToken(E.auth,yield E.getIdToken()),v);return qr._forOperation(E,"link",I)})).apply(this,arguments)}function Fi(E,y,v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(E,y,v){yield Dn(y);const H=!1===E?"provider-already-linked":"no-such-provider";me(sl(y.providerData).has(v)===E,y.auth,H)})).apply(this,arguments)}function ol(E,y){return br.apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(E,y,v=!1){const{auth:I}=E,H="reauthenticate";try{const ne=yield It(E,Mu(I,H,y,E),v);me(ne.idToken,I,"internal-error");const We=Cn(ne.idToken);me(We,I,"internal-error");const{sub:pt}=We;return me(E.uid===pt,I,"user-mismatch"),qr._forOperation(E,H,ne)}catch(ne){throw"auth/user-not-found"===(null==ne?void 0:ne.code)&&pe(I,"user-mismatch"),ne}})).apply(this,arguments)}function Ur(E,y){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(E,y,v=!1){const I="signIn",H=yield Mu(E,I,y),ne=yield qr._fromIdTokenResponse(E,I,H);return v||(yield E._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function te(E,y){return Se.apply(this,arguments)}function Se(){return(Se=(0,s.Z)(function*(E,y){return Ur(sr(E),y)})).apply(this,arguments)}function $e(E,y){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(E,y){const v=(0,T.m9)(E);return yield Fi(!1,v,y.providerId),co(v,y)})).apply(this,arguments)}function Ft(E,y){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(E,y){return ol((0,T.m9)(E),y)})).apply(this,arguments)}function Gn(E,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,s.Z)(function*(E,y){return pi(E,"POST","/v1/accounts:signInWithCustomToken",Nt(E,y))})).apply(this,arguments)}function qi(E,y){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(E,y){const v=sr(E),I=yield Gn(v,{token:y,returnSecureToken:!0}),H=yield qr._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(H.user),H})).apply(this,arguments)}class Hs{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?zs._fromServerResponse(y,v):pe(y,"internal-error")}}class zs extends Hs{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new zs(v)}}function ms(E,y,v){var I;me((null===(I=v.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),me(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(me(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(me(v.android.packageName.length>0,E,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function al(E,y,v){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E),H={requestType:"PASSWORD_RESET",email:y};v&&ms(I,H,v),yield gs(I,H)})).apply(this,arguments)}function ho(E,y,v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(E,y,v){yield Ci((0,T.m9)(E),{oobCode:y,newPassword:v})})).apply(this,arguments)}function ut(E,y){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(E,y){yield xn((0,T.m9)(E),{oobCode:y})})).apply(this,arguments)}function ll(E,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,s.Z)(function*(E,y){const v=(0,T.m9)(E),I=yield Ci(v,{oobCode:y}),H=I.requestType;switch(me(H,v,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(I.mfaInfo,v,"internal-error");default:me(I.email,v,"internal-error")}let ne=null;return I.mfaInfo&&(ne=Hs._fromServerResponse(sr(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ne},operation:H}})).apply(this,arguments)}function Yp(E,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(E,y){const{data:v}=yield ll((0,T.m9)(E),y);return v.email})).apply(this,arguments)}function ks(E,y,v){return jl.apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(E,y,v){const I=sr(E),H=yield ff(I,{returnSecureToken:!0,email:y,password:v}),ne=yield qr._fromIdTokenResponse(I,"signIn",H);return yield I._updateCurrentUser(ne.user),ne})).apply(this,arguments)}function Hd(E,y,v){return te((0,T.m9)(E),Ko.credential(y,v))}function a_(E,y,v){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E),H={requestType:"EMAIL_SIGNIN",email:y};me(v.handleCodeInApp,I,"argument-error"),v&&ms(I,H,v),yield Rc(I,H)})).apply(this,arguments)}function Bc(E,y){const v=Nc.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Ea(E,y,v){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E),H=Ko.credentialWithLink(y,v||De());return me(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),te(I,H)})).apply(this,arguments)}function Jo(E,y){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:createAuthUri",Nt(E,y))})).apply(this,arguments)}function Uc(E,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(E,y){const I={identifier:y,continueUri:ct()?De():"http://localhost"},{signinMethods:H}=yield Jo((0,T.m9)(E),I);return H||[]})).apply(this,arguments)}function l_(E,y){return zd.apply(this,arguments)}function zd(){return(zd=(0,s.Z)(function*(E,y){const v=(0,T.m9)(E),H={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};y&&ms(v.auth,H,y);const{email:ne}=yield el(v.auth,H);ne!==E.email&&(yield E.reload())})).apply(this,arguments)}function Hc(E,y,v){return pf.apply(this,arguments)}function pf(){return(pf=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:y};v&&ms(I.auth,ne,v);const{email:We}=yield As(I.auth,ne);We!==E.email&&(yield E.reload())})).apply(this,arguments)}function gf(E,y){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,s.Z)(function*(E,y){return St(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function mf(E,y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(E,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const I=(0,T.m9)(E),ne={idToken:yield I.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},We=yield It(I,gf(I.auth,ne));I.displayName=We.displayName||null,I.photoURL=We.photoUrl||null;const pt=I.providerData.find(({providerId:kt})=>"password"===kt);pt&&(pt.displayName=I.displayName,pt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(We)})).apply(this,arguments)}function _f(E,y){return Wd((0,T.m9)(E),y,null)}function Qp(E,y){return Wd((0,T.m9)(E),null,y)}function Wd(E,y,v){return $d.apply(this,arguments)}function $d(){return($d=(0,s.Z)(function*(E,y,v){const{auth:I}=E,ne={idToken:yield E.getIdToken(),returnSecureToken:!0};y&&(ne.email=y),v&&(ne.password=v);const We=yield It(E,Ds(I,ne));yield E._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class Kr{constructor(y,v,I={}){this.isNewUser=y,this.providerId=v,this.profile=I}}class jd extends Kr{constructor(y,v,I,H){super(y,v,I),this.username=H}}class yf extends Kr{constructor(y,v){super(y,"facebook.com",v)}}class Py extends jd{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Jp extends Kr{constructor(y,v){super(y,"google.com",v)}}class er extends jd{constructor(y,v,I){super(y,"twitter.com",v,I)}}function cl(E){const{user:y,_tokenResponse:v}=E;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var y,v;if(!E)return null;const{providerId:I}=E,H=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ne=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&(null==E?void 0:E.idToken)){const We=null===(v=null===(y=Cn(E.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(We)return new Kr(ne,"anonymous"!==We&&"custom"!==We?We:null)}if(!I)return null;switch(I){case"facebook.com":return new yf(ne,H);case"github.com":return new Py(ne,H);case"google.com":return new Jp(ne,H);case"twitter.com":return new er(ne,H,E.screenName||null);case"custom":case"anonymous":return new Kr(ne,null);default:return new Kr(ne,I,H)}}(v)}function rt(E,y,v,I){return(0,T.m9)(E).onAuthStateChanged(y,v,I)}class Yn{constructor(y,v){this.type=y,this.credential=v}static _fromIdtoken(y){return new Yn("enroll",y)}static _fromMfaPendingCredential(y){return new Yn("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,I;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Yn._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return Yn._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Zl{constructor(y,v,I){this.session=y,this.hints=v,this.signInResolver=I}static _fromError(y,v){const I=sr(y),H=v.customData._serverResponse,ne=(H.mfaInfo||[]).map(pt=>Hs._fromServerResponse(I,pt));me(H.mfaPendingCredential,I,"internal-error");const We=Yn._fromMfaPendingCredential(H.mfaPendingCredential);return new Zl(We,ne,function(){var pt=(0,s.Z)(function*(kt){const tn=yield kt._process(I,We);delete H.mfaInfo,delete H.mfaPendingCredential;const $n=Object.assign(Object.assign({},H),{idToken:tn.idToken,refreshToken:tn.refreshToken});switch(v.operationType){case"signIn":const ji=yield qr._fromIdTokenResponse(I,v.operationType,$n);return yield I._updateCurrentUser(ji.user),ji;case"reauthenticate":return me(v.user,I,"internal-error"),qr._forOperation(v.user,v.operationType,$n);default:pe(I,"internal-error")}});return function(kt){return pt.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,s.Z)(function*(){return v.signInResolver(y)})()}}function Xp(E,y){var v;const I=(0,T.m9)(E),H=y;return me(y.customData.operationType,I,"argument-error"),me(null===(v=H.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),Zl._fromError(I,H)}function fo(E,y){return St(E,"POST","/v2/accounts/mfaEnrollment:start",Nt(E,y))}class Oo{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>Hs._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new Oo(y)}getSession(){var y=this;return(0,s.Z)(function*(){return Yn._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,v){var I=this;return(0,s.Z)(function*(){const H=y,ne=yield I.getSession(),We=yield It(I.user,H._process(I.user.auth,ne,v));return yield I.user._updateTokensIfNecessary(We),I.user.reload()})()}unenroll(y){var v=this;return(0,s.Z)(function*(){const I="string"==typeof y?y:y.uid,H=yield v.user.getIdToken(),ne=yield It(v.user,function(E,y){return St(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(E,y))}(v.user.auth,{idToken:H,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:We})=>We!==I),yield v.user._updateTokensIfNecessary(ne);try{yield v.user.reload()}catch(We){if("auth/user-token-expired"!==We.code)throw We}})()}}const Pu=new WeakMap;function vf(E){const y=(0,T.m9)(E);return Pu.has(y)||Pu.set(y,Oo._fromUser(y)),Pu.get(y)}const Qn="__sak";class bf{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Qn,"1"),this.storage.removeItem(Qn),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Li=(()=>{class E extends bf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,T.z$)();return ze(E)||ei(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Vr(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),ne=this.localCache[I];H!==ne&&v(I,ne,H)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((pt,kt,tn)=>{this.notifyListeners(pt,tn)});const H=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem(H);if(v.newValue!==pt)null!==v.newValue?this.storage.setItem(H,v.newValue):this.storage.removeItem(H);else if(this.localCache[H]===v.newValue&&!I)return}const ne=()=>{const pt=this.storage.getItem(H);!I&&this.localCache[H]===pt||this.notifyListeners(H,pt)},We=this.storage.getItem(H);(0,T.w1)()&&10===document.documentMode&&We!==v.newValue&&v.newValue!==v.oldValue?setTimeout(ne,10):ne()}notifyListeners(v,I){this.localCache[v]=I;const H=this.listeners[v];if(H)for(const ne of Array.from(H))ne(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var H=()=>super._set,ne=this;return(0,s.Z)(function*(){yield H().call(ne,v,I),ne.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,H=this;return(0,s.Z)(function*(){const ne=yield I().call(H,v);return H.localCache[v]=JSON.stringify(ne),ne})()}_remove(v){var I=()=>super._remove,H=this;return(0,s.Z)(function*(){yield I().call(H,v),delete H.localCache[v]})()}}return E.type="LOCAL",E})(),Bn=(()=>{class E extends bf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return E.type="SESSION",E})();let Ms=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(ne=>ne.isListeningto(v));if(I)return I;const H=new E(v);return this.receivers.push(H),H}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,s.Z)(function*(){const H=v,{eventId:ne,eventType:We,data:pt}=H.data,kt=I.handlersMap[We];if(!(null==kt?void 0:kt.size))return;H.ports[0].postMessage({status:"ack",eventId:ne,eventType:We});const tn=Array.from(kt).map(function(){var ji=(0,s.Z)(function*(vs){return vs(H.origin,pt)});return function(vs){return ji.apply(this,arguments)}}()),$n=yield function(E){return Promise.all(E.map(function(){var y=(0,s.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return y.apply(this,arguments)}}()))}(tn);H.ports[0].postMessage({status:"done",eventId:ne,eventType:We,response:$n})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function po(E="",y=10){let v="";for(let I=0;I<y;I++)v+=Math.floor(10*Math.random());return E+v}class ea{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,I=50){var H=this;return(0,s.Z)(function*(){const ne="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let We,pt;return new Promise((kt,tn)=>{const $n=po("",20);ne.port1.start();const ji=setTimeout(()=>{tn(new Error("unsupported_event"))},I);pt={messageChannel:ne,onMessage(vs){const mo=vs;if(mo.data.eventId===$n)switch(mo.data.status){case"ack":clearTimeout(ji),We=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),kt(mo.data.response);break;default:clearTimeout(ji),clearTimeout(We),tn(new Error("invalid_response"))}}},H.handlers.add(pt),ne.port1.addEventListener("message",pt.onMessage),H.target.postMessage({eventType:y,eventId:$n,data:v},[ne.port2])}).finally(()=>{pt&&H.removeMessageHandler(pt)})})()}}function si(){return window}function zc(){return void 0!==si().WorkerGlobalScope&&"function"==typeof si().importScripts}function Ai(){return(Ai=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const Cf="firebaseLocalStorageDb",Po="firebaseLocalStorage",Kl="fbase_key";class hl{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function na(E,y){return E.transaction([Po],y?"readwrite":"readonly").objectStore(Po)}function Ef(){const E=indexedDB.open(Cf,1);return new Promise((y,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(Po,{keyPath:Kl})}catch(H){v(H)}}),E.addEventListener("success",(0,s.Z)(function*(){const I=E.result;I.objectStoreNames.contains(Po)?y(I):(I.close(),yield function(){const E=indexedDB.deleteDatabase(Cf);return new hl(E).toPromise()}(),y(yield Ef()))}))})}function Nu(E,y,v){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(E,y,v){const I=na(E,!0).put({[Kl]:y,value:v});return new hl(I).toPromise()})).apply(this,arguments)}function Zd(){return(Zd=(0,s.Z)(function*(E,y){const v=na(E,!1).get(y),I=yield new hl(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function un(E,y){const v=na(E,!0).delete(y);return new hl(v).toPromise()}const jc=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.Z)(function*(){return v.db||(v.db=yield Ef()),v.db})()}_withRetries(v){var I=this;return(0,s.Z)(function*(){let H=0;for(;;)try{const ne=yield I._openDb();return yield v(ne)}catch(ne){if(H++>3)throw ne;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.Z)(function*(){return zc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.Z)(function*(){v.receiver=Ms._getInstance(zc()?self:null),v.receiver._subscribe("keyChanged",function(){var I=(0,s.Z)(function*(H,ne){return{keyProcessed:(yield v._poll()).includes(ne.key)}});return function(H,ne){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,s.Z)(function*(H,ne){return["keyChanged"]});return function(H,ne){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.Z)(function*(){var I,H;if(v.activeServiceWorker=yield function(){return Ai.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ea(v.activeServiceWorker);const ne=yield v.sender._send("ping",{},800);!ne||(null===(I=ne[0])||void 0===I?void 0:I.fulfilled)&&(null===(H=ne[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,s.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Ef();return yield Nu(v,Qn,"1"),yield un(v,Qn),!0}catch(v){}return!1})()}_withPendingWrite(v){var I=this;return(0,s.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var H=this;return(0,s.Z)(function*(){return H._withPendingWrite((0,s.Z)(function*(){return yield H._withRetries(ne=>Nu(ne,v,I)),H.localCache[v]=I,H.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,s.Z)(function*(){const H=yield I._withRetries(ne=>function(E,y){return Zd.apply(this,arguments)}(ne,v));return I.localCache[v]=H,H})()}_remove(v){var I=this;return(0,s.Z)(function*(){return I._withPendingWrite((0,s.Z)(function*(){return yield I._withRetries(H=>un(H,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.Z)(function*(){const I=yield v._withRetries(We=>{const pt=na(We,!1).getAll();return new hl(pt).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const H=[],ne=new Set;for(const{fbase_key:We,value:pt}of I)ne.add(We),JSON.stringify(v.localCache[We])!==JSON.stringify(pt)&&(v.notifyListeners(We,pt),H.push(We));for(const We of Object.keys(v.localCache))v.localCache[We]&&!ne.has(We)&&(v.notifyListeners(We,null),H.push(We));return H})()}notifyListeners(v,I){this.localCache[v]=I;const H=this.listeners[v];if(H)for(const ne of Array.from(H))ne(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function xf(E,y){return St(E,"POST","/v2/accounts/mfaSignIn:start",Nt(E,y))}function gl(){return(gl=(0,s.Z)(function*(E){return(yield St(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ys(E){return new Promise((y,v)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=y,I.onerror=H=>{const ne=_e("internal-error");ne.customData=H,v(ne)},I.type="text/javascript",I.charset="UTF-8",function(){var E,y;return null!==(y=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==y?y:document}().appendChild(I)})}function Gs(E){return`__${E}${Math.floor(1e6*Math.random())}`}const is=1e12;class Tf{constructor(y){this.auth=y,this.counter=is,this._widgets=new Map}render(y,v){const I=this.counter;return this._widgets.set(I,new xa(y,this.auth.name,v||{})),this.counter++,I}reset(y){var v;const I=y||is;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(y){var v;return(null===(v=this._widgets.get(y||is))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,s.Z)(function*(){var I;return null===(I=v._widgets.get(y||is))||void 0===I||I.execute(),""})()}}class xa{constructor(y,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof y?document.getElementById(y):y;me(H,"argument-error",{appName:v}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}();const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qd=Gs("rcb"),G=new He(3e4,6e4);class Yl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!si().grecaptcha}load(y,v=""){return me((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(si().grecaptcha):new Promise((I,H)=>{const ne=si().setTimeout(()=>{H(_e(y,"network-request-failed"))},G.get());si()[qd]=()=>{si().clearTimeout(ne),delete si()[qd];const pt=si().grecaptcha;if(!pt)return void H(_e(y,"internal-error"));const kt=pt.render;pt.render=(tn,$n)=>{const ji=kt(tn,$n);return this.counter++,ji},this.hostLanguage=v,I(pt)},ys(`https://www.google.com/recaptcha/api.js??${(0,T.xO)({onload:qd,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ne),H(_e(y,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!si().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jn{load(y){return(0,s.Z)(function*(){return new Tf(y)})()}clearedOneInstance(){}}const d_="recaptcha",h_={theme:"light",type:"image"};class Fy{constructor(y,v=Object.assign({},h_),I){this.parameters=v,this.type=d_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sr(I),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof y?document.getElementById(y):y;me(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jn:new Yl,this.validateStartingState()}verify(){var y=this;return(0,s.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(v)||new Promise(ne=>{const We=pt=>{!pt||(y.tokenChangeListeners.delete(We),ne(pt))};y.tokenChangeListeners.add(We),y.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof y)y(v);else if("string"==typeof y){const I=si()[y];"function"==typeof I&&I(v)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,s.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,s.Z)(function*(){me(ct()&&!zc(),y.auth,"internal-error"),yield function(){let E=null;return new Promise(y=>{"complete"!==document.readyState?(E=()=>y(),window.addEventListener("load",E)):y()}).catch(y=>{throw E&&window.removeEventListener("load",E),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function(E){return gl.apply(this,arguments)}(y.auth);me(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tg{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=il._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function wr(E,y,v){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(E,y,v){const I=sr(E),H=yield Vi(I,y,(0,T.m9)(v));return new tg(H,ne=>te(I,ne))})).apply(this,arguments)}function Lu(E,y,v){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E);yield Fi(!1,I,"phone");const H=yield Vi(I.auth,y,(0,T.m9)(v));return new tg(H,ne=>$e(I,ne))})).apply(this,arguments)}function Ta(E,y,v){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E),H=yield Vi(I.auth,y,(0,T.m9)(v));return new tg(H,ne=>Ft(I,ne))})).apply(this,arguments)}function Vi(E,y,v){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,s.Z)(function*(E,y,v){var I;const H=yield v.verify();try{let ne;if(me("string"==typeof H,E,"argument-error"),me(v.type===d_,E,"argument-error"),ne="string"==typeof y?{phoneNumber:y}:y,"session"in ne){const We=ne.session;if("phoneNumber"in ne)return me("enroll"===We.type,E,"internal-error"),(yield fo(E,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{me("signin"===We.type,E,"internal-error");const pt=(null===(I=ne.multiFactorHint)||void 0===I?void 0:I.uid)||ne.multiFactorUid;return me(pt,E,"missing-multi-factor-info"),(yield xf(E,{mfaPendingCredential:We.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield df(E,{phoneNumber:ne.phoneNumber,recaptchaToken:H});return We}}finally{v._reset()}})).apply(this,arguments)}function ml(E,y){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(E,y){yield co((0,T.m9)(E),y)})).apply(this,arguments)}let ra=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=sr(v)}verifyPhoneNumber(v,I){return Vi(this.auth,v,(0,T.m9)(I))}static credential(v,I){return il._fromVerification(v,I)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:H}=v;return I&&H?il._fromTokenResponse(I,H):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Jl(E,y){return y?ye(y):(me(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Fo extends cn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return oo(y,this._buildIdpRequest())}_linkToIdToken(y,v){return oo(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return oo(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function ng(E){return Ur(E.auth,new Fo(E),E.bypassAuthState)}function Vu(E){const{auth:y,user:v}=E;return me(v,y,"internal-error"),ol(v,new Fo(E),E.bypassAuthState)}function If(E){return ar.apply(this,arguments)}function ar(){return(ar=(0,s.Z)(function*(E){const{auth:y,user:v}=E;return me(v,y,"internal-error"),co(v,new Fo(E),E.bypassAuthState)})).apply(this,arguments)}class Yd{constructor(y,v,I,H,ne=!1){this.auth=y,this.resolver=I,this.user=H,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,s.Z)(function*(I,H){y.pendingPromise={resolve:I,reject:H};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(ne){y.reject(ne)}});return function(I,H){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,s.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:ne,tenantId:We,error:pt,type:kt}=y;if(pt)return void v.reject(pt);const tn={auth:v.auth,requestUri:I,sessionId:H,tenantId:We||void 0,postBody:ne||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(kt)(tn))}catch($n){v.reject($n)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ng;case"linkViaPopup":case"linkViaRedirect":return If;case"reauthViaPopup":case"reauthViaRedirect":return Vu;default:pe(this.auth,"internal-error")}}resolve(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kc=new He(2e3,1e4);function sa(E,y,v){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,s.Z)(function*(E,y,v){const I=sr(E);Re(E,y,Ao);const H=Jl(I,v);return new Xd(I,"signInViaPopup",y,H).executeNotNull()})).apply(this,arguments)}function f_(E,y,v){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E);Re(I.auth,y,Ao);const H=Jl(I.auth,v);return new Xd(I.auth,"reauthViaPopup",y,H,I).executeNotNull()})).apply(this,arguments)}function ig(E,y,v){return Df.apply(this,arguments)}function Df(){return(Df=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E);Re(I.auth,y,Ao);const H=Jl(I.auth,v);return new Xd(I.auth,"linkViaPopup",y,H,I).executeNotNull()})).apply(this,arguments)}let Xd=(()=>{class E extends Yd{constructor(v,I,H,ne,We){super(v,I,ne,We),this.provider=H,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.Z)(function*(){const I=yield v.execute();return me(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,s.Z)(function*(){ve(1===v.filter.length,"Popup operations only handle one event");const I=po();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(H=>{v.reject(H)}),v.resolver._isIframeWebStorageSupported(v.auth,H=>{H||v.reject(_e(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,H;this.pollId=(null===(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Kc.get())};v()}}return E.currentPopupAction=null,E})();const Xl=new Map;class Bu extends Yd{constructor(y,v,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,s.Z)(function*(){let I=Xl.get(v.auth._key());if(!I){try{const ne=(yield function(E,y){return Lo.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;I=()=>Promise.resolve(ne)}catch(H){I=()=>Promise.reject(H)}Xl.set(v.auth._key(),I)}return v.bypassAuthState||Xl.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,I=this;return(0,s.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(I,y);if("unknown"!==y.type){if(y.eventId){const H=yield I.auth._redirectUserForId(y.eventId);if(H)return I.user=H,v().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Lo(){return(Lo=(0,s.Z)(function*(E,y){const v=oa(y),I=rg(E);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(v));return yield I._remove(v),H})).apply(this,arguments)}function qs(E,y){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(E,y){return rg(E)._set(oa(y),"true")})).apply(this,arguments)}function eh(){Xl.clear()}function rg(E){return ye(E._redirectPersistence)}function oa(E){return vt("pendingRedirect",E.config.apiKey,E.name)}function th(E,y,v){return function(E,y,v){return Mr.apply(this,arguments)}(E,y,v)}function Mr(){return(Mr=(0,s.Z)(function*(E,y,v){const I=sr(E);Re(E,y,Ao);const H=Jl(I,v);return yield qs(H,I),H._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function kf(E,y,v){return function(E,y,v){return Er.apply(this,arguments)}(E,y,v)}function Er(){return(Er=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E);Re(I.auth,y,Ao);const H=Jl(I.auth,v);yield qs(H,I.auth);const ne=yield Qi(I);return H._openRedirect(I.auth,y,"reauthViaRedirect",ne)})).apply(this,arguments)}function tr(E,y,v){return function(E,y,v){return Yc.apply(this,arguments)}(E,y,v)}function Yc(){return(Yc=(0,s.Z)(function*(E,y,v){const I=(0,T.m9)(E);Re(I.auth,y,Ao);const H=Jl(I.auth,v);yield Fi(!1,I,y.providerId),yield qs(H,I.auth);const ne=yield Qi(I);return H._openRedirect(I.auth,y,"linkViaRedirect",ne)})).apply(this,arguments)}function Uu(E,y){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(E,y){return yield sr(E)._initializationPromise,nh(E,y,!1)})).apply(this,arguments)}function nh(E,y){return ih.apply(this,arguments)}function ih(){return(ih=(0,s.Z)(function*(E,y,v=!1){const I=sr(E),H=Jl(I,y),We=yield new Bu(I,H,v).execute();return We&&!v&&(delete We.user._redirectEventId,yield I._persistUserIfCurrent(We.user),yield I._setRedirectUser(null,y)),We})).apply(this,arguments)}function Qi(E){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(E){const y=po(`${E.uid}:::`);return E._redirectEventId=y,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),y})).apply(this,arguments)}class Qr{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(v=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return go(E);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var I;if(y.error&&!go(y)){const H=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(_e(this.auth,H))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const I=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nc(y))}saveEventToCache(y){this.cachedEventUids.add(nc(y)),this.lastProcessedEventTime=Date.now()}}function nc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(y=>y).join("-")}function go({type:E,error:y}){return"unknown"===E&&"auth/no-auth-event"===(null==y?void 0:y.code)}function aa(E){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(E,y={}){return St(E,"GET","/v1/projects",y)})).apply(this,arguments)}const Sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p_=/^https?/;function _l(){return(_l=(0,s.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:y}=yield aa(E);for(const v of y)try{if(Rf(v))return}catch(I){}pe(E,"unauthorized-domain")})).apply(this,arguments)}function Rf(E){const y=De(),{protocol:v,hostname:I}=new URL(y);if(E.startsWith("chrome-extension://")){const We=new URL(E);return""===We.hostname&&""===I?"chrome-extension:"===v&&E.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&We.hostname===I}if(!p_.test(v))return!1;if(Sa.test(E))return I===E;const H=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const Of=new He(3e4,6e4);function Bo(){const E=si().___jsl;if(null==E?void 0:E.H)for(const y of Object.keys(E.H))if(E.H[y].r=E.H[y].r||[],E.H[y].L=E.H[y].L||[],E.H[y].r=[...E.H[y].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let Qc=null;function g_(E){return Qc=Qc||function(E){return new Promise((y,v)=>{var I,H,ne;function We(){Bo(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Bo(),v(_e(E,"network-request-failed"))},timeout:Of.get()})}if(null===(H=null===(I=si().gapi)||void 0===I?void 0:I.iframes)||void 0===H?void 0:H.Iframe)y(gapi.iframes.getContext());else{if(!(null===(ne=si().gapi)||void 0===ne?void 0:ne.load)){const pt=Gs("iframefcb");return si()[pt]=()=>{gapi.load?We():v(_e(E,"network-request-failed"))},ys(`https://apis.google.com/js/api.js?onload=${pt}`).catch(kt=>v(kt))}We()}}).catch(y=>{throw Qc=null,y})}(E),Qc}const rc=new He(5e3,15e3),Jc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m_(E){const y=E.config;me(y.authDomain,E,"auth-domain-config-required");const v=y.emulator?Ze(y,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:E.name,v:F.SDK_VERSION},H=sc.get(E.config.apiHost);H&&(I.eid=H);const ne=E._getFrameworks();return ne.length&&(I.fw=ne.join(",")),`${v}?${(0,T.xO)(I).slice(1)}`}function zu(){return zu=(0,s.Z)(function*(E){const y=yield g_(E),v=si().gapi;return me(v,E,"internal-error"),y.open({where:document.body,url:m_(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jc,dontclear:!0},I=>new Promise(function(){var H=(0,s.Z)(function*(ne,We){yield I.restyle({setHideOnLeave:!1});const pt=_e(E,"network-request-failed"),kt=si().setTimeout(()=>{We(pt)},rc.get());function tn(){si().clearTimeout(kt),ne(I)}I.ping(tn).then(tn,()=>{We(pt)})});return function(ne,We){return H.apply(this,arguments)}}()))}),zu.apply(this,arguments)}const Wu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ju{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Gu(E,y,v,I,H,ne){me(E.config.authDomain,E,"auth-domain-config-required"),me(E.config.apiKey,E,"invalid-api-key");const We={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:I,v:F.SDK_VERSION,eventId:H};if(y instanceof Ao){y.setDefaultLanguage(E.languageCode),We.providerId=y.providerId||"",(0,T.xb)(y.getCustomParameters())||(We.customParameters=JSON.stringify(y.getCustomParameters()));for(const[kt,tn]of Object.entries(ne||{}))We[kt]=tn}if(y instanceof rl){const kt=y.getScopes().filter(tn=>""!==tn);kt.length>0&&(We.scopes=kt.join(","))}E.tenantId&&(We.tid=E.tenantId);const pt=We;for(const kt of Object.keys(pt))void 0===pt[kt]&&delete pt[kt];return`${function({config:E}){return E.emulator?Ze(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,T.xO)(pt).slice(1)}`}const yl="webStorageSupport",lh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bn,this._completeRedirectFn=nh}_openPopup(y,v,I,H){var ne=this;return(0,s.Z)(function*(){var We;ve(null===(We=ne.eventManagers[y._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const pt=Gu(y,v,I,De(),H);return function(E,y,v,I=500,H=600){const ne=Math.max((window.screen.availHeight-H)/2,0).toString(),We=Math.max((window.screen.availWidth-I)/2,0).toString();let pt="";const kt=Object.assign(Object.assign({},Wu),{width:I.toString(),height:H.toString(),top:ne,left:We}),tn=(0,T.z$)().toLowerCase();v&&(pt=_t(tn)?"_blank":v),ge(tn)&&(y=y||"http://localhost",kt.scrollbars="yes");const $n=Object.entries(kt).reduce((vs,[mo,Uo])=>`${vs}${mo}=${Uo},`,"");if(function(E=(0,T.z$)()){var y;return ei(E)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(tn)&&"_self"!==pt)return function(E,y){const v=document.createElement("a");v.href=E,v.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(y||"",pt),new ju(null);const ji=window.open(y||"",pt,$n);me(ji,E,"popup-blocked");try{ji.focus()}catch(vs){}return new ju(ji)}(y,pt,po())})()}_openRedirect(y,v,I,H){var ne=this;return(0,s.Z)(function*(){return yield ne._originValidation(y),E=Gu(y,v,I,De(),H),si().location.href=E,new Promise(()=>{});var E})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:H,promise:ne}=this.eventManagers[v];return H?Promise.resolve(H):(ve(ne,"If manager is not set, promise should be"),ne)}const I=this.initAndGetManager(y);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(y){var v=this;return(0,s.Z)(function*(){const I=yield function(E){return zu.apply(this,arguments)}(y),H=new Qr(y);return I.register("authEvent",ne=>(me(null==ne?void 0:ne.authEvent,y,"invalid-auth-event"),{status:H.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:H},v.iframes[y._key()]=I,H})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(yl,{type:yl},H=>{var ne;const We=null===(ne=null==H?void 0:H[0])||void 0===ne?void 0:ne[yl];void 0!==We&&v(!!We),pe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return _l.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return Vr()||ze()||ei()}};class ac extends class{constructor(y){this.factorId=y}_process(y,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,I);case"signin":return this._finalizeSignIn(y,v.credential);default:return it("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new ac(y)}_finalizeEnroll(y,v,I){return function(E,y){return St(E,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(E,y))}(y,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function(E,y){return St(E,"POST","/v2/accounts/mfaSignIn:finalize",Nt(E,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let v_=(()=>{class E{constructor(){}static assertion(v){return ac._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var E,Zu="@firebase/auth";class Ff{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,s.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(I=>{var H;y((null===(H=I)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eu(E=(0,F.getApp)()){const y=(0,F._getProvider)(E,"auth");return y.isInitialized()?y.getImmediate():function(E,y){const v=(0,F._getProvider)(E,"auth");if(v.isInitialized()){const H=v.getImmediate(),ne=v.getOptions();if((0,T.vZ)(ne,null!=y?y:{}))return H;pe(H,"already-initialized")}return v.initialize({options:y})}(E,{popupRedirectResolver:lh,persistence:[jc,Li,Bn]})}E="Browser",(0,F._registerComponent)(new Z.wA("auth",(y,{options:v})=>{const I=y.getProvider("app").getImmediate(),{apiKey:H,authDomain:ne}=I.options;return(We=>{me(H&&!H.includes(":"),"invalid-api-key",{appName:We.name}),me(!(null==ne?void 0:ne.includes(":")),"argument-error",{appName:We.name});const pt={apiKey:H,authDomain:ne,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:no(E)},kt=new zi(We,pt);return function(E,y){const v=(null==y?void 0:y.persistence)||[],I=(Array.isArray(v)?v:[v]).map(ye);(null==y?void 0:y.errorMap)&&E._updateErrorMap(y.errorMap),E._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(kt,v),kt})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,I)=>{y.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Z.wA("auth-internal",y=>{const v=sr(y.getProvider("auth").getImmediate());return new Ff(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Zu,"0.19.5",void 0),(0,F.registerVersion)(Zu,"0.19.5","esm2017")},2090:(qe,Ae,O)=>{"use strict";O.d(Ae,{BH:()=>V,LL:()=>De,ZR:()=>Ie,gQ:()=>jn,zI:()=>ae,hu:()=>T,g5:()=>F,US:()=>Z,tV:()=>W,h$:()=>oe,$s:()=>Hi,r3:()=>Nt,Sg:()=>z,ne:()=>Mi,p$:()=>R,vZ:()=>Ni,ZB:()=>M,gK:()=>Rt,pd:()=>Kn,m9:()=>gr,z$:()=>ie,GJ:()=>sn,jU:()=>$,ru:()=>K,d:()=>_e,xb:()=>bn,w1:()=>Ve,hl:()=>it,uI:()=>se,UG:()=>ee,Yr:()=>Xe,b$:()=>pe,G6:()=>me,Mn:()=>Re,w9:()=>Sn,cI:()=>zt,UI:()=>zn,xO:()=>Wn,zd:()=>Xn,DV:()=>St,ug:()=>Cn,dS:()=>ti,Pz:()=>Be,Dv:()=>fn,Wj:()=>vn,lb:()=>en,eu:()=>ve});const T=function(be,he){if(!be)throw F(he)},F=function(be){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+be)},X=function(be){const he=[];let we=0;for(let tt=0;tt<be.length;tt++){let Ne=be.charCodeAt(tt);Ne<128?he[we++]=Ne:Ne<2048?(he[we++]=Ne>>6|192,he[we++]=63&Ne|128):55296==(64512&Ne)&&tt+1<be.length&&56320==(64512&be.charCodeAt(tt+1))?(Ne=65536+((1023&Ne)<<10)+(1023&be.charCodeAt(++tt)),he[we++]=Ne>>18|240,he[we++]=Ne>>12&63|128,he[we++]=Ne>>6&63|128,he[we++]=63&Ne|128):(he[we++]=Ne>>12|224,he[we++]=Ne>>6&63|128,he[we++]=63&Ne|128)}return he},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,he){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let Ne=0;Ne<be.length;Ne+=3){const Dt=be[Ne],ke=Ne+1<be.length,Ge=ke?be[Ne+1]:0,ht=Ne+2<be.length,wt=ht?be[Ne+2]:0;let Te=(15&Ge)<<2|wt>>6,fe=63&wt;ht||(fe=64,ke||(Te=64)),tt.push(we[Dt>>2],we[(3&Dt)<<4|Ge>>4],we[Te],we[fe])}return tt.join("")},encodeString(be,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(be):this.encodeByteArray(X(be),he)},decodeString(be,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(be):function(be){const he=[];let we=0,tt=0;for(;we<be.length;){const Ne=be[we++];if(Ne<128)he[tt++]=String.fromCharCode(Ne);else if(Ne>191&&Ne<224){const Dt=be[we++];he[tt++]=String.fromCharCode((31&Ne)<<6|63&Dt)}else if(Ne>239&&Ne<365){const ht=((7&Ne)<<18|(63&be[we++])<<12|(63&be[we++])<<6|63&be[we++])-65536;he[tt++]=String.fromCharCode(55296+(ht>>10)),he[tt++]=String.fromCharCode(56320+(1023&ht))}else{const Dt=be[we++],ke=be[we++];he[tt++]=String.fromCharCode((15&Ne)<<12|(63&Dt)<<6|63&ke)}}return he.join("")}(this.decodeStringToByteArray(be,he))},decodeStringToByteArray(be,he){this.init_();const we=he?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let Ne=0;Ne<be.length;){const Dt=we[be.charAt(Ne++)],Ge=Ne<be.length?we[be.charAt(Ne)]:0;++Ne;const wt=Ne<be.length?we[be.charAt(Ne)]:64;++Ne;const vt=Ne<be.length?we[be.charAt(Ne)]:64;if(++Ne,null==Dt||null==Ge||null==wt||null==vt)throw Error();tt.push(Dt<<2|Ge>>4),64!==wt&&(tt.push(Ge<<4&240|wt>>2),64!==vt&&tt.push(wt<<6&192|vt))}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},oe=function(be){const he=X(be);return Z.encodeByteArray(he,!0)},N=function(be){return oe(be).replace(/\./g,"")},W=function(be){try{return Z.decodeString(be,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function R(be){return M(void 0,be)}function M(be,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return he}for(const we in he)!he.hasOwnProperty(we)||!L(we)||(be[we]=M(be[we],he[we]));return be}function L(be){return"__proto__"!==be}class V{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,we)=>{this.resolve=he,this.reject=we})}wrapCallback(he){return(we,tt)=>{we?this.reject(we):this.resolve(tt),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(we):he(we,tt))}}}function z(be,he){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tt=he||"demo-project",Ne=be.iat||0,Dt=be.sub||be.user_id;if(!Dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${tt}`,aud:tt,iat:Ne,exp:Ne+3600,auth_time:Ne,sub:Dt,user_id:Dt,firebase:{sign_in_provider:"custom",identities:{}}},be);return[N(JSON.stringify({alg:"none",type:"JWT"})),N(JSON.stringify(ke)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(be){return!1}}function $(){return"object"==typeof self&&self.self===self}function K(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return ie().indexOf("Electron/")>=0}function Ve(){const be=ie();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function Re(){return ie().indexOf("MSAppHost/")>=0}function Xe(){return!1}function me(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function ve(){return new Promise((be,he)=>{try{let we=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",Ne=self.indexedDB.open(tt);Ne.onsuccess=()=>{Ne.result.close(),we||self.indexedDB.deleteDatabase(tt),be(!0)},Ne.onupgradeneeded=()=>{we=!1},Ne.onerror=()=>{var Dt;he((null===(Dt=Ne.error)||void 0===Dt?void 0:Dt.message)||"")}}catch(we){he(we)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ie extends Error{constructor(he,we,tt){super(we),this.code=he,this.customData=tt,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(he,we,tt){this.service=he,this.serviceName=we,this.errors=tt}create(he,...we){const tt=we[0]||{},Ne=`${this.service}/${he}`,Dt=this.errors[he],ke=Dt?function(be,he){return be.replace(Tt,(we,tt)=>{const Ne=he[tt];return null!=Ne?String(Ne):`<${tt}?>`})}(Dt,tt):"Error";return new Ie(Ne,`${this.serviceName}: ${ke} (${Ne}).`,tt)}}const Tt=/\{\$([^}]+)}/g;function zt(be){return JSON.parse(be)}function Be(be){return JSON.stringify(be)}const He=function(be){let he={},we={},tt={},Ne="";try{const Dt=be.split(".");he=zt(W(Dt[0])||""),we=zt(W(Dt[1])||""),Ne=Dt[2],tt=we.d||{},delete we.d}catch(Dt){}return{header:he,claims:we,data:tt,signature:Ne}},Sn=function(be){const we=He(be).claims;return!!we&&"object"==typeof we&&we.hasOwnProperty("iat")},sn=function(be){const he=He(be).claims;return"object"==typeof he&&!0===he.admin};function Nt(be,he){return Object.prototype.hasOwnProperty.call(be,he)}function St(be,he){if(Object.prototype.hasOwnProperty.call(be,he))return be[he]}function bn(be){for(const he in be)if(Object.prototype.hasOwnProperty.call(be,he))return!1;return!0}function zn(be,he,we){const tt={};for(const Ne in be)Object.prototype.hasOwnProperty.call(be,Ne)&&(tt[Ne]=he.call(we,be[Ne],Ne,be));return tt}function Ni(be,he){if(be===he)return!0;const we=Object.keys(be),tt=Object.keys(he);for(const Ne of we){if(!tt.includes(Ne))return!1;const Dt=be[Ne],ke=he[Ne];if(pi(Dt)&&pi(ke)){if(!Ni(Dt,ke))return!1}else if(Dt!==ke)return!1}for(const Ne of tt)if(!we.includes(Ne))return!1;return!0}function pi(be){return null!==be&&"object"==typeof be}function Wn(be){const he=[];for(const[we,tt]of Object.entries(be))Array.isArray(tt)?tt.forEach(Ne=>{he.push(encodeURIComponent(we)+"="+encodeURIComponent(Ne))}):he.push(encodeURIComponent(we)+"="+encodeURIComponent(tt));return he.length?"&"+he.join("&"):""}function Xn(be){const he={};return be.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[Ne,Dt]=tt.split("=");he[decodeURIComponent(Ne)]=decodeURIComponent(Dt)}}),he}function Kn(be){const he=be.indexOf("?");if(!he)return"";const we=be.indexOf("#",he);return be.substring(he,we>0?we:void 0)}class jn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let he=1;he<this.blockSize;++he)this.pad_[he]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(he,we){we||(we=0);const tt=this.W_;if("string"==typeof he)for(let vt=0;vt<16;vt++)tt[vt]=he.charCodeAt(we)<<24|he.charCodeAt(we+1)<<16|he.charCodeAt(we+2)<<8|he.charCodeAt(we+3),we+=4;else for(let vt=0;vt<16;vt++)tt[vt]=he[we]<<24|he[we+1]<<16|he[we+2]<<8|he[we+3],we+=4;for(let vt=16;vt<80;vt++){const Te=tt[vt-3]^tt[vt-8]^tt[vt-14]^tt[vt-16];tt[vt]=4294967295&(Te<<1|Te>>>31)}let wt,Et,Ne=this.chain_[0],Dt=this.chain_[1],ke=this.chain_[2],Ge=this.chain_[3],ht=this.chain_[4];for(let vt=0;vt<80;vt++){vt<40?vt<20?(wt=Ge^Dt&(ke^Ge),Et=1518500249):(wt=Dt^ke^Ge,Et=1859775393):vt<60?(wt=Dt&ke|Ge&(Dt|ke),Et=2400959708):(wt=Dt^ke^Ge,Et=3395469782);const Te=(Ne<<5|Ne>>>27)+wt+ht+Et+tt[vt]&4294967295;ht=Ge,Ge=ke,ke=4294967295&(Dt<<30|Dt>>>2),Dt=Ne,Ne=Te}this.chain_[0]=this.chain_[0]+Ne&4294967295,this.chain_[1]=this.chain_[1]+Dt&4294967295,this.chain_[2]=this.chain_[2]+ke&4294967295,this.chain_[3]=this.chain_[3]+Ge&4294967295,this.chain_[4]=this.chain_[4]+ht&4294967295}update(he,we){if(null==he)return;void 0===we&&(we=he.length);const tt=we-this.blockSize;let Ne=0;const Dt=this.buf_;let ke=this.inbuf_;for(;Ne<we;){if(0===ke)for(;Ne<=tt;)this.compress_(he,Ne),Ne+=this.blockSize;if("string"==typeof he){for(;Ne<we;)if(Dt[ke]=he.charCodeAt(Ne),++ke,++Ne,ke===this.blockSize){this.compress_(Dt),ke=0;break}}else for(;Ne<we;)if(Dt[ke]=he[Ne],++ke,++Ne,ke===this.blockSize){this.compress_(Dt),ke=0;break}}this.inbuf_=ke,this.total_+=we}digest(){const he=[];let we=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ne=this.blockSize-1;Ne>=56;Ne--)this.buf_[Ne]=255&we,we/=256;this.compress_(this.buf_);let tt=0;for(let Ne=0;Ne<5;Ne++)for(let Dt=24;Dt>=0;Dt-=8)he[tt]=this.chain_[Ne]>>Dt&255,++tt;return he}}function Mi(be,he){const we=new ci(be,he);return we.subscribe.bind(we)}class ci{constructor(he,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{he(this)}).catch(tt=>{this.error(tt)})}next(he){this.forEachObserver(we=>{we.next(he)})}error(he){this.forEachObserver(we=>{we.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,we,tt){let Ne;if(void 0===he&&void 0===we&&void 0===tt)throw new Error("Missing Observer.");Ne=function(be,he){if("object"!=typeof be||null===be)return!1;for(const we of["next","error","complete"])if(we in be&&"function"==typeof be[we])return!0;return!1}(he)?he:{next:he,error:we,complete:tt},void 0===Ne.next&&(Ne.next=Vn),void 0===Ne.error&&(Ne.error=Vn),void 0===Ne.complete&&(Ne.complete=Vn);const Dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ne.error(this.finalError):Ne.complete()}catch(ke){}}),this.observers.push(Ne),Dt}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,he)}sendOne(he,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{we(this.observers[he])}catch(tt){"undefined"!=typeof console&&console.error&&console.error(tt)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}const fn=function(be,he,we,tt){let Ne;if(tt<he?Ne="at least "+he:tt>we&&(Ne=0===we?"none":"no more than "+we),Ne)throw new Error(be+" failed: Was called with "+tt+(1===tt?" argument.":" arguments.")+" Expects "+Ne+".")};function Rt(be,he){return`${be} failed: ${he} argument `}function vn(be,he,we,tt){if((!tt||we)&&"function"!=typeof we)throw new Error(Rt(be,he)+"must be a valid function.")}function en(be,he,we,tt){if((!tt||we)&&("object"!=typeof we||null===we))throw new Error(Rt(be,he)+"must be a valid context object.")}const ti=function(be){const he=[];let we=0;for(let tt=0;tt<be.length;tt++){let Ne=be.charCodeAt(tt);if(Ne>=55296&&Ne<=56319){const Dt=Ne-55296;tt++,T(tt<be.length,"Surrogate pair missing trail surrogate."),Ne=65536+(Dt<<10)+(be.charCodeAt(tt)-56320)}Ne<128?he[we++]=Ne:Ne<2048?(he[we++]=Ne>>6|192,he[we++]=63&Ne|128):Ne<65536?(he[we++]=Ne>>12|224,he[we++]=Ne>>6&63|128,he[we++]=63&Ne|128):(he[we++]=Ne>>18|240,he[we++]=Ne>>12&63|128,he[we++]=Ne>>6&63|128,he[we++]=63&Ne|128)}return he},Cn=function(be){let he=0;for(let we=0;we<be.length;we++){const tt=be.charCodeAt(we);tt<128?he++:tt<2048?he+=2:tt>=55296&&tt<=56319?(he+=4,we++):he+=3}return he};function Hi(be,he=1e3,we=2){const tt=he*Math.pow(we,be),Ne=Math.round(.5*tt*(Math.random()-.5)*2);return Math.min(144e5,tt+Ne)}function gr(be){return be&&be._delegate?be._delegate:be}},8369:(qe,Ae,O)=>{"use strict";var s=O(5e3);let T=null;function F(){return T}const oe=new s.OlP("DocumentToken");let N=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.LFG)(M)},providedIn:"platform"}),n})();const R=new s.OlP("Location Initialized");let M=(()=>{class n extends N{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){L()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){L()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:function(){return new M((0,s.LFG)(oe))},providedIn:"platform"}),n})();function L(){return!!window.history.pushState}function z(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function se(n){return n&&"?"!==n[0]?"?"+n:n}let ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function(n){const t=(0,s.LFG)(oe).location;return new pe((0,s.LFG)(N),t&&t.origin||"")}()},providedIn:"root"}),n})();const K=new s.OlP("appBaseHref");let pe=(()=>{class n extends ee{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return z(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+se(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+se(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+se(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(N),s.LFG(K,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n extends ee{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=z(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+se(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+se(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(N),s.LFG(K,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ie(me(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+se(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,me(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+se(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+se(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=se,n.joinWithSlash=z,n.stripTrailingSlash=ie,n.\u0275fac=function(e){return new(e||n)(s.LFG(ee),s.LFG(N))},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Ve((0,s.LFG)(ee),(0,s.LFG)(N))},providedIn:"root"}),n})();function me(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))();const Kn=s.kL8;class Ci{}let Ds=(()=>{class n extends Ci{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Kn(i||this.locale)(e)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Xi=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Wl{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Wl(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const f=i.get(o);i.move(f,u),_r(f,r)}});for(let r=0,o=i.length;r<o;r++){const f=i.get(r).context;f.index=r,f.count=o,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{_r(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _r(n,t){n.context.$implicit=t.item}let Si=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new gs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ii("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ii("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gs{constructor(){this.$implicit=null,this.ngIf=null}}function ii(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let xi=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),yr=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})();class nl{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ao{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const df=new ao,Iu=new nl;let Oc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return df;if((0,s.F4k)(e))return Iu;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,s.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})(),Ii=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Ci,useClass:Ds}]}),n})();const Yo="browser";function qr(n){return n===Yo}function ns(n){return"server"===n}let Mu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new sl((0,s.LFG)(oe),window)}),n})();class sl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function vr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ca extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ca,T||(T=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ol=ol||document.querySelector("base"),ol?ol.getAttribute("href"):null);return null==e?null:function(n){Ur=Ur||document.createElement("a"),Ur.setAttribute("href",n);const t=Ur.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ur,ol=null;const te=new s.OlP("TRANSITION_ID"),$e=[{provide:s.ip1,useFactory:function(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[te,oe,s.zs3],multi:!0}];class gt{static init(){(0,s.VLi)(new gt)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const f=function(m){u=u||m,o--,0==o&&i(u)};r.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ft=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const At=new s.OlP("EventManagerPlugins");let Gn=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(At),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class mn{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let qi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Pt=(()=>{class n extends qi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Hs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hs))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Hs(n){F().remove(n)}const zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ms=/%COMP%/g;function ll(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ll(n,r,e):(r=r.replace(ms,n),e.push(r))}return e}function Wi(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Qo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ks(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new a_(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new _s(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ll(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gn),s.LFG(Pt),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ks{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(zs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=zs[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=zs[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Wi(i)):this.eventManager.addEventListener(t,e,Wi(i))}}class a_ extends ks{constructor(t,e,i,r){super(t),this.component=i;const o=ll(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(ms,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(ms,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class _s extends ks{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ll(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const f=document.createElement("style");f.textContent=o[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bc=(()=>{class n extends mn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ea=["alt","control","meta","shift"],Jo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ou={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Uc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ro=(()=>{class n extends mn{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(Ea.forEach(m=>{const b=i.indexOf(m);b>-1&&(i.splice(b,1),u+=m+".")}),u+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ou.hasOwnProperty(t)&&(t=Ou[t]))}return Jo[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ea.forEach(o=>{o!=r&&Uc[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Gl=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Yo},{provide:s.g9A,useValue:function(){Ca.makeCurrent(),gt.init()},multi:!0},{provide:oe,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),mf=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:At,useClass:Bc,multi:!0,deps:[oe,s.R0b,s.Lbi]},{provide:At,useClass:Ro,multi:!0,deps:[oe]},{provide:Qo,useClass:Qo,deps:[Gn,Pt,s.AFp]},{provide:s.FYo,useExisting:Qo},{provide:qi,useExisting:Pt},{provide:Pt,useClass:Pt,deps:[oe]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Gn,useClass:Gn,deps:[At,s.R0b]},{provide:class{},useClass:Ft,deps:[]}];let Ws=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:te,useExisting:s.AFp},$e]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:mf,imports:[Ii,s.hGG]}),n})(),Xo=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:new Xo((0,s.LFG)(oe)),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Li=O(5254),Jt=O(1086),Bn=O(8929),ul=O(5279);class Ms extends Bn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ul.N;return this._value}next(t){super.next(this._value=t)}}var po=O(2866),ea=O(6688),si=O(3489);class ta extends si.L{notifyNext(t,e,i,r,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class zc extends si.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var dl=O(9249),Ai=O(6498);function Wc(n,t,e,i,r=new zc(n,e,i)){if(!r.closed)return t instanceof Ai.y?t.subscribe(r):(0,dl.s)(t)(r)}var eg=O(3009);const Cf={};class Po{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Kl(t,this.resultSelector))}}class Kl extends ta{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Cf),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Wc(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,u=this.toRespond?r[i]===Cf?--this.toRespond:this.toRespond:0;r[i]=e,0===u&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const na=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var fl=O(9146);function Nu(...n){return(0,fl.J)(1)((0,Jt.of)(...n))}var Ei=O(8896);function zr(n){return new Ai.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,Li.D)(e):(0,Ei.c)()).subscribe(t)})}var Zd=O(1762),un=O(4850),$s=O(1177);function Yi(n,t){return"function"==typeof t?e=>e.pipe(Yi((i,r)=>(0,Li.D)(n(i,r)).pipe((0,un.U)((o,u)=>t(i,o,r,u))))):e=>e.lift(new $c(n))}class $c{constructor(t){this.project=t}call(t,e){return e.subscribe(new jc(t,this.project))}}class jc extends $s.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new $s.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,$s.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const pl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function js(n){return t=>0===n?(0,Ei.c)():t.lift(new gl(n))}class gl{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new Gc(t,this.total))}}class Gc extends si.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function ys(...n){const t=n[n.length-1];return(0,po.K)(t)?(n.pop(),e=>Nu(n,e,t)):e=>Nu(n,e)}function Gs(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new Zc(n,t,e))}}class Zc{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new qc(t,this.accumulator,this.seed,this.hasSeed))}}class qc extends si.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function is(n,t){return function(i){return i.lift(new Tf(n,t))}}class Tf{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xa(t,this.predicate,this.thisArg))}}class xa extends si.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function ia(n){return function(e){const i=new qd(n),r=e.lift(i);return i.caught=r}}class qd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new G(t,this.selector,this.caught))}}class G extends $s.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new $s.IY(this);this.add(i);const r=(0,$s.ft)(e,i);r!==i&&this.add(r)}}}var or=O(1709);function Yl(n,t){return(0,or.zg)(n,t,1)}function Zs(n){return function(e){return 0===n?(0,Ei.c)():e.lift(new Jn(n))}}class Jn{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new d_(t,this.total))}}class d_ extends si.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<i;o++){const u=e++%i;t.next(r[u])}}t.complete()}}function h_(n=tg){return t=>t.lift(new Fy(n))}class Fy{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new No(t,this.errorFactory))}}class No extends si.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function tg(){return new na}function wr(n=null){return t=>t.lift(new Fu(n))}class Fu{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Lu(t,this.defaultValue))}}class Lu extends si.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Sf=O(5379);function Cr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?is((r,o)=>n(r,o,i)):Sf.y,js(1),e?wr(t):h_(()=>new na))}var Vi=O(2868),Kd=O(4327),ml=O(2654);class ra{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jl(t,this.callback))}}class Jl extends si.L{constructor(t,e){super(t),this.add(new ml.w(e))}}class Fo{constructor(t,e){this.id=t,this.url=e}}class ng extends Fo{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Fo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class If extends Fo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ar extends Fo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yd extends Fo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kc extends Fo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sa extends Fo{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qd extends Fo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f_ extends Fo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ig{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Df{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Af{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bu{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Un="primary";class Lo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qs(n){return new Lo(n)}const ec="ngNavigationCancelingError";function eh(n){const t=Error("NavigationCancelingError: "+n);return t[ec]=!0,t}function oa(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],f=n[o];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function rs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Mr(n[r],t[r]))return!1;return!0}function Mr(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function kf(n){return Array.prototype.concat.apply([],n)}function Mf(n){return n.length>0?n[n.length-1]:null}function tr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Yr(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Li.D)(Promise.resolve(n)):(0,Jt.of)(n)}const Uu={exact:function Qi(n,t,e){if(!Sa(n.segments,t.segments)||!nc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Qi(n.children[i],t.children[i],e))return!1;return!0},subset:rh},tc={exact:function(n,t){return rs(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Mr(n[e],t[e]))},ignored:()=>!0};function nh(n,t,e){return Uu[e.paths](n.root,t.root,e.matrixParams)&&tc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rh(n,t,e){return Qr(n,t,t.segments,e)}function Qr(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Sa(r,e)||t.hasChildren()||!nc(r,e,i))}if(n.segments.length===e.length){if(!Sa(n.segments,e)||!nc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!rh(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Sa(n.segments,r)&&nc(n.segments,r,i)&&n.children[Un])&&Qr(n.children[Un],t,o,i)}}function nc(n,t,e){return t.every((i,r)=>tc[e](n[r].parameters,i.parameters))}class go{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qs(this.queryParams)),this._queryParamMap}toString(){return Rf.serialize(this)}}class Tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Of(this)}}class aa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qs(this.parameters)),this._parameterMap}toString(){return Jc(this)}}function Sa(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class ic{}class _l{parse(t){const e=new Nf(t);return new go(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Bo(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Qc(e)}=${Qc(r)}`).join("&"):`${Qc(e)}=${Qc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Rf=new _l;function Of(n){return n.segments.map(t=>Jc(t)).join("/")}function Bo(n,t){if(!n.hasChildren())return Of(n);if(t){const e=n.children[Un]?Bo(n.children[Un],!1):"",i=[];return tr(n.children,(r,o)=>{o!==Un&&i.push(`${o}:${Bo(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return tr(n.children,(i,r)=>{r===Un&&(e=e.concat(t(i,r)))}),tr(n.children,(i,r)=>{r!==Un&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Un?[Bo(n.children[Un],!1)]:[`${r}:${Bo(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Un]?`${Of(n)}/${e[0]}`:`${Of(n)}/(${e.join("//")})`}}function Pf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qc(n){return Pf(n).replace(/%3B/gi,";")}function rc(n){return Pf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(n){return decodeURIComponent(n)}function Hu(n){return sh(n.replace(/\+/g,"%20"))}function Jc(n){return`${rc(n.path)}${function(n){return Object.keys(n).map(t=>`;${rc(t)}=${rc(n[t])}`).join("")}(n.parameters)}`}const __=/^[^\/()?;=#]+/;function zu(n){const t=n.match(__);return t?t[0]:""}const Wu=/^[^=?&#]+/,sg=/^[^&#]+/;class Nf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Un]=new Tn(t,e)),i}parseSegment(){const t=zu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new aa(sh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=zu(this.remaining);r&&(i=r,this.capture(i))}t[sh(e)]=sh(i)}parseQueryParam(t){const e=function(n){const t=n.match(Wu);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function(n){const t=n.match(sg);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Hu(e),o=Hu(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Un);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Un]:new Tn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ju{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ah(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ah(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Xc(t,this._root).map(e=>e.value)}}function ah(n,t){if(n===t.value)return t;for(const e of t.children){const i=ah(n,e);if(i)return i}return null}function Xc(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Xc(n,e);if(i.length)return i.unshift(t),i}return[]}class Ia{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Gu extends ju{constructor(t,e){super(t),this.snapshot=e,Zu(this,t)}toString(){return this.snapshot.toString()}}function Da(n,t){const e=function(n,t){const u=new ac([],{},{},"",{},Un,t,null,n.root,-1,{});return new v_("",new Ia(u,[]))}(n,t),i=new Ms([new aa("",{})]),r=new Ms({}),o=new Ms({}),u=new Ms({}),f=new Ms(""),m=new la(i,r,u,f,o,Un,t,e.root);return m.snapshot=e.root,new Gu(new Ia(m,[]),e)}class la{constructor(t,e,i,r,o,u,f,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,un.U)(t=>qs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,un.U)(t=>qs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ac{constructor(t,e,i,r,o,u,f,m,b,S,k){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=f,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=S,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class v_ extends ju{constructor(t,e){super(e),this.url=t,Zu(this,e)}toString(){return kn(this._root)}}function Zu(n,t){t.value._routerState=n,t.children.forEach(e=>Zu(n,e))}function kn(n){const t=n.children.length>0?` { ${n.children.map(kn).join(", ")} } `:"";return`${n.value}${t}`}function Ff(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,rs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),rs(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!rs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),rs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lf(n,t){const e=rs(n.params,t.params)&&function(n,t){return Sa(n,t)&&n.every((e,i)=>rs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Lf(n.parent,t.parent))}function eu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return eu(n,i,r);return eu(n,i)})}(n,t,e);return new Ia(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>eu(n,f)),u}}const i=function(n){return new la(new Ms(n.url),new Ms(n.params),new Ms(n.queryParams),new Ms(n.fragment),new Ms(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>eu(n,o));return new Ia(i,r)}}function I(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function H(n){return"object"==typeof n&&null!=n&&n.outlets}function ne(n,t,e,i,r){let o={};return i&&tr(i,(u,f)=>{o[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),new go(e.root===n?t:We(e.root,n,t),o,r)}function We(n,t,e){const i={};return tr(n.children,(r,o)=>{i[o]=r===t?e:We(r,t,e)}),new Tn(n.segments,i)}class pt{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&I(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(H);if(r&&r!==Mf(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tn{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function mo(n,t,e){if(n||(n=new Tn([],{})),0===n.segments.length&&n.hasChildren())return Uo(n,t,e);const i=function(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],f=e[i];if(H(f))break;const m=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!ch(m,b,u))return o;i+=2}else{if(!ch(m,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Tn(n.segments.slice(0,i.pathIndex),{});return o.children[Un]=new Tn(n.segments.slice(i.pathIndex),n.children),Uo(o,0,r)}return i.match&&0===r.length?new Tn(n.segments,{}):i.match&&!n.hasChildren()?tu(n,t,e):i.match?Uo(n,0,r):tu(n,t,e)}function Uo(n,t,e){if(0===e.length)return new Tn(n.segments,{});{const i=function(n){return H(n[0])?n[0].outlets:{[Un]:n}}(e),r={};return tr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=mo(n.children[u],t,o))}),tr(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Tn(n.segments,r)}}function tu(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(H(o)){const m=Ku(o.outlets);return new Tn(i,m)}if(0===r&&I(e[0])){i.push(new aa(n.segments[t].path,ca(e[0]))),r++;continue}const u=H(o)?o.outlets[Un]:`${o}`,f=r<e.length-1?e[r+1]:null;u&&f&&I(f)?(i.push(new aa(u,ca(f))),r+=2):(i.push(new aa(u,{})),r++)}return new Tn(i,{})}function Ku(n){const t={};return tr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=tu(new Tn([],{}),0,e))}),t}function ca(n){const t={};return tr(n,(e,i)=>t[i]=`${e}`),t}function ch(n,t,e){return n==e.path&&rs(t,e.parameters)}class Vf{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ff(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=oc(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),tr(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=oc(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=oc(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=oc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Xl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Xd(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Ff(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Ff(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),m=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=m,u.outlet&&u.outlet.activateWith(r,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class ka{constructor(t,e){this.routes=t,this.module=e}}function vl(n){return"function"==typeof n}function lc(n){return n instanceof go}const Ju=Symbol("INITIAL_VALUE");function ss(){return Yi(n=>function(...n){let t,e;return(0,po.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,ea.k)(n[0])&&(n=n[0]),(0,eg.n)(n,e).lift(new Po(t))}(n.map(t=>t.pipe(js(1),ys(Ju)))).pipe(Gs((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==Ju?r:(o===Ju&&(i=!0),i||!1!==o&&u!==e.length-1&&!lc(o)?r:o),t)},Ju),is(t=>t!==Ju),(0,un.U)(t=>lc(t)?t:!0===t),js(1)))}class bl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Bf,this.attachRef=null}}class Bf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bl,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let lg=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Un,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new cg(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bf),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class cg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===la?this.route:t===Bf?this.childContexts:this.parent.get(t,e)}}let Xu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[lg],encapsulation:2}),n})();function Vy(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];uh(i,Ks(t,i))}}function uh(n,t){n.children&&Vy(n.children,t)}function Ks(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function dh(n){const t=n.children&&n.children.map(dh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Un&&(e.component=Xu),e}function os(n){return n.outlet||Un}function ed(n,t){const e=n.filter(i=>os(i)===t);return e.push(...n.filter(i=>os(i)!==t)),e}const bs={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},bs):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||oa)(e,n,t);if(!o)return Object.assign({},bs);const u={};tr(o.posParams,(m,b)=>{u[b]=m.path});const f=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:f,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function td(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>nu(n,t,i)&&os(i)!==Un)}(n,e,i)){const u=new Tn(t,function(n,t,e,i){const r={};r[Un]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&os(o)!==Un){const u=new Tn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[os(o)]=u}return r}(n,t,i,new Tn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>nu(n,t,i))}(n,e,i)){const u=new Tn(n.segments,function(n,t,e,i,r,o){const u={};for(const f of i)if(nu(n,e,f)&&!r[os(f)]){const m=new Tn([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[os(f)]=m}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Tn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function nu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Uy(n,t,e,i){return!!(os(n)===i||i!==Un&&nu(t,e,n))&&("**"===n.path||cc(t,n,e).matched)}function dg(n,t,e){return 0===t.length&&!n.children[e]}class iu{constructor(t){this.segmentGroup=t||null}}class w_{constructor(t){this.urlTree=t}}function hh(n){return new Ai.y(t=>t.error(new iu(n)))}function hg(n){return new Ai.y(t=>t.error(new w_(n)))}function Hy(n){return new Ai.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class fg{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=td(this.urlTree.root,[],[],this.config).segmentGroup,e=new Tn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Un).pipe((0,un.U)(o=>this.createUrlTree(pg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ia(o=>{if(o instanceof w_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof iu?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Un).pipe((0,un.U)(r=>this.createUrlTree(pg(r),t.queryParams,t.fragment))).pipe(ia(r=>{throw r instanceof iu?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Tn([],{[Un]:t}):t;return new go(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,un.U)(o=>new Tn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Li.D)(r).pipe(Yl(o=>{const u=i.children[o],f=ed(e,o);return this.expandSegmentGroup(t,f,u,o).pipe((0,un.U)(m=>({segment:m,outlet:o})))}),Gs((o,u)=>(o[u.outlet]=u.segment,o),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?is((r,o)=>n(r,o,i)):Sf.y,Zs(1),e?wr(t):h_(()=>new na))}())}expandSegment(t,e,i,r,o,u){return(0,Li.D)(i).pipe(Yl(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,o,u).pipe(ia(b=>{if(b instanceof iu)return(0,Jt.of)(null);throw b}))),Cr(f=>!!f),ia((f,m)=>{if(f instanceof na||"EmptyError"===f.name){if(dg(e,r,o))return(0,Jt.of)(new Tn([],{}));throw new iu(e)}throw f}))}expandSegmentAgainstRoute(t,e,i,r,o,u,f){return Uy(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):hh(e):hh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?hg(o):this.lineralizeSegments(i,o).pipe((0,or.zg)(u=>{const f=new Tn(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:f,consumedSegments:m,lastChild:b,positionalParamSegments:S}=cc(e,r,o);if(!f)return hh(e);const k=this.applyRedirectCommands(m,r.redirectTo,S);return r.redirectTo.startsWith("/")?hg(k):this.lineralizeSegments(r,k).pipe((0,or.zg)(U=>this.expandSegment(t,e,i,U.concat(o.slice(b)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Jt.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,un.U)(U=>(i._loadedConfig=U,new Tn(r,{})))):(0,Jt.of)(new Tn(r,{}));const{matched:u,consumedSegments:f,lastChild:m}=cc(e,i,r);if(!u)return hh(e);const b=r.slice(m);return this.getChildConfig(t,i,r).pipe((0,or.zg)(k=>{const U=k.module,q=k.routes,{segmentGroup:le,slicedSegments:Oe}=td(e,f,b,q),Je=new Tn(le.segments,le.children);if(0===Oe.length&&Je.hasChildren())return this.expandChildren(U,q,Je).pipe((0,un.U)(qt=>new Tn(f,qt)));if(0===q.length&&0===Oe.length)return(0,Jt.of)(new Tn(f,{}));const Vt=os(i)===o;return this.expandSegment(U,Je,q,Oe,Vt?Un:o,!0).pipe((0,un.U)(ln=>new Tn(f.concat(ln.segments),ln.children)))}))}getChildConfig(t,e,i){return e.children?(0,Jt.of)(new ka(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Jt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,or.zg)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,un.U)(o=>(e._loadedConfig=o,o))):(n=e,new Ai.y(t=>t.error(eh(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Jt.of)(new ka([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,Jt.of)(!0);const o=r.map(u=>{const f=t.get(u);let m;if((n=f)&&vl(n.canLoad))m=f.canLoad(e,i);else{if(!vl(f))throw new Error("Invalid CanLoad guard");m=f(e,i)}var n;return Yr(m)});return(0,Jt.of)(o).pipe(ss(),(0,Vi.b)(u=>{if(!lc(u))return;const f=eh(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,un.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Jt.of)(i);if(r.numberOfChildren>1||!r.children[Un])return Hy(t.redirectTo);r=r.children[Un]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new go(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return tr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[o]=e[f]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return tr(e.children,(f,m)=>{u[m]=this.createSegmentGroup(t,f,i,r)}),new Tn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function pg(n){const t={};for(const i of Object.keys(n.children)){const o=pg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Un]){const t=n.children[Un];return new Tn(n.segments.concat(t.segments),t.children)}return n}(new Tn(n.segments,t))}class zy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ua{constructor(t,e){this.component=t,this.route=e}}function C_(n,t,e){const i=n._root;return wl(i,t?t._root:null,e,[i.value])}function fh(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function wl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=oc(t);return n.children.forEach(u=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Sa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Sa(n.url,t.url)||!rs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lf(n,t)||!rs(n.queryParams,t.queryParams);default:return!Lf(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new zy(i)):(o.data=u.data,o._resolvedData=u._resolvedData),wl(n,t,o.component?f?f.children:null:e,i,r),m&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new ua(f.outlet.component,u))}else u&&nd(t,f,r),r.canActivateChecks.push(new zy(i)),wl(n,null,o.component?f?f.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),tr(o,(u,f)=>nd(u,e.getContext(f),r)),r}function nd(n,t,e){const i=oc(n),r=n.value;tr(i,(o,u)=>{nd(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new ua(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class $y{}function jy(n){return new Ai.y(t=>t.error(n))}class T_{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=td(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Un);if(null===e)return null;const i=new ac([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Un,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ia(i,e),o=new v_(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=lh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],f=ed(t,o),m=this.processSegmentGroup(f,u,o);if(null===m)return null;i.push(...m)}const r=su(i);return r.sort((t,e)=>t.value.outlet===Un?-1:e.value.outlet===Un?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return dg(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Uy(t,e,i,r))return null;let o,u=[],f=[];if("**"===t.path){const q=i.length>0?Mf(i).parameters:{};o=new ac(i,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_g(t),os(t),t.component,t,Wf(e),mg(e)+i.length,id(t))}else{const q=cc(e,t,i);if(!q.matched)return null;u=q.consumedSegments,f=i.slice(q.lastChild),o=new ac(u,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_g(t),os(t),t.component,t,Wf(e),mg(e)+u.length,id(t))}const m=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:S}=td(e,u,f,m.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var n;if(0===S.length&&b.hasChildren()){const q=this.processChildren(m,b);return null===q?null:[new Ia(o,q)]}if(0===m.length&&0===S.length)return[new Ia(o,[])];const k=os(t)===r,U=this.processSegment(m,b,S,k?Un:r);return null===U?null:[new Ia(o,U)]}}function Rs(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function su(n){const t=[],e=new Set;for(const i of n){if(!Rs(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=su(i.children);t.push(new Ia(i.value,r))}return t.filter(i=>!e.has(i))}function Wf(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function mg(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function _g(n){return n.data||{}}function id(n){return n.resolve||{}}function $f(n){return Yi(t=>{const e=n(t);return e?(0,Li.D)(e).pipe((0,un.U)(()=>t)):(0,Jt.of)(t)})}class mw extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const jf=new s.OlP("ROUTES");class D_{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,un.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new ka(kf(u.injector.get(jf,void 0,s.XFs.Self|s.XFs.Optional)).map(dh),u)}),ia(o=>{throw e._loader$=void 0,o}));return e._loader$=new Zd.c(r,()=>new Bn.xQ).pipe((0,Kd.x)()),e._loader$}loadModuleFactory(t){return Yr(t()).pipe((0,or.zg)(e=>e instanceof s.YKP?(0,Jt.of)(e):(0,Li.D)(this.compiler.compileModuleAsync(e))))}}class yg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vg(n){throw n}function A_(n,t,e){return t.parse("/")}function sd(n,t){return(0,Jt.of)(null)}const Ky={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class n{constructor(e,i,r,o,u,f,m){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bn.xQ,this.errorHandler=vg,this.malformedUriErrorHandler=A_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sd,afterPreactivation:sd},this.urlHandlingStrategy=new yg,this.routeReuseStrategy=new mw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const k=u.get(s.R0b);this.isNgZoneEnabled=k instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=new go(new Tn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new D_(u,f,U=>this.triggerEvent(new Jd(U)),U=>this.triggerEvent(new ig(U))),this.routerState=Da(this.currentUrlTree,this.rootComponentType),this.transitions=new Ms({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(is(r=>0!==r.id),(0,un.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Yi(r=>{let o=!1,u=!1;return(0,Jt.of)(r).pipe((0,Vi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Yi(f=>{const m=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Ma(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Jt.of)(f).pipe(Yi(k=>{const U=this.transitions.getValue();return i.next(new ng(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),U!==this.transitions.getValue()?Ei.E:Promise.resolve(k)}),function(n,t,e,i){return Yi(r=>function(n,t,e,i,r){return new fg(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,un.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Vi.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,t,e,i,r){return(0,or.zg)(o=>function(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new T_(n,t,e,i,r,o).recognize();return null===u?jy(new $y):(0,Jt.of)(u)}catch(u){return jy(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,un.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Vi.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(q,k)}this.browserUrlTree=k.urlAfterRedirects}const U=new Yd(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);i.next(U)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:q,source:le,restoredState:Oe,extras:Je}=f,Vt=new ng(U,this.serializeUrl(q),le,Oe);i.next(Vt);const Zt=Da(q,this.rootComponentType).snapshot;return(0,Jt.of)(Object.assign(Object.assign({},f),{targetSnapshot:Zt,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ei.E}),$f(f=>{const{targetSnapshot:m,id:b,extractedUrl:S,rawUrl:k,extras:{skipLocationChange:U,replaceUrl:q}}=f;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:S,rawUrlTree:k,skipLocationChange:!!U,replaceUrl:!!q})}),(0,Vi.b)(f=>{const m=new Kc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,un.U)(f=>Object.assign(Object.assign({},f),{guards:C_(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,t){return(0,or.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?(0,Jt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Li.D)(n).pipe((0,or.zg)(r=>function(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Jt.of)(!0);const u=o.map(f=>{const m=fh(f,t,r);let b;if(function(n){return n&&vl(n.canDeactivate)}(m))b=Yr(m.canDeactivate(n,t,e,i));else{if(!vl(m))throw new Error("Invalid CanDeactivate guard");b=Yr(m(n,t,e,i))}return b.pipe(Cr())});return(0,Jt.of)(u).pipe(ss())}(r.component,r.route,e,t,i)),Cr(r=>!0!==r,!0))}(u,i,r,n).pipe((0,or.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,t,e,i){return(0,Li.D)(t).pipe(Yl(r=>Nu(function(n,t){return null!==n&&t&&t(new Df(n)),(0,Jt.of)(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new Af(n)),(0,Jt.of)(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>zr(()=>{const f=u.guards.map(m=>{const b=fh(m,u.node,e);let S;if(function(n){return n&&vl(n.canActivateChild)}(b))S=Yr(b.canActivateChild(i,n));else{if(!vl(b))throw new Error("Invalid CanActivateChild guard");S=Yr(b(i,n))}return S.pipe(Cr())});return(0,Jt.of)(f).pipe(ss())}));return(0,Jt.of)(o).pipe(ss())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Jt.of)(!0);const r=i.map(o=>zr(()=>{const u=fh(o,t,e);let f;if(function(n){return n&&vl(n.canActivate)}(u))f=Yr(u.canActivate(t,n));else{if(!vl(u))throw new Error("Invalid CanActivate guard");f=Yr(u(t,n))}return f.pipe(Cr())}));return(0,Jt.of)(r).pipe(ss())}(n,r.route,e))),Cr(r=>!0!==r,!0))}(i,o,n,t):(0,Jt.of)(f)),(0,un.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Vi.b)(f=>{if(lc(f.guardsResult)){const b=eh(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const m=new sa(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),is(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),$f(f=>{if(f.guards.canActivateChecks.length)return(0,Jt.of)(f).pipe((0,Vi.b)(m=>{const b=new Qd(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Yi(m=>{let b=!1;return(0,Jt.of)(m).pipe(function(n,t){return(0,or.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Jt.of)(e);let o=0;return(0,Li.D)(r).pipe(Yl(u=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return(0,Jt.of)({});const o={};return(0,Li.D)(r).pipe((0,or.zg)(u=>function(n,t,e,i){const r=fh(n,t,i);return Yr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Vi.b)(f=>{o[u]=f}))),Zs(1),(0,or.zg)(()=>Object.keys(o).length===r.length?(0,Jt.of)(o):Ei.E))}(n._resolve,n,t,i).pipe((0,un.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),lh(n,e).resolve),null)))}(u.route,i,n,t)),(0,Vi.b)(()=>o++),Zs(1),(0,or.zg)(u=>o===r.length?(0,Jt.of)(e):Ei.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Vi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,Vi.b)(m=>{const b=new f_(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),$f(f=>{const{targetSnapshot:m,id:b,extractedUrl:S,rawUrl:k,extras:{skipLocationChange:U,replaceUrl:q}}=f;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:S,rawUrlTree:k,skipLocationChange:!!U,replaceUrl:!!q})}),(0,un.U)(f=>{const m=function(n,t,e){const i=eu(n,t._root,e?e._root:void 0);return new Gu(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),(0,Vi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,un.U)(i=>(new Vf(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Vi.b)({next(){o=!0},complete(){o=!0}}),function(n){return t=>t.lift(new ra(n))}(()=>{var f;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),ia(f=>{if(u=!0,function(n){return n&&n[ec]}(f)){const m=lc(f.url);m||(this.navigated=!0,this.restoreHistory(r,!0));const b=new If(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),m?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),k={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ma(r.source)};this.scheduleNavigation(S,"imperative",null,k,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new ar(r.id,this.serializeUrl(r.extractedUrl),f);i.next(m);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return Ei.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const m=Object.assign({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Vy(e),this.config=e.map(dh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:f,preserveFragment:m}=i,b=r||this.routerState.root,S=m?this.currentUrlTree.fragment:u;let k=null;switch(f){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=o||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,t,e,i,r){if(0===e.length)return ne(t.root,t.root,t,i,r);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pt(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return tr(o.outlets,(m,b)=>{f[b]="string"==typeof m?m.split("/"):m}),[...r,{outlets:f}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,o]},[]);return new pt(e,t,i)}(e);if(o.toRoot())return ne(t.root,new Tn([],{}),t,i,r);const u=function(n,t,e){if(n.isAbsolute)return new tn(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new tn(o,o===t.root,0)}const i=I(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new tn(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),f=u.processChildren?Uo(u.segmentGroup,u.index,o.commands):mo(u.segmentGroup,u.index,o.commands);return ne(u.segmentGroup,f,t,i,r)}(b,this.currentUrlTree,e,k,null!=S?S:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=lc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Ky):!1===i?Object.assign({},xl):i,lc(e))return nh(this.currentUrlTree,e,r);const o=this.parseUrl(e);return nh(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Vu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var f,m,b;if(this.disposed)return Promise.resolve(!1);const S=this.transitions.value,k=Ma(i)&&S&&!Ma(S.source),U=S.rawUrl.toString()===e.toString(),q=S.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(k&&U&&q)return Promise.resolve(!0);let Oe,Je,Vt;u?(Oe=u.resolve,Je=u.reject,Vt=u.promise):Vt=new Promise((qt,yi)=>{Oe=qt,Je=yi});const Zt=++this.navigationId;let ln;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),ln=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):ln=0,this.setTransition({id:Zt,targetPageId:ln,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:Oe,reject:Je,promise:Vt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vt.catch(qt=>Promise.reject(qt))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new If(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ma(n){return"imperative"!==n}let Zf=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Bn.xQ,this.subscription=e.events.subscribe(o=>{o instanceof Vu&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:ph(this.skipLocationChange),replaceUrl:ph(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ph(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bi),s.Y36(la),s.Y36(ee))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function ph(n){return""===n||!!n}class k_{}class M_{preload(t,e){return(0,Jt.of)(null)}}let Cg=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new D_(r,i,m=>e.triggerEvent(new Jd(m)),m=>e.triggerEvent(new ig(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(is(e=>e instanceof Vu),Yl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Li.D)(r).pipe((0,fl.J)(),(0,un.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Jt.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,or.zg)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bi),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(k_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Eg=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ng?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Bu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Bu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ra=new s.OlP("ROUTER_CONFIGURATION"),xg=new s.OlP("ROUTER_FORROOT_GUARD"),Tg=[Ve,{provide:ic,useClass:_l},{provide:Bi,useFactory:function(n,t,e,i,r,o,u={},f,m){const b=new Bi(null,n,t,e,i,r,kf(o));return f&&(b.urlHandlingStrategy=f),m&&(b.routeReuseStrategy=m),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(S=>{var k,U;null===(k=console.group)||void 0===k||k.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(U=console.groupEnd)||void 0===U||U.call(console)}),b},deps:[ic,Bf,Ve,s.zs3,s.Sil,jf,Ra,[class{},new s.FiY],[class{},new s.FiY]]},Bf,{provide:la,useFactory:function(n){return n.routerState.root},deps:[Bi]},Cg,M_,class{preload(t,e){return e().pipe(ia(()=>(0,Jt.of)(null)))}},{provide:Ra,useValue:{enableTracing:!1}}];function Jy(){return new s.PXZ("Router",Bi)}let hc=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Tg,tv(e),{provide:xg,useFactory:ev,deps:[[Bi,new s.FiY,new s.tp0]]},{provide:Ra,useValue:i||{}},{provide:ee,useFactory:Xy,deps:[N,[new s.tBr(K),new s.FiY],Ra]},{provide:Eg,useFactory:qf,deps:[Bi,Mu,Ra]},{provide:k_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:M_},{provide:s.PXZ,multi:!0,useFactory:Jy},[Sg,{provide:s.ip1,multi:!0,useFactory:Oa,deps:[Sg]},{provide:rv,useFactory:iv,deps:[Sg]},{provide:s.tb,multi:!0,useExisting:rv}]]}}static forChild(e){return{ngModule:n,providers:[tv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xg,8),s.LFG(Bi,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function qf(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Eg(n,t,e)}function Xy(n,t,e={}){return e.useHash?new _e(n,t):new pe(n,t)}function ev(n){return"guarded"}function tv(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:jf,multi:!0,useValue:n}]}let Sg=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bn.xQ}appInitializer(){return this.injector.get(R,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),o=this.injector.get(Bi),u=this.injector.get(Ra);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?(0,Jt.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Ra),r=this.injector.get(Cg),o=this.injector.get(Eg),u=this.injector.get(Bi),f=this.injector.get(s.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Oa(n){return n.appInitializer.bind(n)}function iv(n){return n.bootstrapListener.bind(n)}const rv=new s.OlP("Router Initializer");var Ye=O(5861),Pa=O(7489);class ov{}const Na="*";function Kf(n,t){return{type:7,name:n,definitions:t,options:{}}}function _o(n,t=null){return{type:4,styles:t,timings:n}}function lv(n,t=null){return{type:3,steps:n,options:t}}function P_(n,t=null){return{type:2,steps:n,options:t}}function xr(n){return{type:6,styles:n,offset:null}}function Yf(n,t,e){return{type:0,name:n,styles:t,options:e}}function dn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function N_(n,t=null){return{type:8,animation:n,options:t}}function F_(n,t=null){return{type:10,animation:n,options:t}}function V_(n){Promise.resolve(null).then(n)}class gh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){V_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Ig{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?V_(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}var mh=O(353),Ht=O(7130);function od(){return n=>n.lift(new cv)}class cv{call(t,e){return e.subscribe(new B_(t))}}class B_ extends si.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function U_(n,t){return e=>e.lift(new Dg(n,t))}class Dg{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ag(t,this.compare,this.keySelector))}}class Ag extends si.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var $t,ws=O(2011),kg=(O(5881),O(3942)),Jr=O(9681),Sl=O(4859),yo=O(1877),J=O(2090),Mg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Il={},H_=H_||{},Mn=Mg||self;function Qf(){}function Rg(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Jf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var dv="closure_uid_"+(1e9*Math.random()>>>0),Hx=0;function zx(n,t,e){return n.call.apply(n.bind,arguments)}function Wx(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Os(n,t,e){return(Os=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zx:Wx).apply(null,arguments)}function W_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ps(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function ad(){this.s=this.s,this.o=this.o}var Cw={};ad.prototype.s=!1,ad.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,dv)&&n[dv]||(n[dv]=++Hx)}(this);delete Cw[n]}},ad.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fc=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Og=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function $_(n){return Array.prototype.concat.apply([],arguments)}function ou(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Xf(n){return/^[\s\xa0]*$/.test(n)}var Ns,Pg=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ys(n,t){return-1!=n.indexOf(t)}function Dl(n,t){return n<t?-1:n>t?1:0}e:{var hv=Mn.navigator;if(hv){var Ng=hv.userAgent;if(Ng){Ns=Ng;break e}}Ns=""}function j_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function G_(n){const t={};for(const e in n)t[e]=n[e];return t}var fv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pv(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<fv.length;o++)e=fv[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Al(n){return Al[" "](n),n}Al[" "]=Qf;var yh,n,Fg=Ys(Ns,"Opera"),da=Ys(Ns,"Trident")||Ys(Ns,"MSIE"),au=Ys(Ns,"Edge"),pc=au||da,Z_=Ys(Ns,"Gecko")&&!(Ys(Ns.toLowerCase(),"webkit")&&!Ys(Ns,"Edge"))&&!(Ys(Ns,"Trident")||Ys(Ns,"MSIE"))&&!Ys(Ns,"Edge"),q_=Ys(Ns.toLowerCase(),"webkit")&&!Ys(Ns,"Edge");function Lg(){var n=Mn.document;return n?n.documentMode:void 0}e:{var ep="",Vg=(n=Ns,Z_?/rv:([^\);]+)(\)|;)/.exec(n):au?/Edge\/([\d\.]+)/.exec(n):da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):q_?/WebKit\/(\S+)/.exec(n):Fg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vg&&(ep=Vg?Vg[1]:""),da){var gc=Lg();if(null!=gc&&gc>parseFloat(ep)){yh=String(gc);break e}}yh=ep}var Bg={};function gv(){return t=Bg,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=Pg(String(yh)).split("."),e=Pg("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Dl(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Dl(0==r[2].length,0==o[2].length)||Dl(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n}();var t}var K_=Mn.document&&da&&(Lg()||parseInt(yh,10))||void 0,xw=function(){if(!Mn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mn.addEventListener("test",Qf,t),Mn.removeEventListener("test",Qf,t)}catch(e){}return n}();function Cs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function np(n,t){if(Cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Z_){e:{try{Al(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&np.Z.h.call(this)}}Cs.prototype.h=function(){this.defaultPrevented=!0},Ps(np,Cs);var Tw={2:"touch",3:"pen",4:"mouse"};np.prototype.h=function(){np.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Es="closure_listenable_"+(1e6*Math.random()|0),Sw=0;function Iw(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Sw,this.ca=this.fa=!1}function Y_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Q_(n){this.src=n,this.g={},this.h=0}function Ug(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=fc(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Y_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function _v(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}Q_.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=_v(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Iw(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var J_="closure_lm_"+(1e6*Math.random()|0),Qs={};function X_(n,t,e,i,r){if(i&&i.once)return Rn(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)X_(n,t[o],e,i,r);return null}return e=zg(e),n&&n[Es]?n.N(t,e,Jf(i)?!!i.capture:!!i,r):yv(n,t,e,!1,i,r)}function yv(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Jf(r)?!!r.capture:!!r,f=kl(n);if(f||(n[J_]=f=new Q_(n)),(e=f.add(t,e,i,u,o)).proxy)return e;if(i=function(){var t=Dw;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)xw||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(lr(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Rn(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Rn(n,t[o],e,i,r);return null}return e=zg(e),n&&n[Es]?n.O(t,e,Jf(i)?!!i.capture:!!i,r):yv(n,t,e,!0,i,r)}function e0(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)e0(n,t[o],e,i,r);else i=Jf(i)?!!i.capture:!!i,e=zg(e),n&&n[Es]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=_v(o=n.g[t],e,i,r))&&(Y_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=kl(n))&&(t=n.g[t.toString()],n=-1,t&&(n=_v(t,e,i,r)),(e=-1<n?t[n]:null)&&Fs(e))}function Fs(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Es])Ug(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(lr(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=kl(t))?(Ug(e,n),0==e.h&&(e.src=null,t[J_]=null)):Y_(n)}}}function lr(n){return n in Qs?Qs[n]:Qs[n]="on"+n}function Dw(n,t){if(n.ca)n=!0;else{t=new np(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Fs(n),n=e.call(i,t)}return n}function kl(n){return(n=n[J_])instanceof Q_?n:null}var Hg="__closure_events_fn_"+(1e9*Math.random()>>>0);function zg(n){return"function"==typeof n?n:(n[Hg]||(n[Hg]=function(t){return n.handleEvent(t)}),n[Hg])}function as(){ad.call(this),this.i=new Q_(this),this.P=this,this.I=null}function Gi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Cs(t,n);else if(t instanceof Cs)t.target=t.target||n;else{var r=t;pv(t=new Cs(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=vh(u,i,!0,t)&&r}if(r=vh(u=t.g=n,i,!0,t)&&r,r=vh(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=vh(u=t.g=e[o],i,!1,t)&&r}function vh(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var f=u.listener,m=u.ia||u.src;u.fa&&Ug(n.i,u),r=!1!==f.call(m,i)&&r}}return r&&!i.defaultPrevented}Ps(as,ad),as.prototype[Es]=!0,as.prototype.removeEventListener=function(n,t,e,i){e0(this,n,t,e,i)},as.prototype.M=function(){if(as.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Y_(e[i]);delete n.g[t],n.h--}}this.I=null},as.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},as.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var ip=Mn.JSON.stringify;function Aw(){var n=rp;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var bh,Wg=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $g,n=>n.reset());class $g{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function cr(n){Mn.setTimeout(()=>{throw n},0)}function nr(n,t){bh||function(){var n=Mn.Promise.resolve(void 0);bh=function(){n.then(n0)}}(),t0||(bh(),t0=!0),rp.add(n,t)}var t0=!1,rp=new class{constructor(){this.h=this.g=null}add(t,e){const i=Wg.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function n0(){for(var n;n=Aw();){try{n.h.call(n.g)}catch(e){cr(e)}var t=Wg;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}t0=!1}function jg(n,t){as.call(this),this.h=n||1,this.g=t||Mn,this.j=Os(this.kb,this),this.l=Date.now()}function sp(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function wh(n,t,e){if("function"==typeof n)e&&(n=Os(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Os(n.handleEvent,n)}return 2147483647<Number(t)?-1:Mn.setTimeout(n,t||0)}function cd(n){n.g=wh(()=>{n.g=null,n.i&&(n.i=!1,cd(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ps(jg,as),($t=jg.prototype).da=!1,$t.S=null,$t.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gi(this,"tick"),this.da&&(sp(this),this.start()))}},$t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.M=function(){jg.Z.M.call(this),sp(this),delete this.g};class r0 extends ad{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cd(this)}M(){super.M(),this.g&&(Mn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function op(n){ad.call(this),this.h=n,this.g={}}Ps(op,ad);var ap=[];function Gg(n,t,e,i){Array.isArray(e)||(e&&(ap[0]=e.toString()),e=ap);for(var r=0;r<e.length;r++){var o=X_(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function vo(n){j_(n.g,function(t,e){this.g.hasOwnProperty(e)&&Fs(t)},n),n.g={}}function Ml(){this.g=!0}function ud(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return ip(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}op.prototype.M=function(){op.Z.M.call(this),vo(this)},op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ml.prototype.Aa=function(){this.g=!1},Ml.prototype.info=function(){};var La={},Rl=null;function On(){return Rl=Rl||new as}function Cv(n){Cs.call(this,La.Ma,n)}function ls(n){const t=On();Gi(t,new Cv(t,n))}function Zg(n,t){Cs.call(this,La.STAT_EVENT,n),this.stat=t}function xs(n){const t=On();Gi(t,new Zg(t,n))}function oi(n,t){Cs.call(this,La.Na,n),this.size=t}function lp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mn.setTimeout(function(){n()},t)}La.Ma="serverreachability",Ps(Cv,Cs),La.STAT_EVENT="statevent",Ps(Zg,Cs),La.Na="timingevent",Ps(oi,Cs);var dd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ch={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qg(){}function Ev(){}qg.prototype.h=null;var Kg,hd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function o0(){Cs.call(this,"d")}function a0(){Cs.call(this,"c")}function _c(){}function Eh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new op(this),this.P=Mw,this.W=new jg(n=pc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}Ps(o0,Cs),Ps(a0,Cs),Ps(_c,qg),_c.prototype.g=function(){return new XMLHttpRequest},_c.prototype.i=function(){return{}},Kg=new _c;var Mw=45e3,cu={},Yg={};function cp(n,t,e){n.K=1,n.v=Xr(vc(t)),n.s=e,n.U=!0,Tv(n,null)}function Tv(n,t){n.F=Date.now(),xh(n),n.A=vc(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Ov(e.h,"t",i),n.C=0,e=n.l.H,n.h=new xv,n.g=zv(n.l,e?t:null,!n.s),0<n.O&&(n.L=new r0(Os(n.Ia,n,n.g),n.O)),Gg(n.V,n.g,"readystatechange",n.gb),t=n.H?G_(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),ls(1),function(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",f=o.split("&"),m=0;m<f.length;m++){var b=f[m].split("=");if(1<b.length){var S=b[0];b=b[1];var k=S.split("_");u=2<=k.length&&"type"==k[1]?u+(S+"=")+b+"&":u+(S+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Qg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ho(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=l0(n,e),r==Yg){4==t&&(n.o=4,xs(14),i=!1),ud(n.j,n.m,null,"[Incomplete Response]");break}if(r==cu){n.o=4,xs(15),ud(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ud(n.j,n.m,r,null),c0(n,r)}Qg(n)&&r!=Yg&&r!=cu&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,xs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Bv(t),t.L=!0,xs(11))):(ud(n.j,n.m,e,"[Invalid Chunked Response]"),fd(n),Th(n))}function l0(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Yg:(e=Number(t.substring(e,i)),isNaN(e)?cu:(i+=1)+e>t.length?Yg:(t=t.substr(i,e),n.C=i+e,t))}function xh(n){n.Y=Date.now()+n.P,$r(n,n.P)}function $r(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lp(Os(n.eb,n),t)}function cs(n){n.B&&(Mn.clearTimeout(n.B),n.B=null)}function Th(n){0==n.l.G||n.I||Uv(n.l,n)}function fd(n){cs(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,sp(n.W),vo(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function c0(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||p0(e.i,n)))if(e.I=n.N,!n.J&&p0(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=lp(Os(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;b0(e),gp(e)}v0(e),xs(18)}if(1>=Pv(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else Fh(e,11)}else if((n.J||e.g==n)&&b0(e),!Xf(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const S=b[3];null!=S&&(e.ma=S,e.h.info("VER="+e.ma));const k=b[4];null!=k&&(e.za=k,e.h.info("SVER="+e.za));const U=b[5];null!=U&&"number"==typeof U&&0<U&&(e.K=i=1.5*U,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const q=n.g;if(q){const le=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(le){var o=i.i;!o.g&&(Ys(le,"spdy")||Ys(le,"quic")||Ys(le,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(dp(o,o.h),o.h=null))}if(i.D){const Oe=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(i.sa=Oe,ur(i.F,i.D,Oe))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=bd(i,i.H?i.la:null,i.W),u.J){Va(i.i,u);var f=u,m=i.K;m&&f.setTimeout(m),f.B&&(cs(f),xh(f)),i.g=u}else om(i);0<e.l.length&&Nh(e)}else"stop"!=b[0]&&"close"!=b[0]||Fh(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Fh(e,7):im(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}ls(4)}catch(b){}}function u0(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Rg(n)||"string"==typeof n)Og(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Rg(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Rg(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function pd(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof pd)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Iv(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];yc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)yc(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function yc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}($t=Eh.prototype).setTimeout=function(n){this.P=n},$t.gb=function(n){n=n.target;const t=this.L;t&&3==wc(n)?t.l():this.Ia(n)},$t.Ia=function(n){try{if(n==this.g)e:{const S=wc(this.g);var t=this.g.Da();const k=this.g.ba();if(!(3>S)&&(3!=S||pc||this.g&&(this.h.h||this.g.ga()||pp(this.g)))){this.I||4!=S||7==t||ls(8==t||0>=k?3:2),cs(this);var e=this.g.ba();this.N=e;t:if(Qg(this)){var i=pp(this.g);n="";var r=i.length,o=4==wc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fd(this),Th(this);var u="";break t}this.h.i=new Mn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,S,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xf(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,xs(12),fd(this),Th(this);break e}ud(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,c0(this,e)}this.U?(Ho(this,S,u),pc&&this.i&&3==S&&(Gg(this.V,this.W,"tick",this.fb),this.W.start())):(ud(this.j,this.m,u,null),c0(this,u)),4==S&&fd(this),this.i&&!this.I&&(4==S?Uv(this.l,this):(this.i=!1,xh(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,xs(12)):(this.o=0,xs(13)),fd(this),Th(this)}}}catch(S){}},$t.fb=function(){if(this.g){var n=wc(this.g),t=this.g.ga();this.C<t.length&&(cs(this),Ho(this,n,t),this.i&&4!=n&&xh(this))}},$t.cancel=function(){this.I=!0,fd(this)},$t.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ls(3),xs(17)),fd(this),this.o=2,Th(this)):$r(this,this.Y-n)},($t=pd.prototype).R=function(){Iv(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},$t.T=function(){return Iv(this),this.g.concat()},$t.get=function(n,t){return yc(this.h,n)?this.h[n]:t},$t.set=function(n,t){yc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},$t.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var Dv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sh(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Sh){this.g=void 0!==t?t:n.g,gd(this,n.j),this.s=n.s,Jg(this,n.i),up(this,n.m),this.l=n.l,t=n.h;var e=new md;e.i=t.i,t.g&&(e.g=new pd(t.g),e.h=t.h),d0(this,e),this.o=n.o}else n&&(e=String(n).match(Dv))?(this.g=!!t,gd(this,e[1]||"",!0),this.s=Ih(e[2]||""),Jg(this,e[3]||"",!0),up(this,e[4]),this.l=Ih(e[5]||"",!0),d0(this,e[6]||"",!0),this.o=Ih(e[7]||"")):(this.g=!!t,this.h=new md(null,this.g))}function vc(n){return new Sh(n)}function gd(n,t,e){n.j=e?Ih(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Jg(n,t,e){n.i=e?Ih(t,!0):t}function up(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function d0(n,t,e){t instanceof md?(n.h=t,function(n,t){t&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Mv(this,i),Ov(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Dh(t,f0)),n.h=new md(t,n.g))}function ur(n,t,e){n.h.set(t,e)}function Xr(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ih(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Av),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Av(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Dh(t,h0,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Dh(t,h0,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Dh(e,"/"==e.charAt(0)?kv:Ow,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Dh(e,Pw)),n.join("")};var h0=/[#\/\?@]/g,Ow=/[#\?:]/g,kv=/[#\?]/g,f0=/[#\?@]/g,Pw=/#/g;function md(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function uu(n){n.g||(n.g=new pd,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Mv(n,t){uu(n),t=Ah(n,t),yc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,yc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Iv(n)))}function Rv(n,t){return uu(n),t=Ah(n,t),yc(n.g.h,t)}function Ov(n,t,e){Mv(n,t),0<e.length&&(n.i=null,n.g.set(Ah(n,t),ou(e)),n.h+=e.length)}function Ah(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function _d(n){this.l=n||Fw,n=Mn.PerformanceNavigationTiming?0<(n=Mn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mn.g&&Mn.g.Ea&&Mn.g.Ea()&&Mn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=md.prototype).add=function(n,t){uu(this),this.i=null,n=Ah(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},$t.forEach=function(n,t){uu(this),this.g.forEach(function(e,i){Og(e,function(r){n.call(t,r,i,this)},this)},this)},$t.T=function(){uu(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},$t.R=function(n){uu(this);var t=[];if("string"==typeof n)Rv(this,n)&&(t=$_(t,this.g.get(Ah(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=$_(t,n[e])}return t},$t.set=function(n,t){return uu(this),this.i=null,Rv(this,n=Ah(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},$t.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var Fw=10;function kh(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Pv(n){return n.h?1:n.g?n.g.size:0}function p0(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function dp(n,t){n.g?n.g.add(t):n.h=t}function Va(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Mh(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ou(n.i)}function us(){}function yd(){this.g=new us}function em(n,t,e){const i=e||"";try{u0(n,function(r,o){let u=r;Jf(r)&&(u=ip(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Rh(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function Ol(n){this.l=n.$b||null,this.j=n.ib||!1}function Ba(n,t){as.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=bc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_d.prototype.cancel=function(){if(this.i=Mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},us.prototype.stringify=function(n){return Mn.JSON.stringify(n,void 0)},us.prototype.parse=function(n){return Mn.JSON.parse(n,void 0)},Ps(Ol,qg),Ol.prototype.g=function(){return new Ba(this.l,this.j)},Ol.prototype.i=function(n){return function(){return n}}({}),Ps(Ba,as);var bc=0;function du(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Pl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nl(n)}function Nl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Ba.prototype).open=function(n,t){if(this.readyState!=bc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Nl(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Mn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pl(this)),this.readyState=bc},$t.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;du(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$t.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Pl(this):Nl(this),3==this.readyState&&du(this)}},$t.Ua=function(n){this.g&&(this.response=this.responseText=n,Pl(this))},$t.Ta=function(n){this.g&&(this.response=n,Pl(this))},$t.ha=function(){this.g&&Pl(this)},$t.setRequestHeader=function(n,t){this.v.append(n,t)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Oh=Mn.JSON.parse;function Ui(n){as.call(this),this.headers=new pd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vd,this.K=this.L=!1}Ps(Ui,as);var vd="",Nv=/^https?$/i,Fv=["POST","PUT"];function tm(n){return"content-type"==n.toLowerCase()}function g0(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,m0(n),hp(n)}function m0(n){n.D||(n.D=!0,Gi(n,"complete"),Gi(n,"error"))}function _0(n){if(n.h&&void 0!==H_&&(!n.C[1]||4!=wc(n)||2!=n.ba()))if(n.v&&4==wc(n))wh(n.Fa,0,n);else if(Gi(n,"readystatechange"),4==wc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(Dv)[1]||null;if(!r&&Mn.self&&Mn.self.location){var o=Mn.self.location.protocol;r=o.substr(0,o.length-1)}i=!Nv.test(r?r.toLowerCase():"")}e=i}if(e)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var u=2<wc(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.ba()+"]",m0(n)}}finally{hp(n)}}}function hp(n,t){if(n.g){fp(n);const e=n.g,i=n.C[0]?Qf:null;n.g=null,n.C=null,t||Gi(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function fp(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mn.clearTimeout(n.A),n.A=null)}function wc(n){return n.g?n.g.readyState:0}function pp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nm(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return j_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ur(n,t,e))}function Ph(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Lv(n){this.za=0,this.l=[],this.h=new Ml,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ph("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ph("baseRetryDelayMs",5e3,n),this.$a=Ph("retryDelaySeedMs",1e4,n),this.Ya=Ph("forwardChannelMaxRetries",2,n),this.ra=Ph("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _d(n&&n.concurrentRequestLimit),this.Ca=new yd,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function im(n){if(Vv(n),3==n.G){var t=n.V++,e=vc(n.F);ur(e,"SID",n.J),ur(e,"RID",t),ur(e,"TYPE","terminate"),mp(n,e),(t=new Eh(n,n.h,t,void 0)).K=2,t.v=Xr(vc(e)),e=!1,Mn.navigator&&Mn.navigator.sendBeacon&&(e=Mn.navigator.sendBeacon(t.v.toString(),"")),!e&&Mn.Image&&((new Image).src=t.v,e=!0),e||(t.g=zv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),xh(t)}Hv(n)}function gp(n){n.g&&(Bv(n),n.g.cancel(),n.g=null)}function Vv(n){gp(n),n.u&&(Mn.clearTimeout(n.u),n.u=null),b0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Mn.clearTimeout(n.m),n.m=null)}function rm(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Nh(n)}function Nh(n){kh(n.i)||n.m||(n.m=!0,nr(n.Ha,n),n.C=0)}function Vw(n,t){var e;e=t?t.m:n.V++;const i=vc(n.F);ur(i,"SID",n.J),ur(i,"RID",e),ur(i,"AID",n.U),mp(n,i),n.o&&n.s&&nm(i,n.o,n.s),e=new Eh(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=sm(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dp(n.i,e),cp(e,i,t)}function mp(n,t){n.j&&u0({},function(e,i){ur(t,i,e)})}function sm(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Os(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let f=!0;for(let m=0;m<e;m++){let b=r[m].h;const S=r[m].g;if(b-=o,0>b)o=Math.max(0,r[m].h-100),f=!1;else try{em(S,u,"req"+b+"_")}catch(k){i&&i(S)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function om(n){n.g||n.u||(n.Y=1,nr(n.Ga,n),n.A=0)}function v0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=lp(Os(n.Ga,n),w0(n,n.A)),n.A++,0))}function Bv(n){null!=n.B&&(Mn.clearTimeout(n.B),n.B=null)}function Bw(n){n.g=new Eh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=vc(n.oa);ur(t,"RID","rpc"),ur(t,"SID",n.J),ur(t,"CI",n.N?"0":"1"),ur(t,"AID",n.U),mp(n,t),ur(t,"TYPE","xmlhttp"),n.o&&n.s&&nm(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Xr(vc(t)),e.s=null,e.U=!0,Tv(e,n)}function b0(n){null!=n.v&&(Mn.clearTimeout(n.v),n.v=null)}function Uv(n,t){var e=null;if(n.g==t){b0(n),Bv(n),n.g=null;var i=2}else{if(!p0(n.i,t))return;e=t.D,Va(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Gi(i=On(),new oi(i,e,t,r)),Nh(n)}else om(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function(n,t){return!(Pv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=lp(Os(n.Ha,n,t),w0(n,n.C)),n.C++,0)))}(n,t)||2==i&&v0(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Fh(n,5);break;case 4:Fh(n,10);break;case 3:Fh(n,6);break;default:Fh(n,2)}}function w0(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Fh(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Os(n.jb,n);e||(e=new Sh("//www.google.com/images/cleardot.gif"),Mn.location&&"http"==Mn.location.protocol||gd(e,"https"),Xr(e)),function(n,t){const e=new Ml;if(Mn.Image){const i=new Image;i.onload=W_(Rh,e,i,"TestLoadImage: loaded",!0,t),i.onerror=W_(Rh,e,i,"TestLoadImage: error",!1,t),i.onabort=W_(Rh,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=W_(Rh,e,i,"TestLoadImage: timeout",!1,t),Mn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else xs(2);n.G=0,n.j&&n.j.va(t),Hv(n),Vv(n)}function Hv(n){n.G=0,n.I=-1,n.j&&((0!=Mh(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ou(n.l),n.l.length=0),n.j.ua())}function bd(n,t,e){let i=function(n){return n instanceof Sh?vc(n):new Sh(n,void 0)}(e);if(""!=i.i)t&&Jg(i,t+"."+i.i),up(i,i.m);else{const r=Mn.location;i=function(n,t,e,i){var r=new Sh(null,void 0);return n&&gd(r,n),t&&Jg(r,t),e&&up(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&j_(n.aa,function(r,o){ur(i,o,r)}),e=n.sa,(t=n.D)&&e&&ur(i,t,e),ur(i,"VER",n.ma),mp(n,i),i}function zv(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ui(e&&n.Ba&&!n.qa?new Ol({ib:!0}):n.qa)).L=n.H,t}function C0(){}function am(){if(da&&!(10<=Number(K_)))throw Error("Environmental error: no available transport.")}function bo(n,t){as.call(this),this.g=new Lv(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Xf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xf(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new wd(this)}function _p(n){o0.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Wv(){a0.call(this),this.status=1}function wd(n){this.g=n}($t=Ui.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kg.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Kg),this.g.onreadystatechange=Os(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void g0(this,o)}n=e||"";const r=new pd(this.headers);i&&u0(i,function(o,u){r.set(u,o)}),i=function(n){e:{var t=tm;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Mn.FormData&&n instanceof Mn.FormData,!(0<=fc(Fv,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fp(this),0<this.B&&((this.K=function(n){return da&&gv()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Os(this.pa,this)):this.A=wh(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){g0(this,o)}},$t.pa=function(){void 0!==H_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),hp(this))},$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hp(this,!0)),Ui.Z.M.call(this)},$t.Fa=function(){this.s||(this.F||this.v||this.l?_0(this):this.cb())},$t.cb=function(){_0(this)},$t.ba=function(){try{return 2<wc(this)?this.g.status:-1}catch(n){return-1}},$t.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},$t.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Oh(t)}},$t.Da=function(){return this.m},$t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=Lv.prototype).ma=8,$t.G=1,$t.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},$t.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Eh(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=G_(o),pv(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=sm(this,r,t),ur(e=vc(this.F),"RID",n),ur(e,"CVER",22),this.D&&ur(e,"X-HTTP-Session-Id",this.D),mp(this,e),this.o&&o&&nm(e,this.o,o),dp(this.i,r),this.Ra&&ur(e,"TYPE","init"),this.ja?(ur(e,"$req",t),ur(e,"SID","null"),r.$=!0,cp(r,e,null)):cp(r,e,t),this.G=2}}else 3==this.G&&(n?Vw(this,n):0==this.l.length||kh(this.i)||Vw(this))},$t.Ga=function(){if(this.u=null,Bw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=lp(Os(this.bb,this),n)}},$t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xs(10),gp(this),Bw(this))},$t.ab=function(){null!=this.v&&(this.v=null,gp(this),v0(this),xs(19))},$t.jb=function(n){n?(this.h.info("Successfully pinged google.com"),xs(2)):(this.h.info("Failed to ping google.com"),xs(1))},($t=C0.prototype).xa=function(){},$t.wa=function(){},$t.va=function(){},$t.ua=function(){},$t.Oa=function(){},am.prototype.g=function(n,t){return new bo(n,t)},Ps(bo,as),bo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),nr(Os(n.hb,n,t))),xs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=bd(n,null,n.W),Nh(n)},bo.prototype.close=function(){im(this.g)},bo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,rm(this.g,t)}else this.v?((t={}).__data__=ip(n),rm(this.g,t)):rm(this.g,n)},bo.prototype.M=function(){this.g.j=null,delete this.j,im(this.g),delete this.g,bo.Z.M.call(this)},Ps(_p,o0),Ps(Wv,a0),Ps(wd,C0),wd.prototype.xa=function(){Gi(this.g,"a")},wd.prototype.wa=function(n){Gi(this.g,new _p(n))},wd.prototype.va=function(n){Gi(this.g,new Wv(n))},wd.prototype.ua=function(){Gi(this.g,"b")},am.prototype.createWebChannel=am.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,Ch.COMPLETE="complete",Ev.EventType=hd,hd.OPEN="a",hd.CLOSE="b",hd.ERROR="c",hd.MESSAGE="d",as.prototype.listen=as.prototype.N,Ui.prototype.listenOnce=Ui.prototype.O,Ui.prototype.getLastError=Ui.prototype.La,Ui.prototype.getLastErrorCode=Ui.prototype.Da,Ui.prototype.getStatus=Ui.prototype.ba,Ui.prototype.getResponseJson=Ui.prototype.Qa,Ui.prototype.getResponseText=Ui.prototype.ga,Ui.prototype.send=Ui.prototype.ea;var Uw=Il.createWebChannelTransport=function(){return new am},d=Il.getStatEventTarget=function(){return On()},g=Il.ErrorCode=dd,w=Il.EventType=Ch,A=Il.Event=La,B=Il.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Y=Il.FetchXmlHttpFactory=Ol,de=Il.WebChannel=Ev,xe=Il.XhrIo=Ui;const Pe="@firebase/firestore";class nt{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");let at="9.6.2";const ft=new yo.Yd("@firebase/firestore");function Ot(){return ft.logLevel}function Qe(n,...t){if(ft.logLevel<=yo.in.DEBUG){const e=t.map(Zn);ft.debug(`Firestore (${at}): ${n}`,...e)}}function Xt(n,...t){if(ft.logLevel<=yo.in.ERROR){const e=t.map(Zn);ft.error(`Firestore (${at}): ${n}`,...e)}}function an(n,...t){if(ft.logLevel<=yo.in.WARN){const e=t.map(Zn);ft.warn(`Firestore (${at}): ${n}`,...e)}}function Zn(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function yt(n="Unexpected state"){const t=`FIRESTORE (${at}) INTERNAL ASSERTION FAILED: `+n;throw Xt(t),new Error(t)}function Kt(n,t){n||yt()}function xt(n,t){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends J.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lm{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Gx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(nt.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Zx{constructor(t){this.t=t,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ri,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const b=u;t.enqueueRetryable((0,Ye.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},m=b=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ri)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt("string"==typeof i.accessToken),new lm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Kt(null===t||"string"==typeof t),new nt(t)}}class qx{constructor(t,e,i){this.type="FirstParty",this.user=nt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class zw{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new qx(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ww{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=r=>{t.enqueueRetryable(()=>{return null!=(o=r).error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`),e(o.token);var o})};const i=r=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt("string"==typeof e.token),new Ww(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class fa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function $w(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}fa.I=-1;class jw{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=$w(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function di(n,t){return n<t?-1:n>t?1:0}function yp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Gw(n){return n+"\0"}class ds{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new dt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ds.fromMillis(Date.now())}static fromDate(t){return ds.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ds(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?di(this.nanoseconds,t.nanoseconds):di(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Pn(t)}static min(){return new Pn(new ds(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Zw(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Lh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class cm{constructor(t,e,i){void 0===e?e=0:e>t.length&&yt(),void 0===i?i=t.length-e:i>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===cm.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof cm?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ti extends cm{construct(t,e,i){return new Ti(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new dt(je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Ti(e)}static emptyPath(){return new Ti([])}}const Kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vs extends cm{construct(t,e,i){return new Vs(t,e,i)}static isValidIdentifier(t){return Kx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vs(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new dt(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new dt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new dt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(o(),r++)}if(o(),u)throw new dt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vs(e)}static emptyPath(){return new Vs([])}}class vp{constructor(t){this.fields=t,t.sort(Vs.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Ts{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ts(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Ts(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return di(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ts.EMPTY_BYTE_STRING=new Ts("");const NI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cd(n){if(Kt(!!n),"string"==typeof n){let t=0;const e=NI.exec(n);if(Kt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hs(n.seconds),nanos:hs(n.nanos)}}function hs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Tr(n){return"string"==typeof n?Ts.fromBase64String(n):Ts.fromUint8Array(n)}function $v(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Yx(n){const t=n.mapValue.fields.__previous_value__;return $v(t)?Yx(t):t}function E0(n){const t=Cd(n.mapValue.fields.__local_write_time__.timestampValue);return new ds(t.seconds,t.nanos)}function Vh(n){return null==n}function jv(n){return 0===n&&1/n==-1/0}function Kw(n){return"number"==typeof n&&Number.isInteger(n)&&!jv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class nn{constructor(t){this.path=t}static fromPath(t){return new nn(Ti.fromString(t))}static fromName(t){return new nn(Ti.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Ti.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ti.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nn(new Ti(t.slice()))}}function Fl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$v(n)?4:10:yt()}function hu(n,t){if(n===t)return!0;const e=Fl(n);if(e!==Fl(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return E0(n).isEqual(E0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Cd(i.timestampValue),u=Cd(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Tr(n.bytesValue).isEqual(Tr(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return hs(i.geoPointValue.latitude)===hs(r.geoPointValue.latitude)&&hs(i.geoPointValue.longitude)===hs(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return hs(i.integerValue)===hs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=hs(i.doubleValue),u=hs(r.doubleValue);return o===u?jv(o)===jv(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return yp(n.arrayValue.values||[],t.arrayValue.values||[],hu);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Zw(o)!==Zw(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===u[f]||!hu(o[f],u[f])))return!1;return!0}(n,t);default:return yt()}var r}function x0(n,t){return void 0!==(n.values||[]).find(e=>hu(e,t))}function bp(n,t){if(n===t)return 0;const e=Fl(n),i=Fl(t);if(e!==i)return di(e,i);switch(e){case 0:return 0;case 1:return di(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=hs(r.integerValue||r.doubleValue),f=hs(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return Qx(n.timestampValue,t.timestampValue);case 4:return Qx(E0(n),E0(t));case 5:return di(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Tr(r),f=Tr(o);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),f=o.split("/");for(let m=0;m<u.length&&m<f.length;m++){const b=di(u[m],f[m]);if(0!==b)return b}return di(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=di(hs(r.latitude),hs(o.latitude));return 0!==u?u:di(hs(r.longitude),hs(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],f=o.values||[];for(let m=0;m<u.length&&m<f.length;++m){const b=bp(u[m],f[m]);if(b)return b}return di(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){const u=r.fields||{},f=Object.keys(u),m=o.fields||{},b=Object.keys(m);f.sort(),b.sort();for(let S=0;S<f.length&&S<b.length;++S){const k=di(f[S],b[S]);if(0!==k)return k;const U=bp(u[f[S]],m[b[S]]);if(0!==U)return U}return di(f.length,b.length)}(n.mapValue,t.mapValue);default:throw yt()}}function Qx(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return di(n,t);const e=Cd(n),i=Cd(t),r=di(e.seconds,i.seconds);return 0!==r?r:di(e.nanos,i.nanos)}function Gv(n){return Jx(n)}function Jx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Cd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Tr(n.bytesValue).toBase64():"referenceValue"in n?nn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Jx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Jx(i.fields[f])}`;return o+"}"}(n.mapValue):yt();var t}function um(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function T0(n){return!!n&&"integerValue"in n}function Ll(n){return!!n&&"arrayValue"in n}function Xx(n){return!!n&&"nullValue"in n}function Yw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ua(n){return!!n&&"mapValue"in n}function zo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Lh(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=zo(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=zo(n.arrayValue.values[e]);return t}return Object.assign({},n)}class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ua(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zo(e)}setAll(t){let e=Vs.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=zo(u):r.push(f.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Ua(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ua(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Lh(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ir(zo(this.value))}}function Qw(n){const t=[];return Lh(n.fields,(e,i)=>{const r=new Vs([e]);if(Ua(i)){const o=Qw(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new vp(t)}class dr{constructor(t,e,i,r,o){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=o}static newInvalidDocument(t){return new dr(t,0,Pn.min(),ir.empty(),0)}static newFoundDocument(t,e,i){return new dr(t,1,e,i,0)}static newNoDocument(t,e){return new dr(t,2,e,ir.empty(),0)}static newUnknownDocument(t,e){return new dr(t,3,e,ir.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class FI{constructor(t,e=null,i=[],r=[],o=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=f,this.R=null}}function eT(n,t=null,e=[],i=[],r=null,o=null,u=null){return new FI(n,t,e,i,r,o,u)}function S0(n){const t=xt(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+Gv(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=hm(t.startAt)),t.endAt&&(e+="|ub:",e+=hm(t.endAt)),t.R=e}return t.R}function dm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!oT(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!hu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eC(n.startAt,t.startAt)&&eC(n.endAt,t.endAt)}function Bh(n){return nn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Wo extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new VI(t,e,i):"array-contains"===e?new BI(t,i):"in"===e?new rT(t,i):"not-in"===e?new sT(t,i):"array-contains-any"===e?new Jw(t,i):new Wo(t,e,i)}static P(t,e,i){return"in"===e?new nT(t,i):new iT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(bp(e,this.value)):null!==e&&Fl(this.value)===Fl(e)&&this.v(bp(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class VI extends Wo{constructor(t,e,i){super(t,e,i),this.key=nn.fromName(i.referenceValue)}matches(t){const e=nn.comparator(t.key,this.key);return this.v(e)}}class nT extends Wo{constructor(t,e){super(t,"in",e),this.keys=I0(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class iT extends Wo{constructor(t,e){super(t,"not-in",e),this.keys=I0(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function I0(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nn.fromName(i.referenceValue))}class BI extends Wo{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ll(e)&&x0(e.arrayValue,this.value)}}class rT extends Wo{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&x0(this.value.arrayValue,e)}}class sT extends Wo{constructor(t,e){super(t,"not-in",e)}matches(t){if(x0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!x0(this.value.arrayValue,e)}}class Jw extends Wo{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ll(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>x0(this.value.arrayValue,i))}}class Uh{constructor(t,e){this.position=t,this.before=e}}function hm(n){return`${n.before?"b":"a"}:${n.position.map(t=>Gv(t)).join(",")}`}class wp{constructor(t,e="asc"){this.field=t,this.dir=e}}function oT(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Xw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?nn.comparator(nn.fromName(u.referenceValue),e.key):bp(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function eC(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!hu(n.position[e],t.position[e]))return!1;return!0}class fu{constructor(t,e=null,i=[],r=[],o=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=m,this.S=null,this.D=null}}function tC(n,t,e,i,r,o,u,f){return new fu(n,t,e,i,r,o,u,f)}function Cp(n){return new fu(n)}function Zv(n){return!Vh(n.limit)&&"F"===n.limitType}function qv(n){return!Vh(n.limit)&&"L"===n.limitType}function nC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iC(n){for(const t of n.filters)if(t.V())return t.field;return null}function rC(n){return null!==n.collectionGroup}function fm(n){const t=xt(n);if(null===t.S){t.S=[];const e=iC(t),i=nC(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new wp(e)),t.S.push(new wp(Vs.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.S.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new wp(Vs.keyField(),o))}}}return t.S}function Vl(n){const t=xt(n);if(!t.D)if("F"===t.limitType)t.D=eT(t.path,t.collectionGroup,fm(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of fm(t))e.push(new wp(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Uh(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Uh(t.startAt.position,!t.startAt.before):null;t.D=eT(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.D}function aT(n,t,e){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function D0(n,t){return dm(Vl(n),Vl(t))&&n.limitType===t.limitType}function lT(n){return`${S0(Vl(n))}|lt:${n.limitType}`}function sC(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Gv(i.value)}`;var i}).join(", ")}]`),Vh(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+hm(n.startAt)),n.endAt&&(t+=", endAt: "+hm(n.endAt)),`Target(${t})`}(Vl(n))}; limitType=${n.limitType})`}function A0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nn.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!Xw(e.startAt,fm(e),i)||e.endAt&&Xw(e.endAt,fm(e),i)));var e,i}function cT(n){return(t,e)=>{let i=!1;for(const r of fm(n)){const o=UI(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function UI(n,t,e){const i=n.field.isKeyField()?nn.comparator(t.key,e.key):function(r,o,u){const f=o.data.field(r),m=u.data.field(r);return null!==f&&null!==m?bp(f,m):yt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}function uT(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jv(t)?"-0":t}}function dT(n){return{integerValue:""+n}}function hT(n,t){return Kw(t)?dT(t):uT(n,t)}class Kv{constructor(){this._=void 0}}function fT(n,t,e){return n instanceof Ep?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Hh?aC(n,t):n instanceof zh?lC(n,t):function(i,r){const o=oC(i,r),u=cC(o)+cC(i.N);return T0(o)&&T0(i.N)?dT(u):uT(i.k,u)}(n,t)}function pT(n,t,e){return n instanceof Hh?aC(n,t):n instanceof zh?lC(n,t):e}function oC(n,t){return n instanceof xp?T0(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ep extends Kv{}class Hh extends Kv{constructor(t){super(),this.elements=t}}function aC(n,t){const e=uC(t);for(const i of n.elements)e.some(r=>hu(r,i))||e.push(i);return{arrayValue:{values:e}}}class zh extends Kv{constructor(t){super(),this.elements=t}}function lC(n,t){let e=uC(t);for(const i of n.elements)e=e.filter(r=>!hu(r,i));return{arrayValue:{values:e}}}class xp extends Kv{constructor(t,e){super(),this.k=t,this.N=e}}function cC(n){return hs(n.integerValue||n.doubleValue)}function uC(n){return Ll(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cc{constructor(t,e){this.field=t,this.transform=e}}class zI{constructor(t,e){this.version=t,this.transformResults=e}}class hr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dC(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class pm{}function PR(n,t,e){n instanceof k0?function(i,r,o){const u=i.value.clone(),f=M0(i.fieldTransforms,r,o.transformResults);u.setAll(f),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Wh?function(i,r,o){if(!dC(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=M0(i.fieldTransforms,r,o.transformResults),f=r.data;f.setAll(mT(i)),f.setAll(u),r.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Yv(n,t,e){var r;n instanceof k0?function(i,r,o){if(!dC(i.precondition,r))return;const u=i.value.clone(),f=_T(i.fieldTransforms,o,r);u.setAll(f),r.convertToFoundDocument(yn(r),u).setHasLocalMutations()}(n,t,e):n instanceof Wh?function(i,r,o){if(!dC(i.precondition,r))return;const u=_T(i.fieldTransforms,o,r),f=r.data;f.setAll(mT(i)),f.setAll(u),r.convertToFoundDocument(yn(r),f).setHasLocalMutations()}(n,t,e):dC(n.precondition,r=t)&&r.convertToNoDocument(Pn.min())}function gT(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=oC(i.transform,r||null);null!=o&&(null==e&&(e=ir.empty()),e.set(i.field,o))}return e||null}function WI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&yp(e,i,(r,o)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Hh&&i instanceof Hh||e instanceof zh&&i instanceof zh?yp(e.elements,i.elements,hu):e instanceof xp&&i instanceof xp?hu(e.N,i.N):e instanceof Ep&&i instanceof Ep);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function yn(n){return n.isFoundDocument()?n.version:Pn.min()}class k0 extends pm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Wh extends pm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function mT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function M0(n,t,e){const i=new Map;Kt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,f=t.data.field(o.field);i.set(o.field,pT(u,f,e[r]))}return i}function _T(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,fT(o,u,t))}return i}class $h extends pm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class gm extends pm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class jr{constructor(t){this.count=t}}var Ss,_i;function yT(n){switch(n){default:return yt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function vT(n){if(void 0===n)return Xt("GRPC error has no .code"),je.UNKNOWN;switch(n){case Ss.OK:return je.OK;case Ss.CANCELLED:return je.CANCELLED;case Ss.UNKNOWN:return je.UNKNOWN;case Ss.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Ss.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Ss.INTERNAL:return je.INTERNAL;case Ss.UNAVAILABLE:return je.UNAVAILABLE;case Ss.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Ss.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Ss.NOT_FOUND:return je.NOT_FOUND;case Ss.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Ss.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Ss.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Ss.ABORTED:return je.ABORTED;case Ss.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Ss.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Ss.DATA_LOSS:return je.DATA_LOSS;default:return yt()}}(_i=Ss||(Ss={}))[_i.OK=0]="OK",_i[_i.CANCELLED=1]="CANCELLED",_i[_i.UNKNOWN=2]="UNKNOWN",_i[_i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_i[_i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_i[_i.NOT_FOUND=5]="NOT_FOUND",_i[_i.ALREADY_EXISTS=6]="ALREADY_EXISTS",_i[_i.PERMISSION_DENIED=7]="PERMISSION_DENIED",_i[_i.UNAUTHENTICATED=16]="UNAUTHENTICATED",_i[_i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_i[_i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_i[_i.ABORTED=10]="ABORTED",_i[_i.OUT_OF_RANGE=11]="OUT_OF_RANGE",_i[_i.UNIMPLEMENTED=12]="UNIMPLEMENTED",_i[_i.INTERNAL=13]="INTERNAL",_i[_i.UNAVAILABLE=14]="UNAVAILABLE",_i[_i.DATA_LOSS=15]="DATA_LOSS";class fs{constructor(t,e){this.comparator=t,this.root=e||Bs.EMPTY}insert(t,e){return new fs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(t){return new fs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new R0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new R0(this.root,t,this.comparator,!1)}getReverseIterator(){return new R0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new R0(this.root,t,this.comparator,!0)}}class R0{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bs{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:Bs.RED,this.left=null!=r?r:Bs.EMPTY,this.right=null!=o?o:Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Bs(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Bs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1,Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Bs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(t){this.comparator=t,this.data=new fs(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(t){return new bT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pr(this.comparator);return e.data=t,e}}class bT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const $I=new fs(nn.comparator);function Bl(){return $I}const O0=new fs(nn.comparator);function hC(){return O0}const jI=new fs(nn.comparator);function wT(){return jI}const Qv=new Pr(nn.comparator);function Oi(...n){let t=Qv;for(const e of n)t=t.add(e);return t}const CT=new Pr(di);function P0(){return CT}class N0{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Ed.createSynthesizedTargetChangeForCurrentChange(t,e)),new N0(Pn.min(),i,P0(),Bl(),Oi())}}class Ed{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Ed(Ts.EMPTY_BYTE_STRING,e,Oi(),Oi(),Oi())}}class jh{constructor(t,e,i,r){this.$=t,this.removedTargetIds=e,this.key=i,this.O=r}}class ET{constructor(t,e){this.targetId=t,this.F=e}}class xT{constructor(t,e,i=Ts.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class TT{constructor(){this.M=0,this.L=pC(),this.B=Ts.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=Oi(),e=Oi(),i=Oi();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new Ed(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=pC()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class ST{constructor(t){this.et=t,this.nt=new Map,this.st=Bl(),this.it=fC(),this.rt=new Pr(di)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.at(e,t.O):this.ct(e,t.key,t.O);for(const e of t.removedTargetIds)this.ct(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:yt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,r)=>{this.lt(r)&&e(r)})}dt(t){const e=t.targetId,i=t.F.count,r=this.wt(e);if(r){const o=r.target;if(Bh(o))if(0===i){const u=new nn(o.path);this.ct(e,u,dr.newNoDocument(u,Pn.min()))}else Kt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((o,u)=>{const f=this.wt(u);if(f){if(o.current&&Bh(f.target)){const m=new nn(f.target.path);null!==this.st.get(m)||this.yt(u,m)||this.ct(u,m,dr.newNoDocument(m,t))}o.j&&(e.set(u,o.G()),o.H())}});let i=Oi();this.it.forEach((o,u)=>{let f=!0;u.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(o))});const r=new N0(t,e,this.rt,this.st,i);return this.st=Bl(),this.it=fC(),this.rt=new Pr(di),r}at(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new TT,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Pr(di),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Qe("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new TT),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function fC(){return new fs(nn.comparator)}function pC(){return new fs(nn.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},IT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZI{constructor(t,e){this.databaseId=t,this.C=e}}function F0(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qI(n,t){return n.C?t.toBase64():t.toUint8Array()}function NR(n,t){return F0(n,t.toTimestamp())}function Xs(n){return Kt(!!n),Pn.fromTimestamp(function(t){const e=Cd(t);return new ds(e.seconds,e.nanos)}(n))}function DT(n,t){return(e=n,new Ti(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function gC(n){const t=Ti.fromString(n);return Kt(FT(t)),t}function Gh(n,t){return DT(n.databaseId,t.path)}function pu(n,t){const e=gC(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nn(AT(e))}function mC(n,t){return DT(n.databaseId,t)}function _C(n){const t=gC(n);return 4===t.length?Ti.emptyPath():AT(t)}function xd(n){return new Ti(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AT(n){return Kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kT(n,t,e){return{name:Gh(n,t),fields:e.value.mapValue.fields}}function MT(n,t,e){const i=pu(n,t.name),r=Xs(t.updateTime),o=new ir({mapValue:{fields:t.fields}}),u=dr.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function L0(n,t){let e;if(t instanceof k0)e={update:kT(n,t.key,t.value)};else if(t instanceof $h)e={delete:Gh(n,t.key)};else if(t instanceof Wh)e={update:kT(n,t.key,t.data),updateMask:tD(t.fieldMask)};else{if(!(t instanceof gm))return yt();e={verify:Gh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Ep)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof zh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xp)return{fieldPath:o.field.canonicalString(),increment:u.N};throw yt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:NR(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:yt()),e;var r}function RT(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?hr.updateTime(Xs(r.updateTime)):void 0!==r.exists?hr.exists(r.exists):hr.none():hr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let f=null;"setToServerValue"in u?(Kt("REQUEST_TIME"===u.setToServerValue),f=new Ep):"appendMissingElements"in u?f=new Hh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new zh(u.removeAllFromArray.values||[]):"increment"in u?f=new xp(o,u.increment):yt();const m=Vs.fromServerFormat(u.fieldPath);return new Cc(m,f)}(n,r)):[];var r;if(t.update){const r=pu(n,t.update.name),o=new ir({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new vp((t.updateMask.fieldPaths||[]).map(b=>Vs.fromServerFormat(b)));return new Wh(r,o,u,e,i)}return new k0(r,o,e,i)}if(t.delete){const r=pu(n,t.delete);return new $h(r,e)}if(t.verify){const r=pu(n,t.verify);return new gm(r,e)}return yt()}function Tp(n,t){return{documents:[mC(n,t.path)]}}function OT(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=mC(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=mC(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const m=f.map(b=>function(S){if("=="===S.op){if(Yw(S.value))return{unaryFilter:{field:mm(S.field),op:"IS_NAN"}};if(Xx(S.value))return{unaryFilter:{field:mm(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Yw(S.value))return{unaryFilter:{field:mm(S.field),op:"IS_NOT_NAN"}};if(Xx(S.value))return{unaryFilter:{field:mm(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mm(S.field),op:wC(S.op),value:S.value}}}(b));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(m=>{return{field:mm((b=m).field),direction:XI(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(m=t.limit,n.C||Vh(m)?m:{value:m});var m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=PT(t.startAt)),t.endAt&&(e.structuredQuery.endAt=PT(t.endAt)),e}function yC(n){let t=_C(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Kt(1===i);const S=e.from[0];S.allDescendants?r=S.collectionId:t=t.child(S.collectionId)}let o=[];e.where&&(o=vC(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(S=>{return new wp(Sp((k=S).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let f=null;e.limit&&(f=function(S){let k;return k="object"==typeof S?S.value:S,Vh(k)?null:k}(e.limit));let m=null;e.startAt&&(m=bC(e.startAt));let b=null;return e.endAt&&(b=bC(e.endAt)),tC(t,r,u,o,f,"F",m,b)}function vC(n){return n?void 0!==n.unaryFilter?[eD(n)]:void 0!==n.fieldFilter?[NT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>vC(t)).reduce((t,e)=>t.concat(e)):yt():[]}function PT(n){return{before:n.before,values:n.position}}function bC(n){return new Uh(n.values||[],!!n.before)}function XI(n){return GI[n]}function wC(n){return IT[n]}function mm(n){return{fieldPath:n.canonicalString()}}function Sp(n){return Vs.fromServerFormat(n.fieldPath)}function NT(n){return Wo.create(Sp(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function eD(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Sp(n.unaryFilter.field);return Wo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Sp(n.unaryFilter.field);return Wo.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sp(n.unaryFilter.field);return Wo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Sp(n.unaryFilter.field);return Wo.create(r,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function tD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function FT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ha(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=CC(t)),t=nD(n.get(e),t);return CC(t)}function nD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function CC(n){return n+"\x01\x01"}function Td(n){const t=n.length;if(Kt(t>=2),2===t)return Kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ti.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&yt(),n.charAt(u+1)){case"\x01":const f=n.substring(o,u);let m;0===r.length?m=f:(r+=f,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:yt()}o=u+2}return new Ti(i)}class iD{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class za{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}za.store="owner",za.key="owner";class Zh{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}Zh.store="mutationQueues",Zh.keyPath="userId";class fr{constructor(t,e,i,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=o}}fr.store="mutations",fr.keyPath="batchId",fr.userMutationsIndex="userMutationsIndex",fr.userMutationsKeyPath=["userId","batchId"];class wo{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Ha(e)]}static key(t,e,i){return[t,Ha(e),i]}}wo.store="documentMutations",wo.PLACEHOLDER=new wo;class rD{constructor(t,e){this.path=t,this.readTime=e}}class sD{constructor(t,e){this.path=t,this.version=e}}class Nr{constructor(t,e,i,r,o,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=u}}Nr.store="remoteDocuments",Nr.readTimeIndex="readTimeIndex",Nr.readTimeIndexPath="readTime",Nr.collectionReadTimeIndex="collectionReadTimeIndex",Nr.collectionReadTimeIndexPath=["parentPath","readTime"];class Ec{constructor(t){this.byteSize=t}}Ec.store="remoteDocumentGlobal",Ec.key="remoteDocumentGlobalKey";class pa{constructor(t,e,i,r,o,u,f){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=f}}pa.store="targets",pa.keyPath="targetId",pa.queryTargetsIndexName="queryTargetsIndex",pa.queryTargetsKeyPath=["canonicalId","targetId"];class eo{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}eo.store="targetDocuments",eo.keyPath=["targetId","path"],eo.documentTargetsIndex="documentTargetsIndex",eo.documentTargetsKeyPath=["path","targetId"];class ga{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}ga.key="targetGlobalKey",ga.store="targetGlobal";class Ip{constructor(t,e){this.collectionId=t,this.parent=e}}Ip.store="collectionParents",Ip.keyPath=["collectionId","parent"];class Sd{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}Sd.store="clientMetadata",Sd.keyPath="clientId";class _m{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}_m.store="bundles",_m.keyPath="bundleId";class qh{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}qh.store="namedQueries",qh.keyPath="name";const EC=[Zh.store,fr.store,wo.store,Nr.store,pa.store,za.store,ga.store,eo.store,Sd.store,Ec.store,Ip.store,_m.store,qh.store],xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new mt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof mt?e:mt.resolve(e)}catch(e){return mt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.reject(e)}static resolve(t){return new mt((e,i)=>{e(t)})}static reject(t){return new mt((e,i)=>{i(t)})}static waitFor(t){return new mt((e,i)=>{let r=0,o=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++o,u&&o===r&&e()},m=>i(m))}),u=!0,o===r&&e()})}static or(t){let e=mt.resolve(!1);for(const i of t)e=e.next(r=>r?mt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class Xv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Ri,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new ym(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=VT(i.target.error);this.It.reject(new ym(t,r))}}static open(t,e,i,r){try{return new Xv(e,t.transaction(r,i))}catch(o){throw new ym(e,o)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Qe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new LT(e)}}class Wa{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===Wa.bt((0,J.z$)())&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Qe("SimpleDb","Removing database:",t),Ap(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,J.hl)())return!1;if(Wa.vt())return!0;const t=(0,J.z$)(),e=Wa.bt(t),i=0<e&&e<10,r=Wa.Vt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,Ye.Z)(function*(){return e.db||(Qe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new ym(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new dt(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new dt(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new ym(t,f))},o.onupgradeneeded=u=>{Qe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Rt.Nt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ye.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{o.db=yield o.Ct(t);const m=Xv.open(o.db,t,u?"readonly":"readwrite",i),b=r(m).catch(S=>(m.abort(S),mt.reject(S))).toPromise();return b.catch(()=>{}),yield m.At,b}catch(m){const b="FirebaseError"!==m.name&&f<3;if(Qe("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),o.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class oD{constructor(t){this.$t=t,this.Ot=!1,this.Ft=null}get isDone(){return this.Ot}get Mt(){return this.Ft}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Ft=t}delete(){return Ap(this.$t.delete())}}class ym extends dt{constructor(t,e){super(je.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Dp(n){return"IndexedDbTransactionError"===n.name}class LT{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Qe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ap(i)}add(t){return Qe("SimpleDb","ADD",this.store.name,t,t),Ap(this.store.add(t))}get(t){return Ap(this.store.get(t)).next(e=>(void 0===e&&(e=null),Qe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Qe("SimpleDb","DELETE",this.store.name,t),Ap(this.store.delete(t))}count(){return Qe("SimpleDb","COUNT",this.store.name),Ap(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Ut(i,(o,u)=>{r.push(u)}).next(()=>r)}qt(t,e){Qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(o,u,f)=>f.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Ut(r,e)}Qt(t){const e=this.cursor({});return new mt((i,r)=>{e.onerror=o=>{const u=VT(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Ut(t,e){const i=[];return new mt((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const m=new oD(f),b=e(f.primaryKey,f.value,m);if(b instanceof mt){const S=b.catch(k=>(m.done(),mt.reject(k)));i.push(S)}m.isDone?r():null===m.Mt?f.continue():f.continue(m.Mt)}}).next(()=>mt.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ap(n){return new mt((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=VT(i.target.error);e(r)}})}let TC=!1;function VT(n){const t=Wa.bt((0,J.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TC||(TC=!0,setTimeout(()=>{throw i},0)),i}}return n}class BT extends Jv{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function Us(n,t){const e=xt(n);return Wa.Dt(e.Wt,t)}class SC{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&PR(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Yv(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Yv(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Pn.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Oi())}isEqual(t){return this.batchId===t.batchId&&yp(this.mutations,t.mutations,(e,i)=>WI(e,i))&&yp(this.baseMutations,t.baseMutations,(e,i)=>WI(e,i))}}class Kh{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Kt(t.mutations.length===i.length);let r=wT();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Kh(t,e,i,r)}}class Ul{constructor(t,e,i,r,o=Pn.min(),u=Pn.min(),f=Ts.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new Ul(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class UT{constructor(t){this.Gt=t}}function HT(n,t){if(t.document)return MT(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=nn.fromSegments(t.noDocument.path),i=bm(t.noDocument.readTime),r=dr.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=nn.fromSegments(t.unknownDocument.path),i=bm(t.unknownDocument.version);return dr.newUnknownDocument(e,i)}return yt()}function IC(n,t,e){const i=DC(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const o={name:Gh(f=n.Gt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:F0(f,m.version.toTimestamp())};return new Nr(null,null,o,t.hasCommittedMutations,i,r)}var f,m;if(t.isNoDocument()){const o=t.key.path.toArray(),u=vm(t.version),f=t.hasCommittedMutations;return new Nr(null,new rD(o,u),null,f,i,r)}if(t.isUnknownDocument()){const o=t.key.path.toArray(),u=vm(t.version);return new Nr(new sD(o,u),null,null,!0,i,r)}return yt()}function DC(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function zT(n){const t=new ds(n[0],n[1]);return Pn.fromTimestamp(t)}function vm(n){const t=n.toTimestamp();return new iD(t.seconds,t.nanoseconds)}function bm(n){const t=new ds(n.seconds,n.nanoseconds);return Pn.fromTimestamp(t)}function kp(n,t){const e=(t.baseMutations||[]).map(o=>RT(n.Gt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>RT(n.Gt,o)),r=ds.fromMillis(t.localWriteTimeMs);return new SC(t.batchId,r,e,i)}function wm(n){const t=bm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?bm(n.lastLimboFreeSnapshotVersion):Pn.min();let i;var r;return void 0!==n.query.documents?(Kt(1===(r=n.query).documents.length),i=Vl(Cp(_C(r.documents[0])))):i=Vl(yC(n.query)),new Ul(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ts.fromBase64String(n.resumeToken))}function eb(n,t){const e=vm(t.snapshotVersion),i=vm(t.lastLimboFreeSnapshotVersion);let r;r=Bh(t.target)?Tp(n.Gt,t.target):OT(n.Gt,t.target);const o=t.resumeToken.toBase64();return new pa(t.targetId,S0(t.target),e,o,t.sequenceNumber,i,r)}function Cm(n){const t=yC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aT(t,t.limit,"L"):t}class V0{getBundleMetadata(t,e){return WT(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:bm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return WT(t).put({bundleId:(i=e).id,createTime:vm(Xs(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return AC(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Cm(r.bundledQuery),readTime:bm(r.readTime)};var r})}saveNamedQuery(t,e){return AC(t).put({name:(i=e).name,readTime:vm(Xs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function WT(n){return Us(n,_m.store)}function AC(n){return Us(n,qh.store)}class $T{constructor(){this.zt=new kC}addToCollectionParentIndex(t,e){return this.zt.add(e),mt.resolve()}getCollectionParents(t,e){return mt.resolve(this.zt.getEntries(e))}}class kC{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Pr(Ti.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Pr(Ti.comparator)).toArray()}}class aD{constructor(){this.Ht=new kC}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const o={collectionId:i,parent:Ha(r)};return jT(t).put(o)}return mt.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Gw(e),""],!1,!0);return jT(t).Bt(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Td(u.parent))}return i})}}function jT(n){return Us(n,Ip.store)}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ma{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ma(t,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lD(n,t,e){const i=n.store(fr.store),r=n.store(wo.store),o=[],u=IDBKeyRange.only(e.batchId);let f=0;const m=i.jt({range:u},(S,k,U)=>(f++,U.delete()));o.push(m.next(()=>{Kt(1===f)}));const b=[];for(const S of e.mutations){const k=wo.key(t,S.key.path,e.batchId);o.push(r.delete(k)),b.push(S.key)}return mt.waitFor(o).next(()=>b)}function nb(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw yt();t=n.noDocument}return JSON.stringify(t).length}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(41943040,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class MC{constructor(t,e,i,r){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(t,e,i,r){Kt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new MC(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Id(t).jt({index:fr.userMutationsIndex,range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=xc(t),u=Id(t);return u.add({}).next(f=>{Kt("number"==typeof f);const m=new SC(f,e,i,r),b=function(U,q,le){const Oe=le.baseMutations.map(Vt=>L0(U.Gt,Vt)),Je=le.mutations.map(Vt=>L0(U.Gt,Vt));return new fr(q,le.batchId,le.localWriteTime.toMillis(),Oe,Je)}(this.k,this.userId,m),S=[];let k=new Pr((U,q)=>di(U.canonicalString(),q.canonicalString()));for(const U of r){const q=wo.key(this.userId,U.key.path,f);k=k.add(U.key.path.popLast()),S.push(u.put(b)),S.push(o.put(q,wo.PLACEHOLDER))}return k.forEach(U=>{S.push(this.Jt.addToCollectionParentIndex(t,U))}),t.addOnCommittedListener(()=>{this.Yt[f]=m.keys()}),mt.waitFor(S).next(()=>m)})}lookupMutationBatch(t,e){return Id(t).get(e).next(i=>i?(Kt(i.userId===this.userId),kp(this.k,i)):null)}Zt(t,e){return this.Yt[e]?mt.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Yt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Id(t).jt({index:fr.userMutationsIndex,range:r},(u,f,m)=>{f.userId===this.userId&&(Kt(f.batchId>=i),o=kp(this.k,f)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Id(t).jt({index:fr.userMutationsIndex,range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Id(t).Bt(fr.userMutationsIndex,e).next(i=>i.map(r=>kp(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=wo.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return xc(t).jt({range:r},(u,f,m)=>{const[b,S,k]=u,U=Td(S);if(b===this.userId&&e.path.isEqual(U))return Id(t).get(k).next(q=>{if(!q)throw yt();Kt(q.userId===this.userId),o.push(kp(this.k,q))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Pr(di);const r=[];return e.forEach(o=>{const u=wo.prefixForPath(this.userId,o.path),f=IDBKeyRange.lowerBound(u),m=xc(t).jt({range:f},(b,S,k)=>{const[U,q,le]=b,Oe=Td(q);U===this.userId&&o.path.isEqual(Oe)?i=i.add(le):k.done()});r.push(m)}),mt.waitFor(r).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=wo.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(o);let f=new Pr(di);return xc(t).jt({range:u},(m,b,S)=>{const[k,U,q]=m,le=Td(U);k===this.userId&&i.isPrefixOf(le)?le.length===r&&(f=f.add(q)):S.done()}).next(()=>this.te(t,f))}te(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Id(t).get(o).next(u=>{if(null===u)throw yt();Kt(u.userId===this.userId),i.push(kp(this.k,u))}))}),mt.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return lD(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),mt.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return mt.resolve();const i=IDBKeyRange.lowerBound(wo.prefixForUser(this.userId)),r=[];return xc(t).jt({range:i},(o,u,f)=>{if(o[0]===this.userId){const m=Td(o[1]);r.push(m)}else f.done()}).next(()=>{Kt(0===r.length)})})}containsKey(t,e){return Mp(t,this.userId,e)}ne(t){return cD(t).get(this.userId).next(e=>e||new Zh(this.userId,-1,""))}}function Mp(n,t,e){const i=wo.prefixForPath(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return xc(n).jt({range:o,Kt:!0},(f,m,b)=>{const[S,k,U]=f;S===t&&k===r&&(u=!0),b.done()}).next(()=>u)}function Id(n){return Us(n,fr.store)}function xc(n){return Us(n,wo.store)}function cD(n){return Us(n,Zh.store)}class Yh{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new Yh(0)}static re(){return new Yh(-1)}}class uD{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new Yh(e.highestTargetId);return e.highestTargetId=i.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Pn.fromTimestamp(new ds(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.ae(t,r)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ae(t,i))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>B0(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Kt(i.targetCount>0),i.targetCount-=1,this.ae(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return B0(t).jt((u,f)=>{const m=wm(f);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(t,m)))}).next(()=>mt.waitFor(o)).next(()=>r)}forEachTarget(t,e){return B0(t).jt((i,r)=>{const o=wm(r);e(o)})}oe(t){return RC(t).get(ga.key).next(e=>(Kt(null!==e),e))}ae(t,e){return RC(t).put(ga.key,e)}ce(t,e){return B0(t).put(eb(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=S0(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return B0(t).jt({range:r,index:pa.queryTargetsIndexName},(u,f,m)=>{const b=wm(f);dm(e,b.target)&&(o=b,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Rp(t);return e.forEach(u=>{const f=Ha(u.path);r.push(o.put(new eo(i,f))),r.push(this.referenceDelegate.addReference(t,i,u))}),mt.waitFor(r)}removeMatchingKeys(t,e,i){const r=Rp(t);return mt.forEach(e,o=>{const u=Ha(o.path);return mt.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Rp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rp(t);let o=Oi();return r.jt({range:i,Kt:!0},(u,f,m)=>{const b=Td(u[1]),S=new nn(b);o=o.add(S)}).next(()=>o)}containsKey(t,e){const i=Ha(e.path),r=IDBKeyRange.bound([i],[Gw(i)],!1,!0);let o=0;return Rp(t).jt({index:eo.documentTargetsIndex,Kt:!0,range:r},([u,f],m,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}Et(t,e){return B0(t).get(e).next(i=>i?wm(i):null)}}function B0(n){return Us(n,pa.store)}function RC(n){return Us(n,ga.store)}function Rp(n){return Us(n,eo.store)}function Qh(n){return U0.apply(this,arguments)}function U0(){return U0=(0,Ye.Z)(function*(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==xC)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),U0.apply(this,arguments)}function OC([n,t],[e,i]){const r=di(n,e);return 0===r?di(t,i):r}class GT{constructor(t){this.he=t,this.buffer=new Pr(OC),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();OC(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class ZT{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;Qe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ye.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Dp(r)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Qh(r)}yield e.me(t)}))}}class qT{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return mt.resolve(fa.I);const i=new GT(e);return this.ge.forEachTarget(t,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(t,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(tb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,r,o,u,f,m,b;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),r=this.params.maximumSequenceNumbersToCollect):r=k,u=Date.now(),this.nthSequenceNumber(t,r))).next(k=>(i=k,f=Date.now(),this.removeTargets(t,i,e))).next(k=>(o=k,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(k=>(b=Date.now(),Ot()<=yo.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${o} targets in `+(m-f)+`ms\n\tRemoved ${k} documents in `+(b-m)+`ms\nTotal Duration: ${b-S}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:k})))}}class KT{constructor(t,e){this.db=t,this.garbageCollector=new qT(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,r)=>e(r))}addReference(t,e,i){return H0(t,i)}removeReference(t,e,i){return H0(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return H0(t,e)}Ae(t,e){return function(i,r){let o=!1;return cD(i).Qt(u=>Mp(i,u,r).next(f=>(f&&(o=!0),mt.resolve(!f)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ie(t,(u,f)=>{if(f<=e){const m=this.Ae(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u),Rp(t).delete([0,Ha(u.path)])))});r.push(m)}}).next(()=>mt.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return H0(t,e)}Ie(t,e){const i=Rp(t);let r,o=fa.I;return i.jt({index:eo.documentTargetsIndex},([u,f],{path:m,sequenceNumber:b})=>{0===u?(o!==fa.I&&e(new nn(Td(r)),o),o=b,r=m):o=fa.I}).next(()=>{o!==fa.I&&e(new nn(Td(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function H0(n,t){return Rp(n).put((i=n.currentSequenceNumber,new eo(0,Ha(t.path),i)));var i}class Op{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){Lh(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return qw(this.inner)}}class PC{constructor(){this.changes=new Op(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Pn.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:dr.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?mt.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dD{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return Dd(t).put(z0(e),i)}removeEntry(t,e){const i=Dd(t),r=z0(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return Dd(t).get(z0(e)).next(i=>this.be(e,i))}Pe(t,e){return Dd(t).get(z0(e)).next(i=>({document:this.be(e,i),size:nb(i)}))}getEntries(t,e){let i=Bl();return this.ve(t,e,(r,o)=>{const u=this.be(r,o);i=i.insert(r,u)}).next(()=>i)}Ve(t,e){let i=Bl(),r=new fs(nn.comparator);return this.ve(t,e,(o,u)=>{const f=this.be(o,u);i=i.insert(o,f),r=r.insert(o,nb(u))}).next(()=>({documents:i,Se:r}))}ve(t,e,i){if(e.isEmpty())return mt.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator();let u=o.getNext();return Dd(t).jt({range:r},(f,m,b)=>{const S=nn.fromSegments(f);for(;u&&nn.comparator(u,S)<0;)i(u,null),u=o.getNext();u&&u.isEqual(S)&&(i(u,m),u=o.hasNext()?o.getNext():null),u?b.Lt(u.path.toArray()):b.done()}).next(()=>{for(;u;)i(u,null),u=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=Bl();const o=e.path.length+1,u={};if(i.isEqual(Pn.min())){const f=e.path.toArray();u.range=IDBKeyRange.lowerBound(f)}else{const f=e.path.toArray(),m=DC(i);u.range=IDBKeyRange.lowerBound([f,m],!0),u.index=Nr.collectionReadTimeIndex}return Dd(t).jt(u,(f,m,b)=>{if(f.length!==o)return;const S=HT(this.k,m);e.path.isPrefixOf(S.key.path)?A0(e,S)&&(r=r.insert(S.key,S)):b.done()}).next(()=>r)}newChangeBuffer(t){return new YT(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Em(t).get(Ec.key).next(e=>(Kt(!!e),e))}Re(t,e){return Em(t).put(Ec.key,e)}be(t,e){if(e){const i=HT(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(Pn.min()))return i}return dr.newInvalidDocument(t)}}class YT extends PC{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Op(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Pr((o,u)=>di(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const f=this.Ce.get(o);if(u.document.isValidDocument()){const m=IC(this.De.k,u.document,this.getReadTime(o));r=r.add(o.path.popLast()),i+=nb(m)-f,e.push(this.De.addEntry(t,o,m))}else if(i-=f,this.trackRemovals){const m=IC(this.De.k,dr.newNoDocument(o,Pn.min()),this.getReadTime(o));e.push(this.De.addEntry(t,o,m))}else e.push(this.De.removeEntry(t,o))}),r.forEach(o=>{e.push(this.De.Jt.addToCollectionParentIndex(t,o))}),e.push(this.De.updateMetadata(t,i)),mt.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:r})=>(r.forEach((o,u)=>{this.Ce.set(o,u)}),i))}}function Em(n){return Us(n,Ec.store)}function Dd(n){return Us(n,Nr.store)}function z0(n){return n.path.toArray()}class QT{constructor(t){this.k=t}Nt(t,e,i,r){Kt(i<r&&i>=0&&r<=11);const o=new Xv("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore(za.store),(f=t).createObjectStore(Zh.store,{keyPath:Zh.keyPath}),f.createObjectStore(fr.store,{keyPath:fr.keyPath,autoIncrement:!0}).createIndex(fr.userMutationsIndex,fr.userMutationsKeyPath,{unique:!0}),f.createObjectStore(wo.store),NC(t),function(f){f.createObjectStore(Nr.store)}(t));let u=mt.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore(eo.store),f.deleteObjectStore(pa.store),f.deleteObjectStore(ga.store)}(t),NC(t)),u=u.next(()=>function(f){const m=f.store(ga.store),b=new ga(0,0,Pn.min().toTimestamp(),0);return m.put(ga.key,b)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,m){return m.store(fr.store).Bt().next(b=>{f.deleteObjectStore(fr.store),f.createObjectStore(fr.store,{keyPath:fr.keyPath,autoIncrement:!0}).createIndex(fr.userMutationsIndex,fr.userMutationsKeyPath,{unique:!0});const S=m.store(fr.store),k=b.map(U=>S.put(U));return mt.waitFor(k)})}(t,o))),u=u.next(()=>{!function(f){f.createObjectStore(Sd.store,{keyPath:Sd.keyPath})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ne(o))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Ec.store)}(t),this.ke(o)))),i<7&&r>=7&&(u=u.next(()=>this.xe(o))),i<8&&r>=8&&(u=u.next(()=>this.$e(t,o))),i<9&&r>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){const m=f.objectStore(Nr.store);m.createIndex(Nr.readTimeIndex,Nr.readTimeIndexPath,{unique:!1}),m.createIndex(Nr.collectionReadTimeIndex,Nr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Oe(o))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(_m.store,{keyPath:_m.keyPath})})(t),function(f){f.createObjectStore(qh.store,{keyPath:qh.keyPath})}(t)})),u}ke(t){let e=0;return t.store(Nr.store).jt((i,r)=>{e+=nb(r)}).next(()=>{const i=new Ec(e);return t.store(Ec.store).put(Ec.key,i)})}Ne(t){const e=t.store(Zh.store),i=t.store(fr.store);return e.Bt().next(r=>mt.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.Bt(fr.userMutationsIndex,u).next(f=>mt.forEach(f,m=>{Kt(m.userId===o.userId);const b=kp(this.k,m);return lD(t,o.userId,b).next(()=>{})}))}))}xe(t){const e=t.store(eo.store),i=t.store(Nr.store);return t.store(ga.store).get(ga.key).next(r=>{const o=[];return i.jt((u,f)=>{const m=new Ti(u),b=[0,Ha(m)];o.push(e.get(b).next(S=>S?mt.resolve():e.put(new eo(0,Ha(m),r.highestListenSequenceNumber))))}).next(()=>mt.waitFor(o))})}$e(t,e){t.createObjectStore(Ip.store,{keyPath:Ip.keyPath});const i=e.store(Ip.store),r=new kC,o=u=>{if(r.add(u)){const f=u.lastSegment(),m=u.popLast();return i.put({collectionId:f,parent:Ha(m)})}};return e.store(Nr.store).jt({Kt:!0},(u,f)=>{const m=new Ti(u);return o(m.popLast())}).next(()=>e.store(wo.store).jt({Kt:!0},([u,f,m],b)=>{const S=Td(f);return o(S.popLast())}))}Oe(t){const e=t.store(pa.store);return e.jt((i,r)=>{const o=wm(r),u=eb(this.k,o);return e.put(u)})}}function NC(n){n.createObjectStore(eo.store,{keyPath:eo.keyPath}).createIndex(eo.documentTargetsIndex,eo.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(pa.store,{keyPath:pa.keyPath}).createIndex(pa.queryTargetsIndexName,pa.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ga.store)}const ib="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rb{constructor(t,e,i,r,o,u,f,m,b,S){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Fe=o,this.window=u,this.document=f,this.Me=b,this.Le=S,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=k=>Promise.resolve(),!rb.Pt())throw new dt(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KT(this,r),this.Ge=e+"main",this.k=new UT(m),this.ze=new Wa(this.Ge,11,new QT(this.k)),this.He=new uD(this.referenceDelegate,this.k),this.Jt=new aD,this.Je=new dD(this.k,this.Jt),this.Ye=new V0,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===S&&Xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(je.FAILED_PRECONDITION,ib);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new fa(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,Ye.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,Ye.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((0,Ye.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>$0(t).put(new Sd(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Fe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Dp(t))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Fe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return W0(t).get(za.key).next(e=>mt.resolve(this.un(e)))}hn(t){return $0(t).delete(this.clientId)}ln(){var t=this;return(0,Ye.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Us(i,Sd.store);return r.Bt().next(o=>{const u=t.dn(o,18e5),f=o.filter(m=>-1===u.indexOf(m));return mt.forEach(f,m=>r.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?mt.resolve(!0):W0(t).get(za.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new dt(je.FAILED_PRECONDITION,ib);return!1}}return!(!this.networkEnabled||!this.inForeground)||$0(t).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Qe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ye.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[za.store,Sd.store],e=>{const i=new BT(e,fa.I);return t.an(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>$0(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return MC.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let o;return Qe("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",EC,u=>(o=new BT(u,this.Be?this.Be.next():fa.I),"readwrite-primary"===e?this.rn(o).next(f=>!!f||this.on(o)).next(f=>{if(!f)throw Xt(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Fe.enqueueRetryable(()=>this.We(!1)),new dt(je.FAILED_PRECONDITION,xC);return i(o)}).next(f=>this.cn(o).next(()=>f)):this.En(o).next(()=>i(o)))).then(u=>(o.raiseOnCommittedEvent(),u))}En(t){return W0(t).get(za.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new dt(je.FAILED_PRECONDITION,ib)})}cn(t){const e=new za(this.clientId,this.allowTabSynchronization,Date.now());return W0(t).put(za.key,e)}static Pt(){return Wa.Pt()}an(t){const e=W0(t);return e.get(za.key).next(i=>this.un(i)?(Qe("IndexedDbPersistence","Releasing primary lease."),e.delete(za.key)):mt.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(Xt(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Fe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,J.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Fe.enterRestrictedMode(!0),this.Fe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Qe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Xt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Xt("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function W0(n){return Us(n,za.store)}function $0(n){return Us(n,Sd.store)}function FC(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class hD{constructor(t,e){this.progress=t,this.In=e}}class JT{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}Pn(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return nn.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(t,e.path):rC(e)?this.Dn(t,e,i):this.Cn(t,e,i);var r}Sn(t,e){return this.Rn(t,new nn(e)).next(i=>{let r=hC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(t,e,i){const r=e.collectionGroup;let o=hC();return this.Jt.getCollectionParents(t,r).next(u=>mt.forEach(u,f=>{const m=(b=e,S=f.child(r),new fu(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.Cn(t,m,i).next(b=>{b.forEach((S,k)=>{o=o.insert(S,k)})})}).next(()=>o))}Cn(t,e,i){let r,o;return this.Je.getDocumentsMatchingQuery(t,e,i).next(u=>(r=u,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(o=u,this.Nn(t,o,r).next(f=>{r=f;for(const m of o)for(const b of m.mutations){const S=b.key;let k=r.get(S);null==k&&(k=dr.newInvalidDocument(S),r=r.insert(S,k)),Yv(b,k,m.localWriteTime),k.isFoundDocument()||(r=r.remove(S))}}))).next(()=>(r.forEach((u,f)=>{A0(e,f)||(r=r.remove(u))}),r))}Nn(t,e,i){let r=Oi();for(const u of e)for(const f of u.mutations)f instanceof Wh&&null===i.get(f.key)&&(r=r.add(f.key));let o=i;return this.Je.getEntries(t,r).next(u=>(u.forEach((f,m)=>{m.isFoundDocument()&&(o=o.insert(f,m))}),o))}}class LC{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=r}static $n(t,e){let i=Oi(),r=Oi();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new LC(t,e.fromCache,i,r)}}class xm{On(t){this.Fn=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(Pn.min())?this.Mn(t,e):this.Fn.vn(t,r).next(o=>{const u=this.Ln(e,o);return(Zv(e)||qv(e))&&this.Bn(e.limitType,u,r,i)?this.Mn(t,e):(Ot()<=yo.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sC(e)),this.Fn.getDocumentsMatchingQuery(t,e,i).next(f=>(u.forEach(m=>{f=f.insert(m.key,m)}),f)))});var o}Ln(t,e){let i=new Pr(cT(t));return e.forEach((r,o)=>{A0(t,o)&&(i=i.add(o))}),i}Bn(t,e,i,r){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mn(t,e){return Ot()<=yo.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",sC(e)),this.Fn.getDocumentsMatchingQuery(t,e,Pn.min())}}class fD{constructor(t,e,i,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new fs(di),this.Kn=new Op(o=>S0(o),dm),this.jn=Pn.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new JT(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function sb(n,t,e,i){return new fD(n,t,e,i)}function Tc(n,t){return VC.apply(this,arguments)}function VC(){return VC=(0,Ye.Z)(function*(n,t){const e=xt(n);let i=e.An,r=e.Wn;const o=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let f;return e.An.getAllMutationBatches(u).next(m=>(f=m,i=e.persistence.getMutationQueue(t),r=new JT(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(m=>{const b=[],S=[];let k=Oi();for(const U of f){b.push(U.batchId);for(const q of U.mutations)k=k.add(q.key)}for(const U of m){S.push(U.batchId);for(const q of U.mutations)k=k.add(q.key)}return r.vn(u,k).next(U=>({Gn:U,removedBatchIds:b,addedBatchIds:S}))})});return e.An=i,e.Wn=r,e.Un.On(e.Wn),o}),VC.apply(this,arguments)}function BC(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Qn.newChangeBuffer({trackRemovals:!0});return function(u,f,m,b){const S=m.batch,k=S.keys();let U=mt.resolve();return k.forEach(q=>{U=U.next(()=>b.getEntry(f,q)).next(le=>{const Oe=m.docVersions.get(q);Kt(null!==Oe),le.version.compareTo(Oe)<0&&(S.applyToRemoteDocument(le,m),le.isValidDocument()&&b.addEntry(le,m.commitVersion))})}),U.next(()=>u.An.removeMutationBatch(f,S))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,r))})}function Tm(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function pD(n,t){const e=xt(n),i=t.snapshotVersion;let r=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Qn.newChangeBuffer({trackRemovals:!0});r=e.qn;const f=[];t.targetChanges.forEach((b,S)=>{const k=r.get(S);if(!k)return;f.push(e.He.removeMatchingKeys(o,b.removedDocuments,S).next(()=>e.He.addMatchingKeys(o,b.addedDocuments,S)));let U=k.withSequenceNumber(o.currentSequenceNumber);var q,le,Oe;t.targetMismatches.has(S)?U=U.withResumeToken(Ts.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):b.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(b.resumeToken,i)),r=r.insert(S,U),le=U,Oe=b,(0===(q=k).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&f.push(e.He.updateTargetData(o,U))});let m=Bl();if(t.documentUpdates.forEach((b,S)=>{t.resolvedLimboDocuments.has(b)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),f.push(XT(o,u,t.documentUpdates,i,void 0).next(b=>{m=b})),!i.isEqual(Pn.min())){const b=e.He.getLastRemoteSnapshotVersion(o).next(S=>e.He.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(b)}return mt.waitFor(f).next(()=>u.apply(o)).next(()=>e.Wn.Vn(o,m)).next(()=>m)}).then(o=>(e.qn=r,o))}function XT(n,t,e,i,r){let o=Oi();return e.forEach(u=>o=o.add(u)),t.getEntries(n,o).next(u=>{let f=Bl();return e.forEach((m,b)=>{const S=u.get(m),k=(null==r?void 0:r.get(m))||i;b.isNoDocument()&&b.version.isEqual(Pn.min())?(t.removeEntry(m,k),f=f.insert(m,b)):!S.isValidDocument()||b.version.compareTo(S.version)>0||0===b.version.compareTo(S.version)&&S.hasPendingWrites?(t.addEntry(b,k),f=f.insert(m,b)):Qe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",S.version," Watch version:",b.version)}),f})}function gD(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function Ad(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.He.getTargetData(i,t).next(o=>o?(r=o,mt.resolve(r)):e.He.allocateTargetId(i).next(u=>(r=new Ul(t,u,0,i.currentSequenceNumber),e.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function kd(n,t,e){return UC.apply(this,arguments)}function UC(){return UC=(0,Ye.Z)(function*(n,t,e){const i=xt(n),r=i.qn.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Dp(u))throw u;Qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}),UC.apply(this,arguments)}function ob(n,t,e){const i=xt(n);let r=Pn.min(),o=Oi();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,m,b){const S=xt(f),k=S.Kn.get(b);return void 0!==k?mt.resolve(S.qn.get(k)):S.He.getTargetData(m,b)}(i,u,Vl(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,f.targetId).next(m=>{o=m})}).next(()=>i.Un.getDocumentsMatchingQuery(u,t,e?r:Pn.min(),e?o:Oi())).next(f=>({documents:f,zn:o})))}function HC(n,t){const e=xt(n),i=xt(e.He),r=e.qn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function zC(n){const t=xt(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,o){const u=xt(i);let f=Bl(),m=DC(o);const b=Dd(r),S=IDBKeyRange.lowerBound(m,!0);return b.jt({index:Nr.readTimeIndex,range:S},(k,U)=>{const q=HT(u.k,U);f=f.insert(q.key,q),m=U.readTime}).next(()=>({In:f,readTime:zT(m)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function ab(){return ab=(0,Ye.Z)(function*(n){const t=xt(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Dd(i);let o=Pn.min();return r.jt({index:Nr.readTimeIndex,reverse:!0},(u,f,m)=>{f.readTime&&(o=zT(f.readTime)),m.done()}).next(()=>o)}(e)).then(e=>{t.jn=e})}),ab.apply(this,arguments)}function $C(){return $C=(0,Ye.Z)(function*(n,t,e,i){const r=xt(n);let o=Oi(),u=Bl(),f=wT();for(const S of e){const k=t.Hn(S.metadata.name);S.document&&(o=o.add(k)),u=u.insert(k,t.Jn(S)),f=f.insert(k,t.Yn(S.metadata.readTime))}const m=r.Qn.newChangeBuffer({trackRemovals:!0}),b=yield Ad(r,(S=i,Vl(Cp(Ti.fromString(`__bundle__/docs/${S}`)))));var S;return r.persistence.runTransaction("Apply bundle documents","readwrite",S=>XT(S,m,u,Pn.min(),f).next(k=>(m.apply(S),k)).next(k=>r.He.removeMatchingKeysForTargetId(S,b.targetId).next(()=>r.He.addMatchingKeys(S,o,b.targetId)).next(()=>r.Wn.Vn(S,k)).next(()=>k)))}),$C.apply(this,arguments)}function FR(n,t){return j0.apply(this,arguments)}function j0(){return j0=(0,Ye.Z)(function*(n,t,e=Oi()){const i=yield Ad(n,Vl(Cm(t.bundledQuery))),r=xt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Xs(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ye.saveNamedQuery(o,t);const f=i.withResumeToken(Ts.EMPTY_BYTE_STRING,u);return r.qn=r.qn.insert(f.targetId,f),r.He.updateTargetData(o,f).next(()=>r.He.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.He.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ye.saveNamedQuery(o,t))})}),j0.apply(this,arguments)}class jC{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return mt.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:Xs(i.createTime)}),mt.resolve()}getNamedQuery(t,e){return mt.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:Cm(i.bundledQuery),readTime:Xs(i.readTime)}),mt.resolve();var i}}class lb{constructor(){this.ts=new Pr(ps.es),this.ns=new Pr(ps.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new ps(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new ps(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new nn(new Ti([])),i=new ps(e,t),r=new ps(e,t+1),o=[];return this.ns.forEachInRange([i,r],u=>{this.os(u),o.push(u.key)}),o}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new nn(new Ti([])),i=new ps(e,t),r=new ps(e,t+1);let o=Oi();return this.ns.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new ps(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ps{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return nn.comparator(t.key,e.key)||di(t.fs,e.fs)}static ss(t,e){return di(t.fs,e.fs)||nn.comparator(t.key,e.key)}}class GC{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Pr(ps.es)}checkEmpty(t){return mt.resolve(0===this.An.length)}addMutationBatch(t,e,i,r){const o=this.ds;this.ds++;const u=new SC(o,e,i,r);this.An.push(u);for(const f of r)this.ws=this.ws.add(new ps(f.key,o)),this.Jt.addToCollectionParentIndex(t,f.key.path.popLast());return mt.resolve(u)}lookupMutationBatch(t,e){return mt.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.gs(e+1),o=r<0?0:r;return mt.resolve(this.An.length>o?this.An[o]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return mt.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ps(e,0),r=new ps(e,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([i,r],u=>{const f=this._s(u.fs);o.push(f)}),mt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Pr(di);return e.forEach(r=>{const o=new ps(r,0),u=new ps(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([o,u],f=>{i=i.add(f.fs)})}),mt.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;nn.isDocumentKey(o)||(o=o.child(""));const u=new ps(new nn(o),0);let f=new Pr(di);return this.ws.forEachWhile(m=>{const b=m.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(m.fs)),!0)},u),mt.resolve(this.ys(f))}ys(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Kt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return mt.forEach(e.mutations,r=>{const o=new ps(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new ps(e,0),r=this.ws.firstAfterOrEqual(i);return mt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return mt.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class _D{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new fs(nn.comparator),this.size=0}addEntry(t,e,i){const r=e.key,o=this.docs.get(r),u=o?o.size:0,f=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:f,readTime:i}),this.size+=f-u,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return mt.resolve(i?i.document.mutableCopy():dr.newInvalidDocument(e))}getEntries(t,e){let i=Bl();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dr.newInvalidDocument(r))}),mt.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=Bl();const o=new nn(e.path.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:f,value:{document:m,readTime:b}}=u.getNext();if(!e.path.isPrefixOf(f.path))break;b.compareTo(i)<=0||A0(e,m)&&(r=r.insert(m.key,m.mutableCopy()))}return mt.resolve(r)}Es(t,e){return mt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new yD(this)}getSize(t){return mt.resolve(this.size)}}class yD extends PC{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),mt.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class vD{constructor(t){this.persistence=t,this.Is=new Op(e=>S0(e),dm),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.As=0,this.Rs=new lb,this.targetCount=0,this.bs=Yh.ie()}forEachTarget(t,e){return this.Is.forEach((i,r)=>e(r)),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),mt.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new Yh(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,mt.resolve()}updateTargetData(t,e){return this.ce(e),mt.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Is.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Is.delete(u),o.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),mt.waitFor(o).next(()=>r)}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return mt.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),mt.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),mt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),mt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return mt.resolve(i)}containsKey(t,e){return mt.resolve(this.Rs.containsKey(e))}}class bD{constructor(t,e){this.Ps={},this.Be=new fa(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new vD(this),this.Jt=new $T,this.Je=new _D(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new UT(e),this.Ye=new jC(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new GC(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){Qe("MemoryPersistence","Starting transaction:",t);const r=new e1(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(o=>this.referenceDelegate.Ss(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ds(t,e){return mt.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class e1 extends Jv{constructor(t){super(),this.currentSequenceNumber=t}}class G0{constructor(t){this.persistence=t,this.Cs=new lb,this.Ns=null}static ks(t){return new G0(t)}get xs(){if(this.Ns)return this.Ns;throw yt()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),mt.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),mt.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),mt.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.xs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.xs,i=>{const r=nn.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return mt.or([()=>mt.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function ZC(n,t){return`firestore_clients_${n}_${t}`}function qC(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function cb(n,t){return`firestore_targets_${n}_${t}`}class Z0{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Os(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new dt(r.error.code,r.error.message))),u?new Z0(t,e,r.state,o):(Xt("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Fs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class q0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new dt(i.error.code,i.error.message))),o?new q0(t,i.state,r):(Xt("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Fs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class K0{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=P0();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Kw(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new K0(t,o):(Xt("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class ub{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ub(e.clientId,e.onlineState):(Xt("SharedClientState",`Failed to parse online state: ${t}`),null)}}class KC{constructor(){this.activeTargetIds=P0()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Fs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class db{constructor(t,e,i,r,o){this.window=t,this.Fe=e,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new fs(di),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Qs=ZC(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new KC),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ye.Z)(function*(){const e=yield t.syncEngine.Tn();for(const r of e){if(r===t.Bs)continue;const o=t.getItem(ZC(t.persistenceKey,r));if(o){const u=K0.Os(r,o);u&&(t.Ks=t.Ks.insert(u.clientId,u))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const r=t.Zs(i);r&&t.ti(r)}for(const r of t.js)t.qs(r);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(cb(this.persistenceKey,t));if(i){const r=q0.Os(t,i);r&&(e=r.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(cb(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.si(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Qe("SharedClientState","READ",t,e),e}setItem(t,e){Qe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Qe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((0,Ye.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const r=e.ci(i.key);return e.ui(r,null)}{const r=e.hi(i.key,i.newValue);if(r)return e.ui(r.clientId,r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.li(i.key,i.newValue);if(r)return e.fi(r)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const r=e.di(i.key,i.newValue);if(r)return e.wi(r)}}else if(i.key===e.Js){if(null!==i.newValue){const r=e.Zs(i.newValue);if(r)return e.ti(r)}}else if(i.key===e.Ws){const r=function(o){let u=fa.I;if(null!=o)try{const f=JSON.parse(o);Kt("number"==typeof f),u=f}catch(f){Xt("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==fa.I&&e.sequenceNumberHandler(r)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Fs())}ni(t,e,i){const r=new Z0(this.currentUser,t,e,i),o=qC(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Fs())}si(t){const e=qC(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const r=cb(this.persistenceKey,t),o=new q0(t,e,i);this.setItem(r,o.Fs())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ci(t);return K0.Os(i,e)}li(t,e){const i=this.zs.exec(t),r=Number(i[1]);return Z0.Os(new nt(void 0!==i[2]?i[2]:null),r,e)}di(t,e){const i=this.Hs.exec(t),r=Number(i[1]);return q0.Os(r,e)}Zs(t){return ub.Os(t)}fi(t){var e=this;return(0,Ye.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),r=this.ei(this.Ks),o=this.ei(i),u=[],f=[];return o.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{o.has(m)||f.push(m)}),this.syncEngine.yi(u,f).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=P0();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class YC{constructor(){this.pi=new KC,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new KC,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class $o{Ei(t){}shutdown(){}}class Pp{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class CD{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Fi(t){this.xi(t)}}class LR extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,r,o){const u=this.Ui(t,e);Qe("RestConnection","Sending: ",u,i);const f={};return this.qi(f,r,o),this.Ki(t,u,f,i).then(m=>(Qe("RestConnection","Received: ",m),m),m=>{throw an("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}ji(t,e,i,r,o){return this.Bi(t,e,i,r,o)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+at,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Ui(t,e){return`${this.Mi}/v1/${e}:${wD[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,r){return new Promise((o,u)=>{const f=new xe;f.listenOnce(w.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case g.NO_ERROR:const b=f.getResponseJson();Qe("Connection","XHR received:",JSON.stringify(b)),o(b);break;case g.TIMEOUT:Qe("Connection",'RPC "'+t+'" timed out'),u(new dt(je.DEADLINE_EXCEEDED,"Request time out"));break;case g.HTTP_ERROR:const S=f.getStatus();if(Qe("Connection",'RPC "'+t+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const k=f.getResponseJson().error;if(k&&k.status&&k.message){const U=function(q){const le=q.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(le)>=0?le:je.UNKNOWN}(k.status);u(new dt(U,k.message))}else u(new dt(je.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new dt(je.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Qe("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);f.send(e,"POST",m,i,15)})}Qi(t,e,i){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Uw(),u=d(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Y({})),this.qi(f.initMessageHeaders,e,i),(0,J.uI)()||(0,J.b$)()||(0,J.d)()||(0,J.w1)()||(0,J.Mn)()||(0,J.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");Qe("Connection","Creating WebChannel: "+m,f);const b=o.createWebChannel(m,f);let S=!1,k=!1;const U=new CD({Vi:le=>{k?Qe("Connection","Not sending because WebChannel is closed:",le):(S||(Qe("Connection","Opening WebChannel transport."),b.open(),S=!0),Qe("Connection","WebChannel sending:",le),b.send(le))},Si:()=>b.close()}),q=(le,Oe,Je)=>{le.listen(Oe,Vt=>{try{Je(Vt)}catch(Zt){setTimeout(()=>{throw Zt},0)}})};return q(b,de.EventType.OPEN,()=>{k||Qe("Connection","WebChannel transport opened.")}),q(b,de.EventType.CLOSE,()=>{k||(k=!0,Qe("Connection","WebChannel transport closed"),U.Oi())}),q(b,de.EventType.ERROR,le=>{k||(k=!0,an("Connection","WebChannel transport errored:",le),U.Oi(new dt(je.UNAVAILABLE,"The operation could not be completed")))}),q(b,de.EventType.MESSAGE,le=>{var Oe;if(!k){const Je=le.data[0];Kt(!!Je);const Vt=Je,Zt=Vt.error||(null===(Oe=Vt[0])||void 0===Oe?void 0:Oe.error);if(Zt){Qe("Connection","WebChannel received error:",Zt);const ln=Zt.status;let qt=function(rr){const Fr=Ss[rr];if(void 0!==Fr)return vT(Fr)}(ln),yi=Zt.message;void 0===qt&&(qt=je.INTERNAL,yi="Unknown error status: "+ln+" with message "+Zt.message),k=!0,U.Oi(new dt(qt,yi)),b.close()}else Qe("Connection","WebChannel received:",Je),U.Fi(Je)}}),q(u,A.STAT_EVENT,le=>{le.stat===B.PROXY?Qe("Connection","Detected buffering proxy"):le.stat===B.NOPROXY&&Qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.$i()},0),U}}function Sm(){return"undefined"!=typeof window?window:null}function hb(){return"undefined"!=typeof document?document:null}function Np(n){return new ZI(n,!0)}class QC{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fe=t,this.timerId=e,this.Wi=i,this.Gi=r,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-i);r>0&&Qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Fe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class JC{constructor(t,e,i,r,o,u,f,m){this.Fe=t,this.nr=i,this.sr=r,this.ir=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new QC(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,Ye.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Fe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,Ye.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var i=this;return(0,Ye.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===je.RESOURCE_EXHAUSTED?(Xt(e.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===je.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===e&&this.Ir(i,r)},i=>{t(()=>{const r=new dt(je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.cr=this.Fe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var t=this;this.state=5,this.ur.Zi((0,Ye.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Fe.enqueueAndForget(()=>this.rr===t?e():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ED extends JC{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.k=o}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:yt(),r=t.targetChange.targetIds||[],o=function(m,b){return m.C?(Kt(void 0===b||"string"==typeof b),Ts.fromBase64String(b||"")):(Kt(void 0===b||b instanceof Uint8Array),Ts.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(m){const b=void 0===m.code?je.UNKNOWN:vT(m.code);return new dt(b,m.message||"")}(u);e=new xT(i,r,o,f||null)}else if("documentChange"in t){const i=t.documentChange,r=pu(n,i.document.name),o=Xs(i.document.updateTime),u=new ir({mapValue:{fields:i.document.fields}}),f=dr.newFoundDocument(r,o,u);e=new jh(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=pu(n,i.document),o=i.readTime?Xs(i.readTime):Pn.min(),u=dr.newNoDocument(r,o);e=new jh([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=pu(n,i.document);e=new jh([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return yt();{const i=t.filter,o=new jr(i.count||0);e=new ET(i.targetId,o)}}var m;return e}(this.k,t),i=function(r){if(!("targetChange"in r))return Pn.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Pn.min():o.readTime?Xs(o.readTime):Pn.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=xd(this.k),e.addTarget=function(r,o){let u;const f=o.target;return u=Bh(f)?{documents:Tp(r,f)}:{query:OT(r,f)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=qI(r,o.resumeToken):o.snapshotVersion.compareTo(Pn.min())>0&&(u.readTime=F0(r,o.snapshotVersion.toTimestamp())),u}(this.k,t);const i=function(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=xd(this.k),e.removeTarget=t,this.gr(e)}}class xD extends JC{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.k=o,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(Kt(void 0!==t),n.map(e=>function(i,r){let o=Xs(i.updateTime?i.updateTime:r);return o.isEqual(Pn.min())&&(o=Xs(r)),new zI(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Xs(t.commitTime);return this.listener.Cr(i,e)}return Kt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=xd(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>L0(this.k,i))};this.gr(e)}}class XC extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new dt(je.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.Bi(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new dt(je.UNKNOWN,r.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.ji(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new dt(je.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class t1{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Fr=0,this.Mr=null,this.Lr=!0}Br(){0===this.Fr&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Fr++,this.Fr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Fr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Xt(e),this.Lr=!1):Qe("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class n1{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(f=>{i.enqueueAndForget((0,Ye.Z)(function*(){var m;gu(u)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ye.Z)(function*(b){const S=xt(b);S.Gr.add(4),yield Q0(S),S.Jr.set("Unknown"),S.Gr.delete(4),yield Jh(S)}),function(b){return m.apply(this,arguments)})(u))}))}),this.Jr=new t1(i,r)}}function Jh(n){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,Ye.Z)(function*(n){if(gu(n))for(const t of n.zr)yield t(!0)}),Y0.apply(this,arguments)}function Q0(n){return fb.apply(this,arguments)}function fb(){return fb=(0,Ye.Z)(function*(n){for(const t of n.zr)yield t(!1)}),fb.apply(this,arguments)}function pb(n,t){const e=xt(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),J0(e)?tE(e):ey(e).lr()&&Dm(e,t))}function Im(n,t){const e=xt(n),i=ey(e);e.Wr.delete(t),i.lr()&&eE(e,t),0===e.Wr.size&&(i.lr()?i._r():gu(e)&&e.Jr.set("Unknown"))}function Dm(n,t){n.Yr.X(t.targetId),ey(n).Pr(t)}function eE(n,t){n.Yr.X(t),ey(n).vr(t)}function tE(n){n.Yr=new ST({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),ey(n).start(),n.Jr.Br()}function J0(n){return gu(n)&&!ey(n).hr()&&n.Wr.size>0}function gu(n){return 0===xt(n).Gr.size}function TD(n){n.Yr=void 0}function SD(n){return nE.apply(this,arguments)}function nE(){return nE=(0,Ye.Z)(function*(n){n.Wr.forEach((t,e)=>{Dm(n,t)})}),nE.apply(this,arguments)}function r1(n,t){return gb.apply(this,arguments)}function gb(){return gb=(0,Ye.Z)(function*(n,t){TD(n),J0(n)?(n.Jr.Kr(t),tE(n)):n.Jr.set("Unknown")}),gb.apply(this,arguments)}function ID(n,t,e){return mb.apply(this,arguments)}function mb(){return mb=(0,Ye.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof xT&&2===t.state&&t.cause)try{yield(i=(0,Ye.Z)(function*(r,o){const u=o.cause;for(const f of o.targetIds)r.Wr.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Wr.delete(f),r.Yr.removeTarget(f))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield X0(n,i)}else if(t instanceof jh?n.Yr.ot(t):t instanceof ET?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Pn.min()))try{const i=yield Tm(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.Yr.gt(o);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.Wr.get(m);b&&r.Wr.set(m,b.withResumeToken(f.resumeToken,o))}}),u.targetMismatches.forEach(f=>{const m=r.Wr.get(f);if(!m)return;r.Wr.set(f,m.withResumeToken(Ts.EMPTY_BYTE_STRING,m.snapshotVersion)),eE(r,f);const b=new Ul(m.target,f,1,m.sequenceNumber);Dm(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Qe("RemoteStore","Failed to raise snapshot:",i),yield X0(n,i)}var i}),mb.apply(this,arguments)}function X0(n,t,e){return iE.apply(this,arguments)}function iE(){return iE=(0,Ye.Z)(function*(n,t,e){if(!Dp(t))throw t;n.Gr.add(1),yield Q0(n),n.Jr.set("Offline"),e||(e=()=>Tm(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ye.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Jh(n)}))}),iE.apply(this,arguments)}function s1(n,t){return t().catch(e=>X0(n,e,t))}function Fp(n){return rE.apply(this,arguments)}function rE(){return rE=(0,Ye.Z)(function*(n){const t=xt(n),e=Lp(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;o1(t);)try{const r=yield gD(t.localStore,i);if(null===r){0===t.Qr.length&&e._r();break}i=r.batchId,a1(t,r)}catch(r){yield X0(t,r)}sE(t)&&oE(t)}),rE.apply(this,arguments)}function o1(n){return gu(n)&&n.Qr.length<10}function a1(n,t){n.Qr.push(t);const e=Lp(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function sE(n){return gu(n)&&!Lp(n).hr()&&n.Qr.length>0}function oE(n){Lp(n).start()}function DD(n){return aE.apply(this,arguments)}function aE(){return aE=(0,Ye.Z)(function*(n){Lp(n).kr()}),aE.apply(this,arguments)}function VR(n){return _b.apply(this,arguments)}function _b(){return _b=(0,Ye.Z)(function*(n){const t=Lp(n);for(const e of n.Qr)t.Dr(e.mutations)}),_b.apply(this,arguments)}function BR(n,t,e){return l1.apply(this,arguments)}function l1(){return l1=(0,Ye.Z)(function*(n,t,e){const i=n.Qr.shift(),r=Kh.from(i,t,e);yield s1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Fp(n)}),l1.apply(this,arguments)}function UR(n,t){return c1.apply(this,arguments)}function c1(){return c1=(0,Ye.Z)(function*(n,t){var e;t&&Lp(n).Sr&&(yield(e=(0,Ye.Z)(function*(i,r){if(yT(o=r.code)&&o!==je.ABORTED){const u=i.Qr.shift();Lp(i).wr(),yield s1(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Fp(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),sE(n)&&oE(n)}),c1.apply(this,arguments)}function u1(n,t){return d1.apply(this,arguments)}function d1(){return d1=(0,Ye.Z)(function*(n,t){const e=xt(n);t?(e.Gr.delete(2),yield Jh(e)):t||(e.Gr.add(2),yield Q0(e),e.Jr.set("Unknown"))}),d1.apply(this,arguments)}function ey(n){return n.Xr||(n.Xr=function(t,e,i){const r=xt(t);return r.Or(),new ED(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:SD.bind(null,n),Ni:r1.bind(null,n),br:ID.bind(null,n)}),n.zr.push(function(){var t=(0,Ye.Z)(function*(e){e?(n.Xr.wr(),J0(n)?tE(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),TD(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Lp(n){return n.Zr||(n.Zr=function(t,e,i){const r=xt(t);return r.Or(),new xD(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:DD.bind(null,n),Ni:UR.bind(null,n),Nr:VR.bind(null,n),Cr:BR.bind(null,n)}),n.zr.push(function(){var t=(0,Ye.Z)(function*(e){e?(n.Zr.wr(),yield Fp(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Am{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,f=new Am(t,e,u,r,o);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,t){if(Xt("AsyncQueue",`${t}: ${n}`),Dp(n))return new dt(je.UNAVAILABLE,`${t}: ${n}`);throw n}class Xh{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nn.comparator(e.key,i.key):(e,i)=>nn.comparator(e.key,i.key),this.keyedMap=hC(),this.sortedSet=new fs(this.comparator)}static emptySet(t){return new Xh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Xh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Vp{constructor(){this.eo=new fs(nn.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):yt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class Bp{constructor(t,e,i,r,o,u,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Bp(t,e,Xh.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&D0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class AD{constructor(){this.so=void 0,this.listeners=[]}}class kD{constructor(){this.queries=new Op(t=>lT(t),D0),this.onlineState="Unknown",this.io=new Set}}function ny(n,t){return yb.apply(this,arguments)}function yb(){return yb=(0,Ye.Z)(function*(n,t){const e=xt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new AD),r)try{o.so=yield e.onListen(i)}catch(u){const f=ty(u,`Initialization of query '${sC(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,o),o.listeners.push(t),t.ro(e.onlineState),o.so&&t.oo(o.so)&&km(e)}),yb.apply(this,arguments)}function vb(n,t){return bb.apply(this,arguments)}function bb(){return bb=(0,Ye.Z)(function*(n,t){const e=xt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),bb.apply(this,arguments)}function HR(n,t){const e=xt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.oo(r)&&(i=!0);u.so=r}}i&&km(e)}function h1(n,t,e){const i=xt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function km(n){n.io.forEach(t=>{t.next()})}class wb{constructor(t,e,i){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Bp(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=Bp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class zR{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class MD{constructor(t){this.k=t}Hn(t){return pu(this.k,t)}Jn(t){return t.metadata.exists?MT(this.k,t.document,!1):dr.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Xs(t)}}class WR{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=f1(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new MD(this.k);for(const r of t)if(r.metadata.queries){const o=i.Hn(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||Oi()).add(o);e.set(u,f)}}return e}complete(){var t=this;return(0,Ye.Z)(function*(){const e=yield function(n,t,e,i){return $C.apply(this,arguments)}(t.localStore,new MD(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const r of t.queries)yield FR(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new hD(Object.assign({},t.progress),e)})()}}function f1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Cb{constructor(t){this.key=t}}class p1{constructor(t){this.key=t}}class RD{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=Oi(),this.mutatedKeys=Oi(),this.Ao=cT(t),this.Ro=new Xh(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new Vp,r=e?e.Ro:this.Ro;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const m=Zv(this.query)&&r.size===this.query.limit?r.last():null,b=qv(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((S,k)=>{const U=r.get(S),q=A0(this.query,k)?k:null,le=!!U&&this.mutatedKeys.has(U.key),Oe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Je=!1;U&&q?U.data.isEqual(q.data)?le!==Oe&&(i.track({type:3,doc:q}),Je=!0):this.Vo(U,q)||(i.track({type:2,doc:q}),Je=!0,(m&&this.Ao(q,m)>0||b&&this.Ao(q,b)<0)&&(f=!0)):!U&&q?(i.track({type:0,doc:q}),Je=!0):U&&!q&&(i.track({type:1,doc:U}),Je=!0,(m||b)&&(f=!0)),Je&&(q?(u=u.add(q),o=Oe?o.add(S):o.delete(S)):(u=u.delete(S),o=o.delete(S)))}),Zv(this.query)||qv(this.query))for(;u.size>this.query.limit;){const S=Zv(this.query)?u.last():u.first();u=u.delete(S.key),o=o.delete(S.key),i.track({type:1,doc:S})}return{Ro:u,vo:i,Bn:f,mutatedKeys:o}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const o=t.vo.no();o.sort((b,S)=>function(k,U){const q=le=>{switch(le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return q(k)-q(U)}(b.type,S.type)||this.Ao(b.doc,S.doc)),this.So(i);const u=e?this.Do():[],f=0===this.Io.size&&this.current?1:0,m=f!==this.Eo;return this.Eo=f,0!==o.length||m?{snapshot:new Bp(this.query,t.Ro,r,o,t.mutatedKeys,0===f,m,!1),Co:u}:{Co:u}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Vp,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=Oi(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new p1(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new Cb(i))}),e}ko(t){this.To=t.zn,this.Io=Oi();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return Bp.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class OD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class lE{constructor(t){this.key=t,this.$o=!1}}class PD{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Fo=new Op(f=>lT(f),D0),this.Mo=new Map,this.Lo=new Set,this.Bo=new fs(nn.comparator),this.Uo=new Map,this.qo=new lb,this.Ko={},this.jo=new Map,this.Qo=Yh.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function $a(n,t){return cE.apply(this,arguments)}function cE(){return cE=(0,Ye.Z)(function*(n,t){const e=I1(n);let i,r;const o=e.Fo.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.xo();else{const u=yield Ad(e.localStore,Vl(t)),f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield iy(e,t,i,"current"===f),e.isPrimaryClient&&pb(e.remoteStore,u)}return r}),cE.apply(this,arguments)}function iy(n,t,e,i){return uE.apply(this,arguments)}function uE(){return uE=(0,Ye.Z)(function*(n,t,e,i){n.Go=(S,k,U)=>{return(q=(0,Ye.Z)(function*(le,Oe,Je,Vt){let Zt=Oe.view.Po(Je);Zt.Bn&&(Zt=yield ob(le.localStore,Oe.query,!1).then(({documents:yi})=>Oe.view.Po(yi,Zt)));const ln=Vt&&Vt.targetChanges.get(Oe.targetId),qt=Oe.view.applyChanges(Zt,le.isPrimaryClient,ln);return y1(le,Oe.targetId,qt.Co),qt.snapshot}),function(le,Oe,Je,Vt){return q.apply(this,arguments)})(n,S,k,U);var q};const r=yield ob(n.localStore,t,!0),o=new RD(t,r.zn),u=o.Po(r.documents),f=Ed.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=o.applyChanges(u,n.isPrimaryClient,f);y1(n,e,m.Co);const b=new OD(t,e,o);return n.Fo.set(t,b),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),m.snapshot}),uE.apply(this,arguments)}function ND(n,t){return ry.apply(this,arguments)}function ry(){return ry=(0,Ye.Z)(function*(n,t){const e=xt(n),i=e.Fo.get(t),r=e.Mo.get(i.targetId);if(r.length>1)return e.Mo.set(i.targetId,r.filter(o=>!D0(o,t))),void e.Fo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Im(e.remoteStore,i.targetId),Up(e,i.targetId)}).catch(Qh))):(Up(e,i.targetId),yield kd(e.localStore,i.targetId,!0))}),ry.apply(this,arguments)}function Eb(){return Eb=(0,Ye.Z)(function*(n,t,e){const i=EE(n);try{const r=yield function(o,u){const f=xt(o),m=ds.now(),b=u.reduce((k,U)=>k.add(U.key),Oi());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>f.Wn.vn(k,b).next(U=>{S=U;const q=[];for(const le of u){const Oe=gT(le,S.get(le.key));null!=Oe&&q.push(new Wh(le.key,Oe,Qw(Oe.value.mapValue),hr.exists(!0)))}return f.An.addMutationBatch(k,m,q,u)})).then(k=>(k.applyToLocalDocumentSet(S),{batchId:k.batchId,changes:S}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,f){let m=o.Ko[o.currentUser.toKey()];m||(m=new fs(di)),m=m.insert(u,f),o.Ko[o.currentUser.toKey()]=m}(i,r.batchId,e),yield Md(i,r.changes),yield Fp(i.remoteStore)}catch(r){const o=ty(r,"Failed to persist write");e.reject(o)}}),Eb.apply(this,arguments)}function m1(n,t){return xb.apply(this,arguments)}function xb(){return xb=(0,Ye.Z)(function*(n,t){const e=xt(n);try{const i=yield pD(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.Uo.get(o);u&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.$o=!0:r.modifiedDocuments.size>0?Kt(u.$o):r.removedDocuments.size>0&&(Kt(u.$o),u.$o=!1))}),yield Md(e,i,t)}catch(i){yield Qh(i)}}),xb.apply(this,arguments)}function dE(n,t,e){const i=xt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fo.forEach((o,u)=>{const f=u.view.ro(t);f.snapshot&&r.push(f.snapshot)}),function(o,u){const f=xt(o);f.onlineState=u;let m=!1;f.queries.forEach((b,S)=>{for(const k of S.listeners)k.ro(u)&&(m=!0)}),m&&km(f)}(i.eventManager,t),r.length&&i.Oo.br(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function FD(n,t,e){return hE.apply(this,arguments)}function hE(){return hE=(0,Ye.Z)(function*(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Uo.get(t),o=r&&r.key;if(o){let u=new fs(nn.comparator);u=u.insert(o,dr.newNoDocument(o,Pn.min()));const f=Oi().add(o),m=new N0(Pn.min(),new Map,new Pr(di),u,f);yield m1(i,m),i.Bo=i.Bo.remove(o),i.Uo.delete(t),Sb(i)}else yield kd(i.localStore,t,!1).then(()=>Up(i,t,e)).catch(Qh)}),hE.apply(this,arguments)}function fE(n,t){return ja.apply(this,arguments)}function ja(){return ja=(0,Ye.Z)(function*(n,t){const e=xt(n),i=t.batch.batchId;try{const r=yield BC(e.localStore,t);mE(e,i,null),gE(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Md(e,r)}catch(r){yield Qh(r)}}),ja.apply(this,arguments)}function LD(n,t,e){return pE.apply(this,arguments)}function pE(){return pE=(0,Ye.Z)(function*(n,t,e){const i=xt(n);try{const r=yield function(o,u){const f=xt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return f.An.lookupMutationBatch(m,u).next(S=>(Kt(null!==S),b=S.keys(),f.An.removeMutationBatch(m,S))).next(()=>f.An.performConsistencyCheck(m)).next(()=>f.Wn.vn(m,b))})}(i.localStore,t);mE(i,t,e),gE(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Md(i,r)}catch(r){yield Qh(r)}}),pE.apply(this,arguments)}function Tb(){return Tb=(0,Ye.Z)(function*(n,t){const e=xt(n);gu(e.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=xt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.An.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.jo.get(i)||[];r.push(t),e.jo.set(i,r)}catch(i){const r=ty(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Tb.apply(this,arguments)}function gE(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function mE(n,t,e){const i=xt(n);let r=i.Ko[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function Up(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Mo.get(t))n.Fo.delete(i),e&&n.Oo.zo(i,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||_1(n,i)})}function _1(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(Im(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),Sb(n))}function y1(n,t,e){for(const i of e)i instanceof Cb?(n.qo.addReference(i.key,t),v1(n,i)):i instanceof p1?(Qe("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||_1(n,i.key)):yt()}function v1(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(Qe("SyncEngine","New document in limbo: "+e),n.Lo.add(i),Sb(n))}function Sb(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new nn(Ti.fromString(t)),i=n.Qo.next();n.Uo.set(i,new lE(e)),n.Bo=n.Bo.insert(e,i),pb(n.remoteStore,new Ul(Vl(Cp(e.path)),i,2,fa.I))}}function Md(n,t,e){return _E.apply(this,arguments)}function _E(){return _E=(0,Ye.Z)(function*(n,t,e){const i=xt(n),r=[],o=[],u=[];var f;i.Fo.isEmpty()||(i.Fo.forEach((f,m)=>{u.push(i.Go(m,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),r.push(b);const S=LC.$n(m.targetId,b);o.push(S)}}))}),yield Promise.all(u),i.Oo.br(r),yield(f=(0,Ye.Z)(function*(m,b){const S=xt(m);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>mt.forEach(b,U=>mt.forEach(U.kn,q=>S.persistence.referenceDelegate.addReference(k,U.targetId,q)).next(()=>mt.forEach(U.xn,q=>S.persistence.referenceDelegate.removeReference(k,U.targetId,q)))))}catch(k){if(!Dp(k))throw k;Qe("LocalStore","Failed to update sequence numbers: "+k)}for(const k of b){const U=k.targetId;if(!k.fromCache){const q=S.qn.get(U),Oe=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.qn=S.qn.insert(U,Oe)}}}),function(m,b){return f.apply(this,arguments)})(i.localStore,o))}),_E.apply(this,arguments)}function b1(n,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,Ye.Z)(function*(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){Qe("SyncEngine","User change. New user:",t.toKey());const i=yield Tc(e.localStore,t);e.currentUser=t,(r=e).jo.forEach(u=>{u.forEach(f=>{f.reject(new dt(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Md(e,i.Gn)}var r}),Hp.apply(this,arguments)}function yE(n,t){const e=xt(n),i=e.Uo.get(t);if(i&&i.$o)return Oi().add(i.key);{let r=Oi();const o=e.Mo.get(t);if(!o)return r;for(const u of o){const f=e.Fo.get(u);r=r.unionWith(f.view.bo)}return r}}function w1(n,t){return vE.apply(this,arguments)}function vE(){return vE=(0,Ye.Z)(function*(n,t){const e=xt(n),i=yield ob(e.localStore,t.query,!0),r=t.view.ko(i);return e.isPrimaryClient&&y1(e,t.targetId,r.Co),r}),vE.apply(this,arguments)}function C1(n){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,Ye.Z)(function*(n){const t=xt(n);return zC(t.localStore).then(e=>Md(t,e))}),Ib.apply(this,arguments)}function BD(n,t,e,i){return bE.apply(this,arguments)}function bE(){return bE=(0,Ye.Z)(function*(n,t,e,i){const r=xt(n),o=yield function(u,f){const m=xt(u),b=xt(m.An);return m.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.Zt(S,f).next(k=>k?m.Wn.vn(S,k):mt.resolve(null)))}(r.localStore,t);var f;null!==o?("pending"===e?yield Fp(r.remoteStore):"acknowledged"===e||"rejected"===e?(mE(r,t,i||null),gE(r,t),f=t,xt(xt(r.localStore).An).ee(f)):yt(),yield Md(r,o)):Qe("SyncEngine","Cannot apply mutation batch with id: "+t)}),bE.apply(this,arguments)}function E1(){return E1=(0,Ye.Z)(function*(n,t){const e=xt(n);if(I1(e),EE(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield wE(e,i.toArray());e.Wo=!0,yield u1(e.remoteStore,!0);for(const o of r)pb(e.remoteStore,o)}else if(!1===t&&!1!==e.Wo){const i=[];let r=Promise.resolve();e.Mo.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Up(e,u),kd(e.localStore,u,!0))),Im(e.remoteStore,u)}),yield r,yield wE(e,i),function(o){const u=xt(o);u.Uo.forEach((f,m)=>{Im(u.remoteStore,m)}),u.qo.hs(),u.Uo=new Map,u.Bo=new fs(nn.comparator)}(e),e.Wo=!1,yield u1(e.remoteStore,!1)}}),E1.apply(this,arguments)}function wE(n,t,e){return CE.apply(this,arguments)}function CE(){return CE=(0,Ye.Z)(function*(n,t,e){const i=xt(n),r=[],o=[];for(const u of t){let f;const m=i.Mo.get(u);if(m&&0!==m.length){f=yield Ad(i.localStore,Vl(m[0]));for(const b of m){const S=i.Fo.get(b),k=yield w1(i,S);k.snapshot&&o.push(k.snapshot)}}else{const b=yield HC(i.localStore,u);f=yield Ad(i.localStore,b),yield iy(i,x1(b),u,!1)}r.push(f)}return i.Oo.br(o),r}),CE.apply(this,arguments)}function x1(n){return tC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UD(n){const t=xt(n);return xt(xt(t.localStore).persistence).Tn()}function jR(n,t,e,i){return T1.apply(this,arguments)}function T1(){return T1=(0,Ye.Z)(function*(n,t,e,i){const r=xt(n);if(r.Wo)Qe("SyncEngine","Ignoring unexpected query state notification.");else if(r.Mo.has(t))switch(e){case"current":case"not-current":{const o=yield zC(r.localStore),u=N0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Md(r,o,u);break}case"rejected":yield kd(r.localStore,t,!0),Up(r,t,i);break;default:yt()}}),T1.apply(this,arguments)}function GR(n,t,e){return S1.apply(this,arguments)}function S1(){return S1=(0,Ye.Z)(function*(n,t,e){const i=I1(n);if(i.Wo){for(const r of t){if(i.Mo.has(r)){Qe("SyncEngine","Adding an already active target "+r);continue}const o=yield HC(i.localStore,r),u=yield Ad(i.localStore,o);yield iy(i,x1(o),u.targetId,!1),pb(i.remoteStore,u)}for(const r of e)i.Mo.has(r)&&(yield kd(i.localStore,r,!1).then(()=>{Im(i.remoteStore,r),Up(i,r)}).catch(Qh))}}),S1.apply(this,arguments)}function I1(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FD.bind(null,t),t.Oo.br=HR.bind(null,t.eventManager),t.Oo.zo=h1.bind(null,t.eventManager),t}function EE(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,t),t}class D1{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ye.Z)(function*(){e.k=Np(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return sb(this.persistence,new xm,t.initialUser,this.k)}Yo(t){return new bD(G0.ks,this.k)}Jo(t){return new YC}terminate(){var t=this;return(0,Ye.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class A1 extends D1{constructor(t,e,i){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ye.Z)(function*(){yield e().call(i,t),yield function(n){return ab.apply(this,arguments)}(i.localStore),yield i.ta.initialize(i,t),yield EE(i.ta.syncEngine),yield Fp(i.ta.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return sb(this.persistence,new xm,t.initialUser,this.k)}Xo(t){return new ZT(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=FC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ma.withCacheSize(this.cacheSizeBytes):ma.DEFAULT;return new rb(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Sm(),hb(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new YC}}class k1 extends A1{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ye.Z)(function*(){yield e().call(i,t);const r=i.ta.syncEngine;i.sharedClientState instanceof db&&(i.sharedClientState.syncEngine={mi:BD.bind(null,r),gi:jR.bind(null,r),yi:GR.bind(null,r),Tn:UD.bind(null,r),_i:C1.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var o=(0,Ye.Z)(function*(u){yield function(n,t){return E1.apply(this,arguments)}(i.ta.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}Jo(t){const e=Sm();if(!db.Pt(e))throw new dt(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=FC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new db(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Rd{initialize(t,e){var i=this;return(0,Ye.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>dE(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=b1.bind(null,i.syncEngine),yield u1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new kD}createDatastore(t){const e=Np(t.databaseInfo.databaseId),i=new LR(t.databaseInfo);return new XC(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=f=>dE(this.syncEngine,f,0),u=Pp.Pt()?new Pp:new $o,new n1(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,f,m,b){const S=new PD(i,r,o,u,f,m);return b&&(S.Wo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ye.Z)(function*(e){const i=xt(e);Qe("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield Q0(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function xE(n,t=10240){let e=0;return{read:()=>(0,Ye.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Mm{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class TE{constructor(t,e){this.sa=t,this.k=e,this.metadata=new Ri,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,Ye.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,Ye.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,Ye.Z)(function*(){const e=yield t.oa();if(null===e)return null;const i=t.ia.decode(e),r=Number(i);isNaN(r)&&t.aa(`length string (${i}) is not valid number`);const o=yield t.ca(r);return new zR(JSON.parse(o),e.length+r)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,Ye.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ca(t){var e=this;return(0,Ye.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const i=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,Ye.Z)(function*(){const e=yield t.sa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class HD{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new dt(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ye.Z)(function*(o,u){const f=xt(o),m=xd(f.k)+"/documents",b={documents:u.map(q=>Gh(f.k,q))},S=yield f.ji("BatchGetDocuments",m,b),k=new Map;S.forEach(q=>{const le=function(n,t){return"found"in t?function(e,i){Kt(!!i.found);const r=pu(e,i.found.name),o=Xs(i.found.updateTime),u=new ir({mapValue:{fields:i.found.fields}});return dr.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Kt(!!i.missing),Kt(!!i.readTime);const r=pu(e,i.missing),o=Xs(i.readTime);return dr.newNoDocument(r,o)}(n,t):yt()}(f.k,q);k.set(le.key.toString(),le)});const U=[];return u.forEach(q=>{const le=k.get(q.toString());Kt(!!le),U.push(le)}),U}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new $h(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=nn.fromPath(r);t.mutations.push(new gm(o,t.precondition(o)))}),yield(i=(0,Ye.Z)(function*(r,o){const u=xt(r),f=xd(u.k)+"/documents",m={writes:o.map(b=>L0(u.k,b))};yield u.Bi("Commit",f,m)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw yt();e=Pn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new dt(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hr.updateTime(e):hr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pn.min()))throw new dt(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(e)}return hr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class SE{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.la=5,this.ur=new QC(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,Ye.Z)(function*(){const e=new HD(t.datastore),i=t.da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.wa(o)}))}).catch(r=>{t.wa(r)})}))}da(t){try{const e=this.updateFunction(t);return!Vh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!yT(e)}return!1}}class IE{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=nt.UNAUTHENTICATED,this.clientId=jw.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ye.Z)(function*(f){Qe("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,Ye.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ty(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function DE(n,t){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,Ye.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ye.Z)(function*(o){i.isEqual(o)||(yield Tc(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Ab.apply(this,arguments)}function zD(n,t){return M1.apply(this,arguments)}function M1(){return M1=(0,Ye.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield R1(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>{return(o=(0,Ye.Z)(function*(u,f){const m=xt(u);m.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const b=gu(m);m.Gr.add(3),yield Q0(m),b&&m.Jr.set("Unknown"),yield m.remoteSyncer.handleCredentialChange(f),m.Gr.delete(3),yield Jh(m)}),function(u,f){return o.apply(this,arguments)})(t.remoteStore,r);var o}),n.onlineComponents=t}),M1.apply(this,arguments)}function R1(n){return O1.apply(this,arguments)}function O1(){return O1=(0,Ye.Z)(function*(n){return n.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield DE(n,new D1)),n.offlineComponents}),O1.apply(this,arguments)}function AE(n){return P1.apply(this,arguments)}function P1(){return P1=(0,Ye.Z)(function*(n){return n.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield zD(n,new Rd)),n.onlineComponents}),P1.apply(this,arguments)}function WD(n){return R1(n).then(t=>t.persistence)}function kb(n){return R1(n).then(t=>t.localStore)}function N1(n){return AE(n).then(t=>t.remoteStore)}function kE(n){return AE(n).then(t=>t.syncEngine)}function Rm(n){return ME.apply(this,arguments)}function ME(){return ME=(0,Ye.Z)(function*(n){const t=yield AE(n),e=t.eventManager;return e.onListen=$a.bind(null,t.syncEngine),e.onUnlisten=ND.bind(null,t.syncEngine),e}),ME.apply(this,arguments)}function B1(n,t,e={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(r,o,u,f,m){const b=new Mm({next:k=>{o.enqueueAndForget(()=>vb(r,S));const U=k.docs.has(u);!U&&k.fromCache?m.reject(new dt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&k.fromCache&&f&&"server"===f.source?m.reject(new dt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(k)},error:k=>m.reject(k)}),S=new wb(Cp(u.path),b,{includeMetadataChanges:!0,wo:!0});return ny(r,S)}(yield Rm(n),n.asyncQueue,t,e,i)})),i.promise}function RE(n,t,e={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(r,o,u,f,m){const b=new Mm({next:k=>{o.enqueueAndForget(()=>vb(r,S)),k.fromCache&&"server"===f.source?m.reject(new dt(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(k)},error:k=>m.reject(k)}),S=new wb(u,b,{includeMetadataChanges:!0,wo:!0});return ny(r,S)}(yield Rm(n),n.asyncQueue,t,e,i)})),i.promise}class GD{constructor(t,e,i,r,o,u,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class Om{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Om&&t.projectId===this.projectId&&t.database===this.database}}const H1=new Map;function OE(n,t,e){if(!e)throw new dt(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ZD(n,t,e,i){if(!0===t&&!0===i)throw new dt(je.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function z1(n){if(!nn.isDocumentKey(n))throw new dt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W1(n){if(nn.isDocumentKey(n))throw new dt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ob(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":yt()}function wi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ob(n);throw new dt(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function $1(n,t){if(t<=0)throw new dt(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class j1{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new dt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sy{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,t instanceof Om?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new dt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Om(r.options.projectId)}(t))}get app(){if(!this._app)throw new dt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new dt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Gx;switch(e.type){case"gapi":const i=e.client;return Kt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new zw(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new dt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=H1.get(t);e&&(Qe("ComponentProvider","Removing Datastore"),H1.delete(t),e.terminate())}(this),Promise.resolve()}}class Sr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Od(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Sr(this.firestore,t,this._key)}}class jo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jo(this.firestore,t,this._query)}}class Od extends jo{constructor(t,e,i){super(t,e,Cp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Sr(this.firestore,null,new nn(t))}withConverter(t){return new Od(this.firestore,t,this._path)}}function KD(n,t,...e){if(n=(0,J.m9)(n),OE("collection","path",t),n instanceof sy){const i=Ti.fromString(t,...e);return W1(i),new Od(n,null,i)}{if(!(n instanceof Sr||n instanceof Od))throw new dt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ti.fromString(t,...e));return W1(i),new Od(n.firestore,null,i)}}function Pb(n,t,...e){if(n=(0,J.m9)(n),1===arguments.length&&(t=jw.A()),OE("doc","path",t),n instanceof sy){const i=Ti.fromString(t,...e);return z1(i),new Sr(n,null,new nn(i))}{if(!(n instanceof Sr||n instanceof Od))throw new dt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ti.fromString(t,...e));return z1(i),new Sr(n.firestore,n instanceof Od?n.converter:null,new nn(i))}}function YD(n,t){return n=(0,J.m9)(n),t=(0,J.m9)(t),(n instanceof Sr||n instanceof Od)&&(t instanceof Sr||t instanceof Od)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function QD(n,t){return n=(0,J.m9)(n),t=(0,J.m9)(t),n instanceof jo&&t instanceof jo&&n.firestore===t.firestore&&D0(n._query,t._query)&&n.converter===t.converter}class qR{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new QC(this,"async_queue_retry"),this.Ra=()=>{const e=hb();e&&Qe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=hb();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ba(),this.Pa(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=hb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.ba(),this.ya)return new Promise(()=>{});const e=new Ri;return this.Pa(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,Ye.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!Dp(e))throw e;Qe("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}Pa(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(i=>{throw this.Ta=i,this.Ea=!1,Xt("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Ea=!1,i))));return this.ma=e,e}enqueueAfterDelay(t,e,i){this.ba(),this.Aa.indexOf(t)>-1&&(e=0);const r=Am.createAndSchedule(this,t,e,i,o=>this.Va(o));return this.pa.push(r),r}ba(){this.Ta&&yt()}verifyOperationInProgress(){}Sa(){var t=this;return(0,Ye.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function G1(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class a{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class c extends sy{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new qR,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||C(this),this._firestoreClient.terminate()}}function p(n=(0,Jr.getApp)()){return(0,Jr._getProvider)(n,"firestore").getImmediate()}function _(n){return n._firestoreClient||C(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function C(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new GD(n._databaseId,o,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var o,f;n._firestoreClient=new IE(n._authCredentials,n._appCheckCredentials,n._queue,i)}function P(n,t,e){const i=new Ri;return n.asyncQueue.enqueue((0,Ye.Z)(function*(){try{yield DE(n,e),yield zD(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===je.FAILED_PRECONDITION||o.code===je.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function jt(n){if(n._initialized||n._terminated)throw new dt(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lt{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new dt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(Ts.fromBase64String(t))}catch(e){throw new dt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Nn(Ts.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class hi{constructor(t){this._methodName=t}}class Co{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return di(this._lat,t._lat)||di(this._long,t._long)}}const zp=/^__.*__$/;class PE{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Wh(t,this.data,this.fieldMask,e,this.fieldTransforms):new k0(t,this.data,e,this.fieldTransforms)}}class Nb{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Wh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Fb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Pm{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ka(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:i,Fa:!1});return r.Ma(t),r}La(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:i,Fa:!1});return r.ka(),r}Ba(t){return this.$a({path:void 0,Fa:!0})}Ua(t){return Z1(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(Fb(this.xa)&&zp.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class NE{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||Np(t)}ja(t,e,i,r=!1){return new Pm({xa:t,methodName:e,Ka:i,path:Vs.emptyPath(),Fa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Pd(n){const t=n._freezeSettings(),e=Np(n._databaseId);return new NE(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Nm(n,t,e,i,r,o={}){const u=n.ja(o.merge||o.mergeFields?2:0,t,e,r);tA("Data must be an object, but it was:",u,i);const f=YR(i,u);let m,b;if(o.merge)m=new vp(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const S=[];for(const k of o.mergeFields){const U=nA(t,k,e);if(!u.contains(U))throw new dt(je.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);JR(S,U)||S.push(U)}m=new vp(S),b=u.fieldTransforms.filter(k=>m.covers(k.field))}else m=null,b=u.fieldTransforms;return new PE(new ir(f),m,b)}class Wp extends hi{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wp}}function Lb(n,t,e){return new Pm({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Fa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class JD extends hi{_toFieldTransform(t){return new Cc(t.path,new Ep)}isEqual(t){return t instanceof JD}}class kV extends hi{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=Lb(this,t,!0),i=this.Qa.map(o=>oy(o,e)),r=new Hh(i);return new Cc(t.path,r)}isEqual(t){return this===t}}class MV extends hi{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=Lb(this,t,!0),i=this.Qa.map(o=>oy(o,e)),r=new zh(i);return new Cc(t.path,r)}isEqual(t){return this===t}}class RV extends hi{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new xp(t.k,hT(t.k,this.Wa));return new Cc(t.path,e)}isEqual(t){return this===t}}function XD(n,t,e,i){const r=n.ja(1,t,e);tA("Data must be an object, but it was:",r,i);const o=[],u=ir.empty();Lh(i,(m,b)=>{const S=iA(t,m,e);b=(0,J.m9)(b);const k=r.La(S);if(b instanceof Wp)o.push(S);else{const U=oy(b,k);null!=U&&(o.push(S),u.set(S,U))}});const f=new vp(o);return new Nb(u,f,r.fieldTransforms)}function eA(n,t,e,i,r,o){const u=n.ja(1,t,e),f=[nA(t,i,e)],m=[r];if(o.length%2!=0)throw new dt(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<o.length;U+=2)f.push(nA(t,o[U])),m.push(o[U+1]);const b=[],S=ir.empty();for(let U=f.length-1;U>=0;--U)if(!JR(b,f[U])){const q=f[U];let le=m[U];le=(0,J.m9)(le);const Oe=u.La(q);if(le instanceof Wp)b.push(q);else{const Je=oy(le,Oe);null!=Je&&(b.push(q),S.set(q,Je))}}const k=new vp(b);return new Nb(S,k,u.fieldTransforms)}function KR(n,t,e,i=!1){return oy(e,n.ja(i?4:3,t))}function oy(n,t){if(QR(n=(0,J.m9)(n)))return tA("Unsupported field value:",t,n),YR(n,t);if(n instanceof hi)return function(e,i){if(!Fb(i.xa))throw i.Ua(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Ua(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let f=oy(u,i.Ba(o));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,J.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hT(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ds.fromDate(e);return{timestampValue:F0(i.k,r)}}if(e instanceof ds){const r=new ds(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:F0(i.k,r)}}if(e instanceof Co)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nn)return{bytesValue:qI(i.k,e._byteString)};if(e instanceof Sr){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.Ua(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:DT(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Ua(`Unsupported field value: ${Ob(e)}`)}(n,t)}function YR(n,t){const e={};return qw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lh(n,(i,r)=>{const o=oy(r,t.Oa(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function QR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ds||n instanceof Co||n instanceof Nn||n instanceof Sr||n instanceof hi)}function tA(n,t,e){if(!QR(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Ob(e);throw t.Ua("an object"===i?n+" a custom object":n+" "+i)}var i}function nA(n,t,e){if((t=(0,J.m9)(t))instanceof lt)return t._internalPath;if("string"==typeof t)return iA(n,t);throw Z1("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const OV=new RegExp("[~\\*/\\[\\]]");function iA(n,t,e){if(t.search(OV)>=0)throw Z1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new lt(...t.split("."))._internalPath}catch(i){throw Z1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Z1(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new dt(je.INVALID_ARGUMENT,f+n+m)}function JR(n,t){return n.some(e=>e.isEqual(t))}class FE{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new PV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(q1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class PV extends FE{data(){return super.data()}}function q1(n,t){return"string"==typeof t?iA(n,t):t instanceof lt?t._internalPath:t._delegate._internalPath}class ay{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $p extends FE{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new LE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(q1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class LE extends $p{data(t={}){return super.data(t)}}class Fm{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ay(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new LE(this._firestore,this._userDataWriter,i.key,i,new ay(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new LE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ay(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new LE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ay(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,b=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:NV(u.type),doc:f,oldIndex:m,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function NV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function XR(n,t){return n instanceof $p&&t instanceof $p?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Fm&&t instanceof Fm&&n._firestore===t._firestore&&QD(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function eO(n){if(qv(n)&&0===n.explicitOrderBy.length)throw new dt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VE{}function Lm(n,...t){for(const e of t)n=e._apply(n);return n}class FV extends VE{constructor(t,e,i){super(),this.Ga=t,this.za=e,this.Ha=i,this.type="where"}_apply(t){const e=Pd(t.firestore),i=function(r,o,u,f,m,b,S){let k;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new dt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on FieldPath.documentId().`);if("in"===b||"not-in"===b){oO(S,b);const q=[];for(const le of S)q.push(sO(f,r,le));k={arrayValue:{values:q}}}else k=sO(f,r,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||oO(S,b),k=KR(u,"where",S,"in"===b||"not-in"===b);const U=Wo.create(m,b,k);return function(q,le){if(le.V()){const Je=iC(q);if(null!==Je&&!Je.isEqual(le.field))throw new dt(je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Je.toString()}' and '${le.field.toString()}'`);const Vt=nC(q);null!==Vt&&aO(0,le.field,Vt)}const Oe=function(Je,Vt){for(const Zt of Je.filters)if(Vt.indexOf(Zt.op)>=0)return Zt.op;return null}(q,function(Je){switch(Je){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(le.op));if(null!==Oe)throw new dt(je.INVALID_ARGUMENT,Oe===le.op?`Invalid query. You cannot use more than one '${le.op.toString()}' filter.`:`Invalid query. You cannot use '${le.op.toString()}' filters with '${Oe.toString()}' filters.`)}(r,U),U}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new jo(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class VV extends VE{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new dt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new dt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new wp(r,o);return function(f,m){if(null===nC(f)){const b=iC(f);null!==b&&aO(0,b,m.field)}}(i,u),u}(t._query,this.Ga,this.Ja);return new jo(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new fu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class tO extends VE{constructor(t,e,i){super(),this.type=t,this.Ya=e,this.Xa=i}_apply(t){return new jo(t.firestore,t.converter,aT(t._query,this.Ya,this.Xa))}}class nO extends VE{constructor(t,e,i){super(),this.type=t,this.Za=e,this.tc=i}_apply(t){const e=rO(t,this.type,this.Za,this.tc);return new jo(t.firestore,t.converter,(r=e,new fu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class iO extends VE{constructor(t,e,i){super(),this.type=t,this.Za=e,this.tc=i}_apply(t){const e=rO(t,this.type,this.Za,this.tc);return new jo(t.firestore,t.converter,(r=e,new fu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function rO(n,t,e,i){if(e[0]=(0,J.m9)(e[0]),e[0]instanceof FE)return function(r,o,u,f,m){if(!f)throw new dt(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const S of fm(r))if(S.field.isKeyField())b.push(um(o,f.key));else{const k=f.data.field(S.field);if($v(k))throw new dt(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const U=S.field.canonicalString();throw new dt(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}b.push(k)}return new Uh(b,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Pd(n.firestore);return function(o,u,f,m,b,S){const k=o.explicitOrderBy;if(b.length>k.length)throw new dt(je.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let q=0;q<b.length;q++){const le=b[q];if(k[q].field.isKeyField()){if("string"!=typeof le)throw new dt(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof le}`);if(!rC(o)&&-1!==le.indexOf("/"))throw new dt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${m}() must be a plain document ID, but '${le}' contains a slash.`);const Oe=o.path.child(Ti.fromString(le));if(!nn.isDocumentKey(Oe))throw new dt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${m}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Je=new nn(Oe);U.push(um(u,Je))}else{const Oe=KR(f,m,le);U.push(Oe)}}return new Uh(U,S)}(n._query,n.firestore._databaseId,r,t,e,i)}}function sO(n,t,e){if("string"==typeof(e=(0,J.m9)(e))){if(""===e)throw new dt(je.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!rC(t)&&-1!==e.indexOf("/"))throw new dt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ti.fromString(e));if(!nn.isDocumentKey(i))throw new dt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return um(n,new nn(i))}if(e instanceof Sr)return um(n,e._key);throw new dt(je.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ob(e)}.`)}function oO(n,t){if(!Array.isArray(n)||0===n.length)throw new dt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new dt(je.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function aO(n,t,e){if(!e.isEqual(t))throw new dt(je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class rA{convertValue(t,e="none"){switch(Fl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}}convertObject(t,e){const i={};return Lh(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Co(hs(t.latitude),hs(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Yx(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(E0(t));default:return null}}convertTimestamp(t){const e=Cd(t);return new ds(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ti.fromString(t);Kt(FT(i));const r=new Om(i.get(1),i.get(3)),o=new nn(i.popFirst(5));return r.isEqual(e)||Xt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function K1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class GV extends rA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sr(this.firestore,null,e)}}class lO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Pd(t)}set(t,e,i){this._verifyNotCommitted();const r=Vm(t,this._firestore),o=K1(r.converter,e,i),u=Nm(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,hr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Vm(t,this._firestore);let u;return u="string"==typeof(e=(0,J.m9)(e))||e instanceof lt?eA(this._dataReader,"WriteBatch.update",o._key,e,i,r):XD(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,hr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vm(t,this._firestore);return this._mutations=this._mutations.concat(new $h(e._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vm(n,t){if((n=(0,J.m9)(n)).firestore!==t)throw new dt(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ly extends rA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sr(this.firestore,null,e)}}function cO(n,t,e){n=wi(n,Sr);const i=wi(n.firestore,c),r=K1(n.converter,t,e);return Vb(i,[Nm(Pd(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,hr.none())])}function uO(n,t,e,...i){n=wi(n,Sr);const r=wi(n.firestore,c),o=Pd(r);let u;return u="string"==typeof(t=(0,J.m9)(t))||t instanceof lt?eA(o,"updateDoc",n._key,t,e,i):XD(o,"updateDoc",n._key,t),Vb(r,[u.toMutation(n._key,hr.exists(!0))])}function dO(n,...t){var e,i,r;n=(0,J.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||G1(t[u])||(o=t[u],u++);const f={includeMetadataChanges:o.includeMetadataChanges};if(G1(t[u])){const k=t[u];t[u]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[u+1]=null===(i=k.error)||void 0===i?void 0:i.bind(k),t[u+2]=null===(r=k.complete)||void 0===r?void 0:r.bind(k)}let m,b,S;if(n instanceof Sr)b=wi(n.firestore,c),S=Cp(n._key.path),m={next:k=>{t[u]&&t[u](sA(b,n,k))},error:t[u+1],complete:t[u+2]};else{const k=wi(n,jo);b=wi(k.firestore,c),S=k._query;const U=new ly(b);m={next:q=>{t[u]&&t[u](new Fm(b,U,k,q))},error:t[u+1],complete:t[u+2]},eO(n._query)}return function(k,U,q,le){const Oe=new Mm(le),Je=new wb(U,Oe,q);return k.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return ny(yield Rm(k),Je)})),()=>{Oe.na(),k.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return vb(yield Rm(k),Je)}))}}(_(b),S,f,m)}function Vb(n,t){return function(e,i){const r=new Ri;return e.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(n,t,e){return Eb.apply(this,arguments)}(yield kE(e),i,r)})),r.promise}(_(n),t)}function sA(n,t,e){const i=e.docs.get(t._key),r=new ly(n);return new $p(n,r,t._key,i,new ay(e.hasPendingWrites,e.fromCache),t.converter)}class nB extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Pd(t)}get(t){const e=Vm(t,this._firestore),i=new GV(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return yt();const o=r[0];if(o.isFoundDocument())return new FE(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new FE(this._firestore,i,e._key,null,e.converter);throw yt()})}set(t,e,i){const r=Vm(t,this._firestore),o=K1(r.converter,e,i),u=Nm(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Vm(t,this._firestore);let u;return u="string"==typeof(e=(0,J.m9)(e))||e instanceof lt?eA(this._dataReader,"Transaction.update",o._key,e,i,r):XD(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Vm(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Vm(t,this._firestore),i=new ly(this._firestore);return super.get(t).then(r=>new $p(this._firestore,i,e._key,r._document,new ay(!1,!1),e.converter))}}function oA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function hO(){if("undefined"==typeof Uint8Array)throw new dt("unimplemented","Uint8Arrays are not available in this environment.")}function fO(){if("undefined"==typeof atob)throw new dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){at=Jr.SDK_VERSION,(0,Jr._registerComponent)(new Sl.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new c(r,new Zx(e.getProvider("auth-internal")),new OI(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Jr.registerVersion)(Pe,"3.4.2",n),(0,Jr.registerVersion)(Pe,"3.4.2","esm2017")}();class BE{constructor(t){this._delegate=t}static fromBase64String(t){return fO(),new BE(Nn.fromBase64String(t))}static fromUint8Array(t){return hO(),new BE(Nn.fromUint8Array(t))}toBase64(){return fO(),this._delegate.toBase64()}toUint8Array(){return hO(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aA(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class hB{enableIndexedDbPersistence(t,e){return function(n,t){jt(n=wi(n,c));const e=_(n),i=n._freezeSettings(),r=new Rd;return P(e,r,new A1(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){jt(n=wi(n,c));const t=_(n),e=n._freezeSettings(),i=new Rd;return P(t,i,new k1(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new dt(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{yield(e=(0,Ye.Z)(function*(i){if(!Wa.Pt())return Promise.resolve();const r=i+"main";yield Wa.delete(r)}),function(i){return e.apply(this,arguments)})(FC(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class pO{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Om||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&an("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const o=(n=wi(n,sy))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&an("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=nt.MOCK_USER;else{u=(0,J.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new dt(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nt(m)}n._authCredentials=new Hw(new lm(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ye.Z)(function*(){const t=yield WD(n),e=yield N1(n);return t.setNetworkEnabled(!0),function(i){const r=xt(i);return r.Gr.delete(0),Jh(r)}(e)}))}(_(n=wi(n,c)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ye.Z)(function*(){const t=yield WD(n),e=yield N1(n);return t.setNetworkEnabled(!1),(i=(0,Ye.Z)(function*(r){const o=xt(r);o.Gr.add(0),yield Q0(o),o.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(_(n=wi(n,c)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,ZD("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Ri;return t.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(n,t){return Tb.apply(this,arguments)}(yield kE(t),e)})),e.promise}(_(n=wi(n,c)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Mm(t);return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return i=yield Rm(n),r=e,xt(i).io.add(r),void r.next();var i,r})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return i=yield Rm(n),r=e,void xt(i).io.delete(r);var i,r}))}}(_(n=wi(n,c)),G1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Bb(this,KD(this._delegate,t))}catch(e){throw Ga(e,"collection()","Firestore.collection()")}}doc(t){try{return new mu(this,Pb(this._delegate,t))}catch(e){throw Ga(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Za(this,function(n,t){if(n=wi(n,sy),OE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dt(je.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jo(n,null,(e=t,new fu(Ti.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ga(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Ri;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){const i=yield(r=n,AE(r).then(o=>o.datastore));var r;new SE(n.asyncQueue,i,t,e).run()})),e.promise}(_(n=wi(n,c)),e=>t(new nB(n,e)))}(this._delegate,e=>t(new gO(this,e)))}batch(){return _(this._delegate),new mO(new lO(this._delegate,t=>Vb(this._delegate,t)))}loadBundle(t){return function(n,t){const e=_(n=wi(n,c)),i=new a;return function(n,t,e,i){const r=function(o,u){let f;return f="string"==typeof o?(new TextEncoder).encode(o):o,m=function(m,b){if(m instanceof Uint8Array)return xE(m,b);if(m instanceof ArrayBuffer)return xE(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new TE(m,u);var m}(e,Np(t));n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){!function(n,t,e){const i=xt(n);var r;(r=(0,Ye.Z)(function*(o,u,f){try{const m=yield u.getMetadata();if(yield function(U,q){const le=xt(U),Oe=Xs(q.createTime);return le.persistence.runTransaction("hasNewerBundle","readonly",Je=>le.Ye.getBundleMetadata(Je,q.id)).then(Je=>!!Je&&Je.createTime.compareTo(Oe)>=0)}(o.localStore,m))return yield u.close(),void f._completeWith((U=m,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));f._updateProgress(f1(m));const b=new WR(m,o.localStore,u.k);let S=yield u.Ho();for(;S;){const U=yield b.yo(S);U&&f._updateProgress(U),S=yield u.Ho()}const k=yield b.complete();yield Md(o,k.In,void 0),yield function(U,q){const le=xt(U);return le.persistence.runTransaction("Save bundle","readwrite",Oe=>le.Ye.saveBundleMetadata(Oe,q))}(o.localStore,m),f._completeWith(k.progress)}catch(m){an("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m)}var U}),function(o,u,f){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield kE(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,Ye.Z)(function*(){return function(e,i){const r=xt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ye.getNamedQuery(o,i))}(yield kb(n),t)}))}(_(n=wi(n,c)),t).then(e=>e?new jo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Za(this,e):null)}}class Y1 extends rA{constructor(t){super(),this.firestore=t}convertBytes(t){return new BE(new Nn(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return mu.forKey(e,this.firestore,null)}}class gO{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Y1(t)}get(t){const e=uy(t);return this._delegate.get(e).then(i=>new UE(this._firestore,new $p(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=uy(t);return i?(oA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=uy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=uy(t);return this._delegate.delete(e),this}}class mO{constructor(t){this._delegate=t}set(t,e,i){const r=uy(t);return i?(oA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=uy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=uy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class cy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new LE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new HE(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=cy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new cy(t,new Y1(t),e),r.set(e,o)),o}}cy.INSTANCES=new WeakMap;class mu{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Y1(t)}static forPath(t,e,i){if(t.length%2!=0)throw new dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new mu(e,new Sr(e._delegate,i,new nn(t)))}static forKey(t,e,i){return new mu(e,new Sr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Bb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Bb(this.firestore,KD(this._delegate,t))}catch(e){throw Ga(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,J.m9)(t))instanceof Sr&&YD(this._delegate,t)}set(t,e){e=oA("DocumentReference.set",e);try{return e?cO(this._delegate,t,e):cO(this._delegate,t)}catch(i){throw Ga(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?uO(this._delegate,t):uO(this._delegate,t,e,...i)}catch(r){throw Ga(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Vb(wi(n.firestore,c),[new $h(n._key,hr.none())])}(this._delegate)}onSnapshot(...t){const e=_O(t),i=yO(t,r=>new UE(this.firestore,new $p(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return dO(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=wi(n,Sr);const t=wi(n.firestore,c),e=_(t),i=new ly(t);return function(n,t){const e=new Ri;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return(i=(0,Ye.Z)(function*(r,o,u){try{const f=yield function(m,b){const S=xt(m);return S.persistence.runTransaction("read document","readonly",k=>S.Wn.Rn(k,b))}(r,o);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new dt(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=ty(f,`Failed to get document '${o} from cache`);u.reject(m)}}),function(r,o,u){return i.apply(this,arguments)})(yield kb(n),t,e);var i})),e.promise}(e,n._key).then(r=>new $p(t,i,n._key,r,new ay(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=wi(n,Sr);const t=wi(n.firestore,c);return B1(_(t),n._key,{source:"server"}).then(e=>sA(t,n,e))}(this._delegate):function(n){n=wi(n,Sr);const t=wi(n.firestore,c);return B1(_(t),n._key).then(e=>sA(t,n,e))}(this._delegate),e.then(i=>new UE(this.firestore,new $p(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new mu(this.firestore,this._delegate.withConverter(t?cy.getInstance(this.firestore,t):null))}}function Ga(n,t,e){return n.message=n.message.replace(t,e),n}function _O(n){for(const t of n)if("object"==typeof t&&!aA(t))return t;return{}}function yO(n,t){var e,i;let r;return r=aA(n[0])?n[0]:aA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class UE{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new mu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return XR(this._delegate,t._delegate)}}class HE extends UE{data(t){const e=this._delegate.data(t);return function(n,t){n||yt()}(void 0!==e),e}}class Za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Y1(t)}where(t,e,i){try{return new Za(this.firestore,Lm(this._delegate,function(n,t,e){const i=t,r=q1("where",n);return new FV(r,i,e)}(t,e,i)))}catch(r){throw Ga(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Za(this.firestore,Lm(this._delegate,function(n,t="asc"){const e=t,i=q1("orderBy",n);return new VV(i,e)}(t,e)))}catch(i){throw Ga(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Za(this.firestore,Lm(this._delegate,function(n){return $1("limit",n),new tO("limit",n,"F")}(t)))}catch(e){throw Ga(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Za(this.firestore,Lm(this._delegate,function(n){return $1("limitToLast",n),new tO("limitToLast",n,"L")}(t)))}catch(e){throw Ga(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Za(this.firestore,Lm(this._delegate,function(...n){return new nO("startAt",n,!0)}(...t)))}catch(e){throw Ga(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Za(this.firestore,Lm(this._delegate,function(...n){return new nO("startAfter",n,!1)}(...t)))}catch(e){throw Ga(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Za(this.firestore,Lm(this._delegate,function(...n){return new iO("endBefore",n,!0)}(...t)))}catch(e){throw Ga(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Za(this.firestore,Lm(this._delegate,function(...n){return new iO("endAt",n,!1)}(...t)))}catch(e){throw Ga(e,"endAt()","Query.endAt()")}}isEqual(t){return QD(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=wi(n,jo);const t=wi(n.firestore,c),e=_(t),i=new ly(t);return function(n,t){const e=new Ri;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return(i=(0,Ye.Z)(function*(r,o,u){try{const f=yield ob(r,o,!0),m=new RD(o,f.zn),b=m.Po(f.documents),S=m.applyChanges(b,!1);u.resolve(S.snapshot)}catch(f){const m=ty(f,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(r,o,u){return i.apply(this,arguments)})(yield kb(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Fm(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=wi(n,jo);const t=wi(n.firestore,c),e=_(t),i=new ly(t);return RE(e,n._query,{source:"server"}).then(r=>new Fm(t,i,n,r))}(this._delegate):function(n){n=wi(n,jo);const t=wi(n.firestore,c),e=_(t),i=new ly(t);return eO(n._query),RE(e,n._query).then(r=>new Fm(t,i,n,r))}(this._delegate),e.then(i=>new lA(this.firestore,new Fm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=_O(t),i=yO(t,r=>new lA(this.firestore,new Fm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return dO(this._delegate,e,i)}withConverter(t){return new Za(this.firestore,this._delegate.withConverter(t?cy.getInstance(this.firestore,t):null))}}class pB{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new HE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lA{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Za(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new HE(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new pB(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new HE(this._firestore,i))})}isEqual(t){return XR(this._delegate,t._delegate)}}class Bb extends Za{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new mu(this.firestore,t):null}doc(t){try{return new mu(this.firestore,void 0===t?Pb(this._delegate):Pb(this._delegate,t))}catch(e){throw Ga(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=wi(n.firestore,c),i=Pb(n),r=K1(n.converter,t);return Vb(e,[Nm(Pd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,hr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new mu(this.firestore,e))}isEqual(t){return YD(this._delegate,t._delegate)}withConverter(t){return new Bb(this.firestore,this._delegate.withConverter(t?cy.getInstance(this.firestore,t):null))}}function uy(n){return wi(n,Sr)}class cA{constructor(...t){this._delegate=new lt(...t)}static documentId(){return new cA(Vs.keyField().canonicalString())}isEqual(t){return(t=(0,J.m9)(t))instanceof lt&&this._delegate._internalPath.isEqual(t._internalPath)}}class dy{constructor(t){this._delegate=t}static serverTimestamp(){const t=new JD("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new dy(t)}static delete(){const t=new Wp("deleteField");return t._methodName="FieldValue.delete",new dy(t)}static arrayUnion(...t){const e=function(...n){return new kV("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new dy(e)}static arrayRemove(...t){const e=function(...n){return new MV("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new dy(e)}static increment(t){const e=function(n){return new RV("increment",n)}(t);return e._methodName="FieldValue.increment",new dy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const gB={Firestore:pO,GeoPoint:Co,Timestamp:ds,Blob:BE,Transaction:gO,WriteBatch:mO,DocumentReference:mu,DocumentSnapshot:UE,Query:Za,QueryDocumentSnapshot:HE,QuerySnapshot:lA,CollectionReference:Bb,FieldPath:cA,FieldValue:dy,setLogLevel:function(n){!function(n){ft.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new Sl.wA("firestore-compat",e=>((t,e)=>new pO(t,e,new hB))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},gB)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.11")}(kg.Z);var uA=O(4073),zE=O(7951),yB=O(341),vB=O(5283);class bB extends Bn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new wB(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;let u;if(this.closed)throw new ul.N;if(this.isStopped||this.hasError?u=ml.w.EMPTY:(this.observers.push(t),u=new vB.W(this,t)),r&&t.add(t=new zE.ht(t,r)),e)for(let f=0;f<o&&!t.closed;f++)t.next(i[f]);else for(let f=0;f<o&&!t.closed;f++)t.next(i[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||yB.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,o=r.length;let u=0;for(;u<o&&!(t-r[u].time<i);)u++;return o>e&&(u=Math.max(u,o-e)),u>0&&r.splice(0,u),r}}class wB{constructor(t,e){this.time=t,this.value=e}}function dA(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,u,o=0,f=!1,m=!1;return function(S){let k;o++,!r||f?(f=!1,r=new bB(n,t,i),k=r.subscribe(this),u=S.subscribe({next(U){r.next(U)},error(U){f=!0,r.error(U)},complete(){m=!0,u=void 0,r.complete()}}),m&&(u=void 0)):k=r.subscribe(this),this.add(()=>{o--,k.unsubscribe(),k=void 0,u&&!m&&e&&0===o&&(u.unsubscribe(),u=void 0,r=void 0)})}}(i))}function vO(n,t){return t?Yi(()=>n,t):Yi(()=>n)}var hA=O(3334),Sc=O(5867);class jp{constructor(t){return t}}class Ub{constructor(){return(0,Sc.C6)()}}const fA=new s.OlP("angularfire2._apps"),xB={provide:jp,useFactory:function(n){return n&&1===n.length?n[0]:new jp((0,Sc.Mq)())},deps:[[new s.FiY,fA]]},TB={provide:Ub,deps:[[new s.FiY,fA]]};function SB(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new jp(i)}}let IB=(()=>{class n{constructor(e){(0,Sc.KN)("angularfire",Ht.q4.full,"core"),(0,Sc.KN)("angularfire",Ht.q4.full,"app"),(0,Sc.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xB,TB]}),n})();function DB(n,...t){return{ngModule:IB,providers:[{provide:fA,useFactory:SB(n),multi:!0,deps:[s.R0b,s.zs3,Ht.HU,...t]}]}}const AB=(0,Ht.u3)(Sc.ZF,!0),bO=new Map,kB={activated:!1,tokenObservers:[]},MB={initialized:!1,enabled:!1};function Eo(n){return bO.get(n)||kB}function Nd(n,t){bO.set(n,t)}function Q1(){return MB}class FB{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ye.Z)(function*(){e.stop();try{e.pending=new J.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new J.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const qa=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CO(n){if(!Eo(n).activated)throw qa.create("use-before-activation",{appName:n.name})}function mA(n,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Ye.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const o={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,o)}catch(k){throw qa.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==u.status)throw qa.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(k){throw qa.create("fetch-parse-error",{originalErrorMessage:k.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw qa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(m[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),_A.apply(this,arguments)}function zB(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const WE="firebase-app-check-store";let eS=null;function xO(){return eS||(eS=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(qa.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(WE,{keyPath:"compositeKey"})}}catch(e){t(qa.create("storage-open",{originalErrorMessage:e.message}))}}),eS)}function yA(){return yA=(0,Ye.Z)(function*(n,t){const i=(yield xO()).transaction(WE,"readwrite"),o=i.objectStore(WE).put({compositeKey:n,value:t});return new Promise((u,f)=>{o.onsuccess=m=>{u()},i.onerror=m=>{var b;f(qa.create("storage-set",{originalErrorMessage:null===(b=m.target.error)||void 0===b?void 0:b.message}))}})}),yA.apply(this,arguments)}const $E=new yo.Yd("@firebase/app-check");function DO(n,t){return(0,J.hl)()?function(n,t){return function(n,t){return yA.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{$E.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function AO(){return Q1().enabled}function kO(){return CA.apply(this,arguments)}function CA(){return CA=(0,Ye.Z)(function*(){const n=Q1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),CA.apply(this,arguments)}const JB={error:"UNKNOWN_ERROR"};function XB(n){return J.US.encodeString(JSON.stringify(n),!1)}function tS(n){return EA.apply(this,arguments)}function EA(){return EA=(0,Ye.Z)(function*(n,t=!1){const e=n.app;CO(e);const i=Eo(e);let o,r=i.token;if(!r){const m=yield i.cachedTokenPromise;m&&nS(m)&&(r=m)}if(!t&&r&&nS(r))return{token:r.token};let f,u=!1;if(AO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=mA(zB(e,yield kO()),n.platformLoggerProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const m=yield i.exchangeTokenPromise;return yield DO(e,m),Nd(e,Object.assign(Object.assign({},i),{token:m})),{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(m=>(i.exchangeTokenPromise=void 0,m)),u=!0),r=yield i.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?$E.warn(m.message):$E.error(m),o=m}return r?(f={token:r.token},Nd(e,Object.assign(Object.assign({},i),{token:r})),yield DO(e,r)):f=t3(o),u&&RO(e,f),f}),EA.apply(this,arguments)}function TA(n,t){const e=Eo(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Nd(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function MO(n){const{app:t}=n,e=Eo(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new FB((0,Ye.Z)(function*(){let i;if(i=Eo(t).token?yield tS(n,!0):yield tS(n),i.error)throw i.error}),()=>!0,()=>{const e=Eo(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Nd(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function RO(n,t){const e=Eo(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function nS(n){return n.expireTimeMillis-Date.now()>0}function t3(n){return{token:XB(JB),error:n}}class n3{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Eo(this.app);for(const e of t)TA(this.app,e.next);return Promise.resolve()}}const UO="app-check-internal";(0,Jr._registerComponent)(new Sl.wA("app-check",n=>function(n,t){return new n3(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(UO).initialize()})),(0,Jr._registerComponent)(new Sl.wA(UO,n=>function(n){return{getToken:t=>tS(n,t),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,o=Eo(r),u={next:e,error:i,type:t};if(Nd(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&nS(o.token)){const f=o.token;Promise.resolve().then(()=>{e({token:f.token}),MO(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>MO(n))}(n,"INTERNAL",t),removeTokenListener:t=>TA(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Jr.registerVersion)("@firebase/app-check","0.5.3");class hy{constructor(){return(0,Ht.vb)("app-check")}}"undefined"!=typeof window&&window;var kA=O(127);const MA=new s.OlP("angularfire2.auth.use-emulator"),RA=new s.OlP("angularfire2.auth.settings"),OA=new s.OlP("angularfire2.auth.tenant-id"),PA=new s.OlP("angularfire2.auth.langugage-code"),NA=new s.OlP("angularfire2.auth.use-device-language"),FA=new s.OlP("angularfire.auth.persistence"),LA=(n,t,e,i,r,o,u,f)=>(0,ws.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),u)for(const[b,S]of Object.entries(u))m.settings[b]=S;return f&&m.setPersistence(f),m},[e,i,r,o,u,f]);let Hb=(()=>{class n{constructor(e,i,r,o,u,f,m,b,S,k,U,q){const le=new Bn.xQ,Oe=(0,Jt.of)(void 0).pipe((0,zE.QV)(u.outsideAngular),Yi(()=>o.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,un.U)(()=>(0,ws.on)(e,o,i)),(0,un.U)(Je=>LA(Je,o,f,b,S,k,m,U)),dA({bufferSize:1,refCount:!1}));if(ns(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Jt.of)(null);else{Oe.pipe(Cr()).subscribe();const Vt=Oe.pipe(Yi(qt=>qt.getRedirectResult().then(yi=>yi,()=>null)),Ht.iC,dA({bufferSize:1,refCount:!1})),Zt=Oe.pipe(Yi(qt=>new Ai.y(yi=>({unsubscribe:o.runOutsideAngular(()=>qt.onAuthStateChanged(rr=>yi.next(rr),rr=>yi.error(rr),()=>yi.complete()))})))),ln=Oe.pipe(Yi(qt=>new Ai.y(yi=>({unsubscribe:o.runOutsideAngular(()=>qt.onIdTokenChanged(rr=>yi.next(rr),rr=>yi.error(rr),()=>yi.complete()))}))));this.authState=Vt.pipe(vO(Zt),(0,hA.R)(u.outsideAngular),(0,zE.QV)(u.insideAngular)),this.user=Vt.pipe(vO(ln),(0,hA.R)(u.outsideAngular),(0,zE.QV)(u.insideAngular)),this.idToken=this.user.pipe(Yi(qt=>qt?(0,Li.D)(qt.getIdToken()):(0,Jt.of)(null))),this.idTokenResult=this.user.pipe(Yi(qt=>qt?(0,Li.D)(qt.getIdTokenResult()):(0,Jt.of)(null))),this.credential=(0,uA.T)(Vt,le,this.authState.pipe(is(qt=>!qt))).pipe((0,un.U)(qt=>(null==qt?void 0:qt.user)?qt:null),(0,hA.R)(u.outsideAngular),(0,zE.QV)(u.insideAngular))}return(0,ws.pX)(this,Oe,o,{spy:{apply:(Je,Vt,Zt)=>{(Je.startsWith("signIn")||Je.startsWith("createUser"))&&Zt.then(ln=>le.next(ln))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ws.Dh),s.LFG(ws.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ht.HU),s.LFG(MA,8),s.LFG(RA,8),s.LFG(OA,8),s.LFG(PA,8),s.LFG(NA,8),s.LFG(FA,8),s.LFG(hy,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E3=(()=>{class n{constructor(){kA.Z.registerVersion("angularfire",Ht.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hb]}),n})();function zO(n,t){return function(n,t=mh.z){return new Ai.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function VA(n,t){return zO(n,t).pipe((0,un.U)(e=>({payload:e,type:"query"})))}function rS(n,t){return VA(n,t).pipe(ys(void 0),od(),(0,un.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const m=r.find(S=>S.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(S=>S.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),o}))}function WO(n,t,e){return rS(n,e).pipe(Gs((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return BA(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return BA(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return BA(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),U_(),(0,un.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function BA(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function $O(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jO{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=rS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,un.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ys(void 0),od(),is(([i,r])=>r.length>0||!i),(0,un.U)(([i,r])=>r),Ht.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gs((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=$O(t);return WO(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(t={}){return VA(this.query,this.afs.schedulers.outsideAngular).pipe((0,un.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Ht.iC)}get(t){return(0,Li.D)(this.query.get(t)).pipe(Ht.iC)}add(t){return this.ref.add(t)}doc(t){return new GO(this.ref.doc(t),this.afs)}}class GO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=KO(i,e);return new jO(r,o,this.afs)}snapshotChanges(){return function(n,t){return zO(n,t).pipe(ys(void 0),od(),(0,un.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,un.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Li.D)(this.ref.get(t)).pipe(Ht.iC)}}class D3{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?rS(this.query,this.afs.schedulers.outsideAngular).pipe((0,un.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),is(e=>e.length>0),Ht.iC):rS(this.query,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gs((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=$O(t);return WO(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(t={}){return VA(this.query,this.afs.schedulers.outsideAngular).pipe((0,un.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Ht.iC)}get(t){return(0,Li.D)(this.query.get(t)).pipe(Ht.iC)}}const ZO=new s.OlP("angularfire2.enableFirestorePersistence"),qO=new s.OlP("angularfire2.firestore.persistenceSettings"),A3=new s.OlP("angularfire2.firestore.settings"),k3=new s.OlP("angularfire2.firestore.use-emulator");function KO(n,t=(e=>e)){return{query:t(n),ref:n}}let sS=(()=>{class n{constructor(e,i,r,o,u,f,m,b,S,k,U,q,le,Oe,Je,Vt,Zt){this.schedulers=m;const ln=(0,ws.on)(e,f,i),qt=S;k&&LA(ln,f,U,le,Oe,Je,q,Vt),[this.firestore,this.persistenceEnabled$]=(0,ws.cc)(`${ln.name}.firestore`,"AngularFirestore",ln.name,()=>{const yi=f.runOutsideAngular(()=>ln.firestore());if(o&&yi.settings(o),qt&&yi.useEmulator(...qt),r&&!ns(u)){const rr=()=>{try{return(0,Li.D)(yi.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Fr){return"undefined"!=typeof console&&console.warn(Fr),(0,Jt.of)(!1)}};return[yi,f.runOutsideAngular(rr)]}return[yi,(0,Jt.of)(!1)]},[o,qt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=KO(r,i),f=this.schedulers.ngZone.run(()=>o);return new jO(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new D3(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new GO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ws.Dh),s.LFG(ws.xv,8),s.LFG(ZO,8),s.LFG(A3,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ht.HU),s.LFG(qO,8),s.LFG(k3,8),s.LFG(Hb,8),s.LFG(MA,8),s.LFG(RA,8),s.LFG(OA,8),s.LFG(PA,8),s.LFG(NA,8),s.LFG(FA,8),s.LFG(hy,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M3=(()=>{class n{constructor(){kA.Z.registerVersion("angularfire",Ht.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:ZO,useValue:!0},{provide:qO,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[sS]}),n})();var R3=O(2474);class P3{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new N3(t,this.observables,this.project))}}class N3 extends ta{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(Wc(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class L3{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new V3(t,this.predicate))}}class V3 extends si.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const YO="@firebase/database";let UA="";function JO(n){UA=n}class B3{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,J.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,J.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class U3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,J.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const XO=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new B3(t)}}catch(t){}return new U3},fy=XO("localStorage"),HA=XO("sessionStorage"),zb=new yo.Yd("@firebase/database"),eP=function(){let n=1;return function(){return n++}}(),tP=function(n){const t=(0,J.dS)(n),e=new J.gQ;e.update(t);const i=e.digest();return J.US.encodeByteArray(i)},jE=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=jE.apply(null,i):t+="object"==typeof i?(0,J.Pz)(i):i,t+=" "}return t};let py=null,nP=!0;const iP=function(n,t){(0,J.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(zb.logLevel=yo.in.VERBOSE,py=zb.log.bind(zb),t&&HA.set("logging_enabled",!0)):"function"==typeof n?py=n:(py=null,HA.remove("logging_enabled"))},xo=function(...n){if(!0===nP&&(nP=!1,null===py&&!0===HA.get("logging_enabled")&&iP(!0)),py){const t=jE.apply(null,n);py(t)}},GE=function(n){return function(...t){xo(n,...t)}},zA=function(...n){const t="FIREBASE INTERNAL ERROR: "+jE(...n);zb.error(t)},ef=function(...n){const t=`FIREBASE FATAL ERROR: ${jE(...n)}`;throw zb.error(t),new Error(t)},Ka=function(...n){const t="FIREBASE WARNING: "+jE(...n);zb.warn(t)},oS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Gp="[MIN_NAME]",tf="[MAX_NAME]",gy=function(n,t){if(n===t)return 0;if(n===Gp||t===tf)return-1;if(t===Gp||n===tf)return 1;{const e=aS(n),i=aS(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},W3=function(n,t){return n===t?0:n<t?-1:1},ZE=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,J.Pz)(t))},WA=function(n){if("object"!=typeof n||null===n)return(0,J.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,J.Pz)(t[i]),e+=":",e+=WA(n[t[i]]);return e+="}",e},rP=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function To(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const sP=function(n){(0,J.hu)(!oS(n),"Invalid JSON number");const i=1023;let r,o,u,f,m;0===n?(o=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=f+i,u=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const b=[];for(m=52;m;m-=1)b.push(u%2?1:0),u=Math.floor(u/2);for(m=11;m;m-=1)b.push(o%2?1:0),o=Math.floor(o/2);b.push(r?1:0),b.reverse();const S=b.join("");let k="";for(m=0;m<64;m+=8){let U=parseInt(S.substr(m,8),2).toString(16);1===U.length&&(U="0"+U),k+=U}return k.toLowerCase()},Z3=new RegExp("^-?(0*)\\d{1,10}$"),oP=-2147483648,$A=2147483647,aS=function(n){if(Z3.test(n)){const t=Number(n);if(t>=oP&&t<=$A)return t}return null},Wb=function(n){try{n()}catch(t){setTimeout(()=>{throw Ka("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qE=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class K3{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ka(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Y3{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(xo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ka(t)}}let KE=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const dP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fP="websocket",pP="long_polling";class GA{constructor(t,e,i,r,o=!1,u="",f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gP(n,t,e){let i;if((0,J.hu)("string"==typeof t,"typeof type must == string"),(0,J.hu)("object"==typeof e,"typeof params must == object"),t===fP)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==pP)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return To(e,(o,u)=>{r.push(o+"="+u)}),i+r.join("&")}class X3{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,J.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,J.p$)(this.counters_)}}const ZA={},qA={};function KA(n){const t=n.toString();return ZA[t]||(ZA[t]=new X3),ZA[t]}class tU{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Wb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class $b{constructor(t,e,i,r,o,u,f){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=GE(t),this.stats_=KA(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),gP(e,pP,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tU(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,J.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new YA((...o)=>{const[u,f,m,b,S]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=f,this.password=m;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,f]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&dP.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$b.forceAllow_=!0}static forceDisallow(){$b.forceDisallow_=!0}static isAvailable(){return!((0,J.Yr)()||!$b.forceAllow_&&($b.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,J.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,J.h$)(e),r=rP(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,J.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,J.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class YA{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,J.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=eP(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=YA.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){xo("frame writing exception"),f.stack&&xo(f.stack),xo(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||xo("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,J.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{xo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let YE=null;"undefined"!=typeof MozWebSocket?YE=MozWebSocket:"undefined"!=typeof WebSocket&&(YE=WebSocket);let QE=(()=>{class n{constructor(e,i,r,o,u,f,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=GE(this.connId),this.stats_=KA(i),this.connURL=n.connectionURL_(i,f,m,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o){const u={v:"5"};return!(0,J.Yr)()&&"undefined"!=typeof location&&location.hostname&&dP.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),gP(e,fP,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fy.set("previous_websocket_failure",!0);try{if((0,J.Yr)()){const o={headers:{"User-Agent":`Firebase/5/${UA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,f=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;f&&(o.proxy={origin:f}),this.mySock=new YE(this.connURL,[],o)}else this.mySock=new YE(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==YE&&!n.forceDisallow_}static previouslyFailed(){return fy.isInMemoryStorage||!0===fy.get("previous_websocket_failure")}markConnectionHealthy(){fy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,J.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,J.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,J.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=rP(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class QA{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[$b,QE]}initTransports_(t){const e=QE&&QE.isAvailable();let i=e&&!QE.previouslyFailed();if(t.webSocketOnly&&(e||Ka("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[QE];else{const r=this.transports_=[];for(const o of QA.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class DP{constructor(t,e,i,r,o,u,f,m,b,S){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=m,this.onKill_=b,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=GE("c:"+this.id+":"),this.transportManager_=new QA(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ZE("t",t),i=ZE("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ZE("t",t),i=ZE("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ZE("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?zA("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zA("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ka("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class AP{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class kP{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,J.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,J.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class cS extends kP{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,J.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cS}getInitialEvent(t){return(0,J.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Zi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Pi(){return new Zi("")}function ai(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Bm(n){return n.pieces_.length-n.pieceNum_}function pr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Zi(n.pieces_,t)}function XA(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function JE(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function OP(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Zi(t,0)}function Gr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Zi)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Zi(e,0)}function li(n){return n.pieceNum_>=n.pieces_.length}function Ya(n,t){const e=ai(n),i=ai(t);if(null===e)return t;if(e===i)return Ya(pr(n),pr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function EU(n,t){const e=JE(n,0),i=JE(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=gy(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function ek(n,t){if(Bm(n)!==Bm(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function _u(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Bm(n)>Bm(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class xU{constructor(t,e){this.errorPrefix_=e,this.parts_=JE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,J.ug)(this.parts_[i]);PP(this)}}function PP(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+my(n))}function my(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class tk extends kP{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new tk}getInitialEvent(t){return(0,J.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const XE=1e3;let dS,_y=(()=>{class n extends AP{constructor(e,i,r,o,u,f,m,b){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=b,this.id=n.nextPersistentConnectionId_++,this.log_=GE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=XE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,J.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&cS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_((0,J.Pz)(u)),(0,J.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new J.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:f=>{const m=f.d;"ok"===f.s?(this.onDataUpdate_(r.p,m,!1,null),i.resolve(m)):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const f=this.outstandingGets_[u];void 0===f||o!==f||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),(0,J.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,J.hu)(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,m=>{const b=m.d,S=m.s;n.warnOnListenWarnings_(b,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),"ok"!==S&&this.removeListen_(r,o),e.onComplete&&e.onComplete(S,b))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,J.r3)(e,"w")){const r=(0,J.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ka(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,J.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,J.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,J.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e};o&&(u.q=r,u.t=o),this.sendRequest("n",u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const f={p:i,d:r};void 0!==u&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,J.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):zA("Unrecognized action received from server: "+(0,J.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,J.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=XE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=XE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=XE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ye.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let m=!1,b=null;const S=function(){b?b.close():(m=!0,o())};e.realtime_={close:S,sendRequest:function(q){(0,J.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(q)}};const U=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[q,le]=yield Promise.all([e.authTokenProvider_.getToken(U),e.appCheckTokenProvider_.getToken(U)]);m?xo("getToken() completed but was canceled"):(xo("getToken() completed. Creating connection."),e.authToken_=q&&q.accessToken,e.appCheckToken_=le&&le.token,b=new DP(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Oe=>{Ka(Oe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(q){e.log_("Failed to get token: "+q),m||(e.repoInfo_.nodeAdmin&&Ka(q),S())}}})()}interrupt(e){xo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,J.xb)(this.interruptReasons_)&&(this.reconnectDelay_=XE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(u=>WA(u)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Zi(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){xo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){xo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,J.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+UA.replace(/\./g,"-")]=1,(0,J.uI)()?e["framework.cordova"]=1:(0,J.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cS.getInstance().currentlyOnline();return(0,J.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new fi(t,e)}}class uS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new fi(Gp,t),r=new fi(Gp,e);return 0!==this.compare(i,r)}minPost(){return fi.MIN}}class LP extends uS{static get __EMPTY_NODE(){return dS}static set __EMPTY_NODE(t){dS=t}compare(t,e){return gy(t.name,e.name)}isDefinedOn(t){throw(0,J.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return fi.MIN}maxPost(){return new fi(tf,dS)}makePost(t,e){return(0,J.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new fi(t,dS)}toString(){return".key"}}const nf=new LP;class hS{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?i(t.key,e):1,r&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ik,Fd=(()=>{class n{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:Hl.EMPTY_NODE,this.right=null!=u?u:Hl.EMPTY_NODE}copy(e,i,r,o,u){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hl.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Hl.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Hl{constructor(t,e=Hl.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Hl(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Fd.BLACK,null,null))}remove(t){return new Hl(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fd.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new hS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new hS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new hS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new hS(this.root_,null,this.comparator_,!0,t)}}function OU(n,t){return gy(n.name,t.name)}function nk(n,t){return gy(n,t)}Hl.EMPTY_NODE=new class{copy(t,e,i,r,o){return this}insert(t,e,i){return new Fd(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const VP=function(n){return"number"==typeof n?"number:"+sP(n):"string:"+n},BP=function(n){if(n.isLeafNode()){const t=n.val();(0,J.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,J.r3)(t,".sv"),"Priority must be a string or number.")}else(0,J.hu)(n===ik||n.isEmpty(),"priority of unexpected type.");(0,J.hu)(n===ik||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let UP,HP,zP,jb=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,J.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),BP(this.priorityNode_)}static set __childrenNodeConstructor(e){UP=e}static get __childrenNodeConstructor(){return UP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return li(e)?this:".priority"===ai(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=ai(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,J.hu)(".priority"!==r||1===Bm(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(pr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VP(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?sP(this.value_):this.value_,this.lazyHash_=tP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,J.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,J.hu)(o>=0,"Unknown leaf type: "+i),(0,J.hu)(u>=0,"Unknown leaf type: "+r),o===u?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ir=new class extends uS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?gy(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return fi.MIN}maxPost(){return new fi(tf,new jb("[PRIORITY-POST]",zP))}makePost(t,e){const i=HP(t);return new fi(e,new jb("[PRIORITY-POST]",i))}toString(){return".priority"}},VU=Math.log(2);class BU{constructor(t){this.count=parseInt(Math.log(t+1)/VU,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const fS=function(n,t,e,i){n.sort(t);const r=function(m,b){const S=b-m;let k,U;if(0===S)return null;if(1===S)return k=n[m],U=e?e(k):k,new Fd(U,k.node,Fd.BLACK,null,null);{const q=parseInt(S/2,10)+m,le=r(m,q),Oe=r(q+1,b);return k=n[q],U=e?e(k):k,new Fd(U,k.node,Fd.BLACK,le,Oe)}},f=function(m){let b=null,S=null,k=n.length;const U=function(le,Oe){const Je=k-le,Vt=k;k-=le;const Zt=r(Je+1,Vt),ln=n[Je],qt=e?e(ln):ln;q(new Fd(qt,ln.node,Oe,null,Zt))},q=function(le){b?(b.left=le,b=le):(S=le,b=le)};for(let le=0;le<m.count;++le){const Oe=m.nextBitIsOne(),Je=Math.pow(2,m.count-(le+1));Oe?U(Je,Fd.BLACK):(U(Je,Fd.BLACK),U(Je,Fd.RED))}return S}(new BU(n.length));return new Hl(i||t,f)};let rk;const Gb={};class Zp{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,J.hu)(Gb&&Ir,"ChildrenNode.ts has not been loaded"),rk=rk||new Zp({".priority":Gb},{".priority":Ir}),rk}get(t){const e=(0,J.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Hl?e:null}hasIndex(t){return(0,J.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,J.hu)(t!==nf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(fi.Wrap);let f,u=o.getNext();for(;u;)r=r||t.isDefinedOn(u.node),i.push(u),u=o.getNext();f=r?fS(i,t.getCompare()):Gb;const m=t.toString(),b=Object.assign({},this.indexSet_);b[m]=t;const S=Object.assign({},this.indexes_);return S[m]=f,new Zp(S,b)}addToIndexes(t,e){const i=(0,J.UI)(this.indexes_,(r,o)=>{const u=(0,J.DV)(this.indexSet_,o);if((0,J.hu)(u,"Missing index implementation for "+o),r===Gb){if(u.isDefinedOn(t.node)){const f=[],m=e.getIterator(fi.Wrap);let b=m.getNext();for(;b;)b.name!==t.name&&f.push(b),b=m.getNext();return f.push(t),fS(f,u.getCompare())}return Gb}{const f=e.get(t.name);let m=r;return f&&(m=m.remove(new fi(t.name,f))),m.insert(t,t.node)}});return new Zp(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,J.UI)(this.indexes_,r=>{if(r===Gb)return r;{const o=e.get(t.name);return o?r.remove(new fi(t.name,o)):r}});return new Zp(i,this.indexSet_)}}let ex,qn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&BP(this.priorityNode_),this.children_.isEmpty()&&(0,J.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ex||(ex=new n(new Hl(nk),null,Zp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ex}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ex:i}}getChild(e){const i=ai(e);return null===i?this:this.getImmediateChild(i).getChild(pr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,J.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new fi(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?ex:this.priorityNode_;return new n(o,f,u)}}updateChild(e,i){const r=ai(e);if(null===r)return i;{(0,J.hu)(".priority"!==ai(e)||1===Bm(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(pr(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Ir,(f,m)=>{i[f]=m.val(e),r++,u&&n.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*r){const f=[];for(const m in i)f[m]=i[m];return f}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+VP(this.getPriority().val())+":"),this.forEachChild(Ir,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":tP(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new fi(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tx?-1:0}withIndex(e){if(e===nf||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===nf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ir),o=i.getIterator(Ir);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return null===u&&null===f}return!1}return!1}}resolveIndex_(e){return e===nf?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const tx=new class extends qn{constructor(){super(new Hl(nk),qn.EMPTY_NODE,Zp.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qn.EMPTY_NODE}isEmpty(){return!1}};function es(n,t=null){if(null===n)return qn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,J.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new jb(n,es(t));if(n instanceof Array){let e=qn.EMPTY_NODE;return To(n,(i,r)=>{if((0,J.r3)(n,i)&&"."!==i.substring(0,1)){const o=es(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(es(t))}{const e=[];let i=!1;if(To(n,(u,f)=>{if("."!==u.substring(0,1)){const m=es(f);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new fi(u,m)))}}),0===e.length)return qn.EMPTY_NODE;const o=fS(e,OU,u=>u.name,nk);if(i){const u=fS(e,Ir.getCompare());return new qn(o,es(t),new Zp({".priority":u},{".priority":Ir}))}return new qn(o,es(t),Zp.Default)}}Object.defineProperties(fi,{MIN:{value:new fi(Gp,qn.EMPTY_NODE)},MAX:{value:new fi(tf,tx)}}),LP.__EMPTY_NODE=qn.EMPTY_NODE,jb.__childrenNodeConstructor=qn,function(n){ik=n}(tx),function(n){zP=n}(tx),function(n){HP=n}(es);class sk extends uS{constructor(t){super(),this.indexPath_=t,(0,J.hu)(!li(t)&&".priority"!==ai(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?gy(t.name,e.name):o}makePost(t,e){const i=es(t),r=qn.EMPTY_NODE.updateChild(this.indexPath_,i);return new fi(e,r)}maxPost(){const t=qn.EMPTY_NODE.updateChild(this.indexPath_,tx);return new fi(tf,t)}toString(){return JE(this.indexPath_,0).join("/")}}const ok=new class extends uS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?gy(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return fi.MIN}maxPost(){return fi.MAX}makePost(t,e){const i=es(t);return new fi(e,i)}toString(){return".value"}},Zb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",WU=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Zb.charAt(e%64),e=Math.floor(e/64);(0,J.hu)(0===e,"Cannot push at time == 0");let u=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=Zb.charAt(t[r]);return(0,J.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),jP=function(n){if(n===""+$A)return"-";const t=aS(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let u=0;u<e.length;u++)e[u]=n.charAt(u);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return tf;const o=Zb.charAt(Zb.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},GP=function(n){if(n===""+oP)return Gp;const t=aS(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+$A:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zb.charAt(Zb.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function ZP(n){return{type:"value",snapshotNode:n}}function qb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function nx(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ix(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class lk{constructor(t){this.index_=t}updateChild(t,e,i,r,o,u){(0,J.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(nx(e,f)):(0,J.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(qb(e,i)):u.trackChildChange(ix(e,i,f))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ir,(r,o)=>{e.hasChild(r)||i.trackChildChange(nx(r,o))}),e.isLeafNode()||e.forEachChild(Ir,(r,o)=>{if(t.hasChild(r)){const u=t.getImmediateChild(r);u.equals(o)||i.trackChildChange(ix(r,o,u))}else i.trackChildChange(qb(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?qn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rx{constructor(t){this.indexedFilter_=new lk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rx.getStartPost_(t),this.endPost_=rx.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,u){return this.matches(new fi(e,i))||(i=qn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=qn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(qn.EMPTY_NODE);const o=this;return e.forEachChild(Ir,(u,f)=>{o.matches(new fi(u,f))||(r=r.updateImmediateChild(u,qn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class jU{constructor(t){this.rangedFilter_=new rx(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,u){return this.rangedFilter_.matches(new fi(e,i))||(i=qn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,u):this.fullLimitUpdateChild_(t,e,i,o,u)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=qn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=qn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const f=o.getNext();let m;if(m=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!m)break;r=r.updateImmediateChild(f.name,f.node),u++}}else{let o,u,f,m;if(r=e.withIndex(this.index_),r=r.updatePriority(qn.EMPTY_NODE),this.reverse_){m=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();f=(U,q)=>k(q,U)}else m=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let b=0,S=!1;for(;m.hasNext();){const k=m.getNext();!S&&f(o,k)<=0&&(S=!0),S&&b<this.limit_&&f(k,u)<=0?b++:r=r.updateImmediateChild(k.name,qn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let u;if(this.reverse_){const k=this.index_.getCompare();u=(U,q)=>k(q,U)}else u=this.index_.getCompare();const f=t;(0,J.hu)(f.numChildren()===this.limit_,"");const m=new fi(e,i),b=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),S=this.rangedFilter_.matches(m);if(f.hasChild(e)){const k=f.getImmediateChild(e);let U=r.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=U&&(U.name===e||f.hasChild(U.name));)U=r.getChildAfterChild(this.index_,U,this.reverse_);const q=null==U?1:u(U,m);if(S&&!i.isEmpty()&&q>=0)return null!=o&&o.trackChildChange(ix(e,i,k)),f.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(nx(e,k));const Oe=f.updateImmediateChild(e,qn.EMPTY_NODE);return null!=U&&this.rangedFilter_.matches(U)?(null!=o&&o.trackChildChange(qb(U.name,U.node)),Oe.updateImmediateChild(U.name,U.node)):Oe}}return i.isEmpty()?t:S&&u(b,m)>=0?(null!=o&&(o.trackChildChange(nx(b.name,b.node)),o.trackChildChange(qb(e,i))),f.updateImmediateChild(e,i).updateImmediateChild(b.name,qn.EMPTY_NODE)):t}}class pS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ir}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,J.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ir}copy(){const t=new pS;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ck(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function uk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function gS(n,t){const e=n.copy();return e.index_=t,e}function qP(n){const t={};if(n.isDefault())return t;let e;return n.index_===Ir?e="$priority":n.index_===ok?e="$value":n.index_===nf?e="$key":((0,J.hu)(n.index_ instanceof sk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,J.Pz)(e),n.startSet_&&(t.startAt=(0,J.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,J.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,J.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,J.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function KP(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ir&&(t.i=n.index_.toString()),t}class mS extends AP{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=GE("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,J.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const u=mS.getListenId_(t,i),f={};this.listens_[u]=f;const m=qP(t._queryParams);this.restRequest_(o+".json",m,(b,S)=>{let k=S;if(404===b&&(k=null,b=null),null===b&&this.onDataUpdate_(o,k,!1,i),(0,J.DV)(this.listens_,u)===f){let U;U=b?401===b?"permission_denied":"rest_error:"+b:"ok",r(U,null)}})}unlisten(t,e){const i=mS.getListenId_(t,e);delete this.listens_[i]}get(t){const e=qP(t._queryParams),i=t._path.toString(),r=new J.BH;return this.restRequest_(i+".json",e,(o,u)=>{let f=u;404===o&&(f=null,o=null),null===o?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,J.xO)(e);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=(0,J.cI)(f.responseText)}catch(b){Ka("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,m)}else 401!==f.status&&404!==f.status&&Ka("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}class QU{constructor(){this.rootNode_=qn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function _S(){return{value:null,children:new Map}}function Kb(n,t,e){if(li(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=ai(t);n.children.has(i)||n.children.set(i,_S()),Kb(n.children.get(i),t=pr(t),e)}}function dk(n,t){if(li(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ir,(i,r)=>{Kb(n,new Zi(i),r)}),dk(n,t)}}if(n.children.size>0){const e=ai(t);return t=pr(t),n.children.has(e)&&dk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function hk(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{hk(r,new Zi(t.toString()+"/"+i),e)})}class XU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&To(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class n4{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new XU(t);const i=1e4+2e4*Math.random();qE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;To(t,(r,o)=>{o>0&&(0,J.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),qE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var yu=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(yu||(yu={})),yu))();function gk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class yS{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=yu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(li(this.path)){if(null!=this.affectedTree.value)return(0,J.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Zi(t));return new yS(Pi(),e,this.revert)}}return(0,J.hu)(ai(this.path)===t,"operationForChild called for unrelated child."),new yS(pr(this.path),this.affectedTree,this.revert)}}class sx{constructor(t,e){this.source=t,this.path=e,this.type=yu.LISTEN_COMPLETE}operationForChild(t){return li(this.path)?new sx(this.source,Pi()):new sx(this.source,pr(this.path))}}class yy{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=yu.OVERWRITE}operationForChild(t){return li(this.path)?new yy(this.source,Pi(),this.snap.getImmediateChild(t)):new yy(this.source,pr(this.path),this.snap)}}class Yb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=yu.MERGE}operationForChild(t){if(li(this.path)){const e=this.children.subtree(new Zi(t));return e.isEmpty()?null:e.value?new yy(this.source,Pi(),e.value):new Yb(this.source,Pi(),e)}return(0,J.hu)(ai(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yb(this.source,pr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Um{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(li(t))return this.isFullyInitialized()&&!this.filtered_;const e=ai(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class r4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ox(n,t,e,i,r,o){const u=i.filter(f=>f.type===e);u.sort((f,m)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,J.g5)("Should only compare child_ events.");const i=new fi(t.childName,t.snapshotNode),r=new fi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,f,m)),u.forEach(f=>{const m=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,o);r.forEach(b=>{b.respondsTo(f.type)&&t.push(b.createEvent(m,n.query_))})})}function vS(n,t){return{eventCache:n,serverCache:t}}function ax(n,t,e,i){return vS(new Um(t,e,i),n.serverCache)}function QP(n,t,e,i){return vS(n.eventCache,new Um(t,e,i))}function bS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mk;class Dr{constructor(t,e=(()=>(mk||(mk=new Hl(W3)),mk))()){this.value=t,this.children=e}static fromObject(t){let e=new Dr(null);return To(t,(i,r)=>{e=e.set(new Zi(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Pi(),value:this.value};if(li(t))return null;{const i=ai(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(pr(t),e);return null!=o?{path:Gr(new Zi(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(li(t))return this;{const e=ai(t),i=this.children.get(e);return null!==i?i.subtree(pr(t)):new Dr(null)}}set(t,e){if(li(t))return new Dr(e,this.children);{const i=ai(t),o=(this.children.get(i)||new Dr(null)).set(pr(t),e),u=this.children.insert(i,o);return new Dr(this.value,u)}}remove(t){if(li(t))return this.children.isEmpty()?new Dr(null):new Dr(null,this.children);{const e=ai(t),i=this.children.get(e);if(i){const r=i.remove(pr(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Dr(null):new Dr(this.value,o)}return this}}get(t){if(li(t))return this.value;{const e=ai(t),i=this.children.get(e);return i?i.get(pr(t)):null}}setTree(t,e){if(li(t))return e;{const i=ai(t),o=(this.children.get(i)||new Dr(null)).setTree(pr(t),e);let u;return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Dr(this.value,u)}}fold(t){return this.fold_(Pi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Gr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Pi(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(li(t))return null;{const o=ai(t),u=this.children.get(o);return u?u.findOnPath_(pr(t),Gr(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Pi(),e)}foreachOnPath_(t,e,i){if(li(t))return this;{this.value&&i(e,this.value);const r=ai(t),o=this.children.get(r);return o?o.foreachOnPath_(pr(t),Gr(e,r),i):new Dr(null)}}foreach(t){this.foreach_(Pi(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Gr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ld{constructor(t){this.writeTree_=t}static empty(){return new Ld(new Dr(null))}}function lx(n,t,e){if(li(t))return new Ld(new Dr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const u=Ya(r,t);return o=o.updateChild(u,e),new Ld(n.writeTree_.set(r,o))}{const r=new Dr(e),o=n.writeTree_.setTree(t,r);return new Ld(o)}}}function _k(n,t,e){let i=n;return To(e,(r,o)=>{i=lx(i,Gr(t,r),o)}),i}function JP(n,t){if(li(t))return Ld.empty();{const e=n.writeTree_.setTree(t,new Dr(null));return new Ld(e)}}function yk(n,t){return null!=by(n,t)}function by(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ya(e.path,t)):null}function XP(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ir,(i,r)=>{t.push(new fi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new fi(i,r.value))}),t}function Hm(n,t){if(li(t))return n;{const e=by(n,t);return new Ld(null!=e?new Dr(e):n.writeTree_.subtree(t))}}function vk(n){return n.writeTree_.isEmpty()}function Qb(n,t){return eN(Pi(),n.writeTree_,t)}function eN(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,J.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=eN(Gr(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Gr(n,".priority"),i)),e}}function wS(n,t){return sN(t,n)}function f4(n,t){if(n.snap)return _u(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&_u(Gr(n.path,e),t))return!0;return!1}function g4(n){return n.visible}function tN(n,t,e){let i=Ld.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const u=o.path;let f;if(o.snap)_u(e,u)?(f=Ya(e,u),i=lx(i,f,o.snap)):_u(u,e)&&(f=Ya(u,e),i=lx(i,Pi(),o.snap.getChild(f)));else{if(!o.children)throw(0,J.g5)("WriteRecord should have .snap or .children");if(_u(e,u))f=Ya(e,u),i=_k(i,f,o.children);else if(_u(u,e))if(f=Ya(u,e),li(f))i=_k(i,Pi(),o.children);else{const m=(0,J.DV)(o.children,ai(f));if(m){const b=m.getChild(pr(f));i=lx(i,Pi(),b)}}}}}return i}function nN(n,t,e,i,r){if(i||r){const o=Hm(n.visibleWrites,t);return!r&&vk(o)?e:r||null!=e||yk(o,Pi())?Qb(tN(n.allWrites,function(b){return(b.visible||r)&&(!i||!~i.indexOf(b.writeId))&&(_u(b.path,t)||_u(t,b.path))},t),e||qn.EMPTY_NODE):null}{const o=by(n.visibleWrites,t);if(null!=o)return o;{const u=Hm(n.visibleWrites,t);return vk(u)?e:null!=e||yk(u,Pi())?Qb(u,e||qn.EMPTY_NODE):null}}}function CS(n,t,e,i){return nN(n.writeTree,n.treePath,t,e,i)}function bk(n,t){return function(n,t,e){let i=qn.EMPTY_NODE;const r=by(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ir,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(e){const o=Hm(n.visibleWrites,t);return e.forEachChild(Ir,(u,f)=>{const m=Qb(Hm(o,new Zi(u)),f);i=i.updateImmediateChild(u,m)}),XP(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return XP(Hm(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function iN(n,t,e,i){return function(n,t,e,i,r){(0,J.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Gr(t,e);if(yk(n.visibleWrites,o))return null;{const u=Hm(n.visibleWrites,o);return vk(u)?r.getChild(e):Qb(u,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function ES(n,t){return function(n,t){return by(n.visibleWrites,t)}(n.writeTree,Gr(n.treePath,t))}function wk(n,t,e){return function(n,t,e,i){const r=Gr(t,e),o=by(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Qb(Hm(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function rN(n,t){return sN(Gr(n.treePath,t),n.writeTree)}function sN(n,t){return{treePath:n,writeTree:t}}class E4{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,J.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,J.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,ix(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,nx(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,qb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,J.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,ix(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const oN=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Ck{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Um(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vy(this.viewCache_),o=function(n,t,e,i,r,o){return function(n,t,e,i,r,o,u){let f;const m=Hm(n.visibleWrites,t),b=by(m,Pi());if(null!=b)f=b;else{if(null==e)return[];f=Qb(m,e)}if(f=f.withIndex(u),f.isEmpty()||f.isLeafNode())return[];{const S=[],k=u.getCompare(),U=o?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let q=U.getNext();for(;q&&S.length<r;)0!==k(q,i)&&S.push(q),q=U.getNext();return S}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function aN(n,t,e,i,r,o){const u=t.eventCache;if(null!=ES(i,e))return t;{let f,m;if(li(e))if((0,J.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=vy(t),k=bk(i,b instanceof qn?b:qn.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),k,o)}else{const b=CS(i,vy(t));f=n.filter.updateFullNode(t.eventCache.getNode(),b,o)}else{const b=ai(e);if(".priority"===b){(0,J.hu)(1===Bm(e),"Can't have a priority with additional path components");const S=u.getNode();m=t.serverCache.getNode();const k=iN(i,e,S,m);f=null!=k?n.filter.updatePriority(S,k):u.getNode()}else{const S=pr(e);let k;if(u.isCompleteForChild(b)){m=t.serverCache.getNode();const U=iN(i,e,u.getNode(),m);k=null!=U?u.getNode().getImmediateChild(b).updateChild(S,U):u.getNode().getImmediateChild(b)}else k=wk(i,b,t.serverCache);f=null!=k?n.filter.updateChild(u.getNode(),b,k,S,r,o):u.getNode()}}return ax(t,f,u.isFullyInitialized()||li(e),n.filter.filtersNodes())}}function xS(n,t,e,i,r,o,u,f){const m=t.serverCache;let b;const S=u?n.filter:n.filter.getIndexedFilter();if(li(e))b=S.updateFullNode(m.getNode(),i,null);else if(S.filtersNodes()&&!m.isFiltered()){const q=m.getNode().updateChild(e,i);b=S.updateFullNode(m.getNode(),q,null)}else{const q=ai(e);if(!m.isCompleteForPath(e)&&Bm(e)>1)return t;const le=pr(e),Je=m.getNode().getImmediateChild(q).updateChild(le,i);b=".priority"===q?S.updatePriority(m.getNode(),Je):S.updateChild(m.getNode(),q,Je,le,oN,null)}const k=QP(t,b,m.isFullyInitialized()||li(e),S.filtersNodes());return aN(n,k,e,r,new Ck(r,k,o),f)}function Ek(n,t,e,i,r,o,u){const f=t.eventCache;let m,b;const S=new Ck(r,t,o);if(li(e))b=n.filter.updateFullNode(t.eventCache.getNode(),i,u),m=ax(t,b,!0,n.filter.filtersNodes());else{const k=ai(e);if(".priority"===k)b=n.filter.updatePriority(t.eventCache.getNode(),i),m=ax(t,b,f.isFullyInitialized(),f.isFiltered());else{const U=pr(e),q=f.getNode().getImmediateChild(k);let le;if(li(U))le=i;else{const Oe=S.getCompleteChild(k);le=null!=Oe?".priority"===XA(U)&&Oe.getChild(OP(U)).isEmpty()?Oe:Oe.updateChild(U,i):qn.EMPTY_NODE}m=q.equals(le)?t:ax(t,n.filter.updateChild(f.getNode(),k,le,U,S,u),f.isFullyInitialized(),n.filter.filtersNodes())}}return m}function lN(n,t){return n.eventCache.isCompleteForChild(t)}function cN(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function xk(n,t,e,i,r,o,u,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b,m=t;b=li(e)?i:new Dr(null).setTree(e,i);const S=t.serverCache.getNode();return b.children.inorderTraversal((k,U)=>{if(S.hasChild(k)){const le=cN(0,t.serverCache.getNode().getImmediateChild(k),U);m=xS(n,m,new Zi(k),le,r,o,u,f)}}),b.children.inorderTraversal((k,U)=>{const q=!t.serverCache.isCompleteForChild(k)&&void 0===U.value;if(!S.hasChild(k)&&!q){const Oe=cN(0,t.serverCache.getNode().getImmediateChild(k),U);m=xS(n,m,new Zi(k),Oe,r,o,u,f)}}),m}class O4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new lk(i.getIndex()),o=function(n){return n.loadsAllData()?new lk(n.getIndex()):n.hasLimit()?new jU(n):new rx(n)}(i);this.processor_=function(n){return{filter:n}}(o);const u=e.serverCache,f=e.eventCache,m=r.updateFullNode(qn.EMPTY_NODE,u.getNode(),null),b=o.updateFullNode(qn.EMPTY_NODE,f.getNode(),null),S=new Um(m,u.isFullyInitialized(),r.filtersNodes()),k=new Um(b,f.isFullyInitialized(),o.filtersNodes());this.viewCache_=vS(k,S),this.eventGenerator_=new r4(this.query_)}get query(){return this.query_}}function F4(n,t){const e=vy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!li(t)&&!e.getImmediateChild(ai(t)).isEmpty())?e.getChild(t):null}function uN(n){return 0===n.eventRegistrations_.length}function dN(n,t,e){const i=[];if(e){(0,J.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(e,r);u&&i.push(u)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function hN(n,t,e,i){t.type===yu.MERGE&&null!==t.source.queryId&&((0,J.hu)(vy(n.viewCache_),"We should always have a full cache before handling merges"),(0,J.hu)(bS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function(n,t,e,i,r){const o=new E4;let u,f;if(e.type===yu.OVERWRITE){const b=e;b.source.fromUser?u=Ek(n,t,b.path,b.snap,i,r,o):((0,J.hu)(b.source.fromServer,"Unknown source."),f=b.source.tagged||t.serverCache.isFiltered()&&!li(b.path),u=xS(n,t,b.path,b.snap,i,r,f,o))}else if(e.type===yu.MERGE){const b=e;b.source.fromUser?u=function(n,t,e,i,r,o,u){let f=t;return i.foreach((m,b)=>{const S=Gr(e,m);lN(t,ai(S))&&(f=Ek(n,f,S,b,r,o,u))}),i.foreach((m,b)=>{const S=Gr(e,m);lN(t,ai(S))||(f=Ek(n,f,S,b,r,o,u))}),f}(n,t,b.path,b.children,i,r,o):((0,J.hu)(b.source.fromServer,"Unknown source."),f=b.source.tagged||t.serverCache.isFiltered(),u=xk(n,t,b.path,b.children,i,r,f,o))}else if(e.type===yu.ACK_USER_WRITE){const b=e;u=b.revert?function(n,t,e,i,r,o){let u;if(null!=ES(i,e))return t;{const f=new Ck(i,t,r),m=t.eventCache.getNode();let b;if(li(e)||".priority"===ai(e)){let S;if(t.serverCache.isFullyInitialized())S=CS(i,vy(t));else{const k=t.serverCache.getNode();(0,J.hu)(k instanceof qn,"serverChildren would be complete if leaf node"),S=bk(i,k)}S=S,b=n.filter.updateFullNode(m,S,o)}else{const S=ai(e);let k=wk(i,S,t.serverCache);null==k&&t.serverCache.isCompleteForChild(S)&&(k=m.getImmediateChild(S)),b=null!=k?n.filter.updateChild(m,S,k,pr(e),f,o):t.eventCache.getNode().hasChild(S)?n.filter.updateChild(m,S,qn.EMPTY_NODE,pr(e),f,o):m,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=CS(i,vy(t)),u.isLeafNode()&&(b=n.filter.updateFullNode(b,u,o)))}return u=t.serverCache.isFullyInitialized()||null!=ES(i,Pi()),ax(t,b,u,n.filter.filtersNodes())}}(n,t,b.path,i,r,o):function(n,t,e,i,r,o,u){if(null!=ES(r,e))return t;const f=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(li(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return xS(n,t,e,m.getNode().getChild(e),r,o,f,u);if(li(e)){let b=new Dr(null);return m.getNode().forEachChild(nf,(S,k)=>{b=b.set(new Zi(S),k)}),xk(n,t,e,b,r,o,f,u)}return t}{let b=new Dr(null);return i.foreach((S,k)=>{const U=Gr(e,S);m.isCompleteForPath(U)&&(b=b.set(S,m.getNode().getChild(U)))}),xk(n,t,e,b,r,o,f,u)}}(n,t,b.path,b.affectedTree,i,r,o)}else{if(e.type!==yu.LISTEN_COMPLETE)throw(0,J.g5)("Unknown operation type: "+e.type);u=function(n,t,e,i,r){const o=t.serverCache;return aN(n,QP(t,o.getNode(),o.isFullyInitialized()||li(e),o.isFiltered()),e,i,oN,r)}(n,t,e.path,i,o)}const m=o.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=bS(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(ZP(bS(t)))}}(t,u,m),{viewCache:u,changes:m}}(n.processor_,r,t,e,i);return function(n,t){(0,J.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,J.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,J.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,fN(n,o.changes,o.viewCache.eventCache.getNode(),null)}function fN(n,t,e,i){return function(n,t,e,i){const r=[],o=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),ox(n,r,"child_removed",t,i,e),ox(n,r,"child_added",t,i,e),ox(n,r,"child_moved",o,i,e),ox(n,r,"child_changed",t,i,e),ox(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let TS,IS;class pN{constructor(){this.views=new Map}}function Tk(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,J.hu)(null!=o,"SyncTree gave us an op for an invalid query."),hN(o,t,e,i)}{let o=[];for(const u of n.views.values())o=o.concat(hN(u,t,e,i));return o}}function gN(n,t,e,i,r){const u=n.views.get(t._queryIdentifier);if(!u){let f=CS(e,r?i:null),m=!1;f?m=!0:i instanceof qn?(f=bk(e,i),m=!1):(f=qn.EMPTY_NODE,m=!1);const b=vS(new Um(f,m,!1),new Um(i,r,!1));return new O4(t,b)}return u}function mN(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function zm(n,t){let e=null;for(const i of n.views.values())e=e||F4(i,t);return e}function _N(n,t){return t._queryParams.loadsAllData()?SS(n):n.views.get(t._queryIdentifier)}function yN(n,t){return null!=_N(n,t)}function Wm(n){return null!=SS(n)}function SS(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let G4=1;class vN{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Dr(null),this.pendingWriteTree_={visibleWrites:Ld.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sk(n,t,e,i,r){return function(n,t,e,i,r){(0,J.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=lx(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Jb(n,new yy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function $m(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,J.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=e&&f4(f,i.path)?r=!1:_u(i.path,f.path)&&(o=!0)),u--}return!!r&&(o?(function(n){n.visibleWrites=tN(n.allWrites,g4,Pi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=JP(n.visibleWrites,i.path):To(i.children,m=>{n.visibleWrites=JP(n.visibleWrites,Gr(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let o=new Dr(null);return null!=i.snap?o=o.set(Pi(),!0):To(i.children,u=>{o=o.set(new Zi(u),!0)}),Jb(n,new yS(i.path,o,e))}return[]}function cx(n,t,e){return Jb(n,new yy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Ik(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let u=[];if(o&&("default"===t._queryIdentifier||yN(o,t))){const f=function(n,t,e,i){const r=t._queryIdentifier,o=[];let u=[];const f=Wm(n);if("default"===r)for(const[m,b]of n.views.entries())u=u.concat(dN(b,e,i)),uN(b)&&(n.views.delete(m),b.query._queryParams.loadsAllData()||o.push(b.query));else{const m=n.views.get(r);m&&(u=u.concat(dN(m,e,i)),uN(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||o.push(m.query)))}return f&&!Wm(n)&&o.push(new((0,J.hu)(TS,"Reference.ts has not been loaded"),TS)(t._repo,t._path)),{removed:o,events:u}}(o,t,e,i);(function(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const m=f.removed;u=f.events;const b=-1!==m.findIndex(k=>k._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(r,(k,U)=>Wm(U));if(b&&!S){const k=n.syncPointTree_.subtree(r);if(!k.isEmpty()){const U=function(n){return n.fold((t,e,i)=>{if(e&&Wm(e))return[SS(e)];{let r=[];return e&&(r=mN(e)),To(i,(o,u)=>{r=r.concat(u)}),r}})}(k);for(let q=0;q<U.length;++q){const le=U[q],Oe=le.query,Je=EN(n,le);n.listenProvider_.startListening(ux(Oe),AS(n,Oe),Je.hashFn,Je.onComplete)}}}if(!S&&m.length>0&&!i)if(b){const k=null;n.listenProvider_.stopListening(ux(t),k)}else m.forEach(k=>{const U=n.queryToTagMap.get(kS(k));n.listenProvider_.stopListening(ux(k),U)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=kS(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,m)}return u}function bN(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(k,U)=>{const q=Ya(k,i);r=r||zm(U,q),o=o||Wm(U)});let f,u=n.syncPointTree_.get(i);u?(o=o||Wm(u),r=r||zm(u,Pi())):(u=new pN,n.syncPointTree_=n.syncPointTree_.set(i,u)),null!=r?f=!0:(f=!1,r=qn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((U,q)=>{const le=zm(q,Pi());le&&(r=r.updateImmediateChild(U,le))}));const m=yN(u,t);if(!m&&!t._queryParams.loadsAllData()){const k=kS(t);(0,J.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const U=G4++;n.queryToTagMap.set(k,U),n.tagToQueryMap.set(U,k)}let S=function(n,t,e,i,r,o){const u=gN(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function(n,t){n.eventRegistrations_.push(t)}(u,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ir,(o,u)=>{i.push(qb(o,u))}),e.isFullyInitialized()&&i.push(ZP(e.getNode())),fN(n,i,e.getNode(),t)}(u,e)}(u,t,e,wS(n.pendingWriteTree_,i),r,f);if(!m&&!o){const k=_N(u,t);S=S.concat(function(n,t,e){const i=t._path,r=AS(n,t),o=EN(n,e),u=n.listenProvider_.startListening(ux(t),r,o.hashFn,o.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,J.hu)(!Wm(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((b,S,k)=>{if(!li(b)&&S&&Wm(S))return[SS(S).query];{let U=[];return S&&(U=U.concat(mN(S).map(q=>q.query))),To(k,(q,le)=>{U=U.concat(le)}),U}});for(let b=0;b<m.length;++b){const S=m[b];n.listenProvider_.stopListening(ux(S),AS(n,S))}}return u}(n,t,k))}return S}function DS(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(u,f)=>{const b=zm(f,Ya(u,t));if(b)return b});return nN(r,t,o,e,!0)}function Jb(n,t){return wN(t,n.syncPointTree_,null,wS(n.pendingWriteTree_,Pi()))}function wN(n,t,e,i){if(li(n.path))return CN(n,t,e,i);{const r=t.get(Pi());null==e&&null!=r&&(e=zm(r,Pi()));let o=[];const u=ai(n.path),f=n.operationForChild(u),m=t.children.get(u);if(m&&f){const b=e?e.getImmediateChild(u):null,S=rN(i,u);o=o.concat(wN(f,m,b,S))}return r&&(o=o.concat(Tk(r,n,i,e))),o}}function CN(n,t,e,i){const r=t.get(Pi());null==e&&null!=r&&(e=zm(r,Pi()));let o=[];return t.children.inorderTraversal((u,f)=>{const m=e?e.getImmediateChild(u):null,b=rN(i,u),S=n.operationForChild(u);S&&(o=o.concat(CN(S,f,m,b)))}),r&&(o=o.concat(Tk(r,n,i,e))),o}function EN(n,t){const e=t.query,i=AS(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||qn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=Dk(n,e);if(i){const r=Ak(i),o=r.path,u=r.queryId,f=Ya(o,t);return kk(n,o,new sx(gk(u),f))}return[]}(n,e._path,i):function(n,t){return Jb(n,new sx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Ik(n,e,null,o)}}}}function AS(n,t){const e=kS(t);return n.queryToTagMap.get(e)}function kS(n){return n._path.toString()+"$"+n._queryIdentifier}function Dk(n,t){return n.tagToQueryMap.get(t)}function Ak(n){const t=n.indexOf("$");return(0,J.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Zi(n.substr(0,t))}}function kk(n,t,e){const i=n.syncPointTree_.get(t);return(0,J.hu)(i,"Missing sync point for query tag that we're tracking"),Tk(i,e,wS(n.pendingWriteTree_,t),null)}function ux(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,J.hu)(IS,"Reference.ts has not been loaded"),IS)(n._repo,n._path):n}class Mk{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Mk(e)}node(){return this.node_}}class Rk{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Gr(this.path_,t);return new Rk(this.syncTree_,e)}node(){return DS(this.syncTree_,this.path_)}}const xN=function(n,t,e){return n&&"object"==typeof n?((0,J.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?sH(n[".sv"],t,e):"object"==typeof n[".sv"]?oH(n[".sv"],t):void(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},sH=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,J.hu)(!1,"Unexpected server value: "+n)},oH=function(n,t,e){n.hasOwnProperty("increment")||(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,J.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,J.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},TN=function(n,t,e,i){return Pk(t,new Rk(e,n),i)},Ok=function(n,t,e){return Pk(n,new Mk(t),e)};function Pk(n,t,e){const i=n.getPriority().val(),r=xN(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const u=n,f=xN(u.getValue(),t,e);return f!==u.getValue()||r!==u.getPriority().val()?new jb(f,es(r)):n}{const u=n;return o=u,r!==u.getPriority().val()&&(o=o.updatePriority(new jb(r))),u.forEachChild(Ir,(f,m)=>{const b=Pk(m,t.getImmediateChild(f),e);b!==m&&(o=o.updateImmediateChild(f,b))}),o}}class Nk{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function MS(n,t){let e=t instanceof Zi?t:new Zi(t),i=n,r=ai(e);for(;null!==r;){const o=(0,J.DV)(i.node.children,r)||{children:{},childCount:0};i=new Nk(r,i,o),e=pr(e),r=ai(e)}return i}function wy(n){return n.node.value}function Fk(n,t){n.node.value=t,Lk(n)}function SN(n){return n.node.childCount>0}function RS(n,t){To(n.node.children,(e,i)=>{t(new Nk(e,n,i))})}function IN(n,t,e,i){e&&!i&&t(n),RS(n,r=>{IN(r,t,!0,i)}),e&&i&&t(n)}function dx(n){return new Zi(null===n.parent?n.name:dx(n.parent)+"/"+n.name)}function Lk(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===wy(n)&&!SN(n)}(e),r=(0,J.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Lk(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Lk(n))}(n.parent,n.name,n)}const uH=/[\[\].#$\/\u0000-\u001F\u007F]/,dH=/[\[\].#$\u0000-\u001F\u007F]/,Vk=10485760,OS=function(n){return"string"==typeof n&&0!==n.length&&!uH.test(n)},DN=function(n){return"string"==typeof n&&0!==n.length&&!dH.test(n)},hx=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!oS(n)||n&&"object"==typeof n&&(0,J.r3)(n,".sv")},rf=function(n,t,e,i){i&&void 0===t||fx((0,J.gK)(n,"value"),t,e)},fx=function(n,t,e){const i=e instanceof Zi?new xU(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+my(i));if("function"==typeof t)throw new Error(n+"contains a function "+my(i)+" with contents = "+t.toString());if(oS(t))throw new Error(n+"contains "+t.toString()+" "+my(i));if("string"==typeof t&&t.length>Vk/3&&(0,J.ug)(t)>Vk)throw new Error(n+"contains a string greater than "+Vk+" utf8 bytes "+my(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(To(t,(u,f)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!OS(u)))throw new Error(n+" contains an invalid key ("+u+") "+my(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,J.ug)(t),PP(n)})(i,u),fx(n,f,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,J.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+my(i)+" in addition to actual children.")}},AN=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,J.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];To(t,(u,f)=>{const m=new Zi(u);if(fx(r,f,Gr(e,m)),".priority"===XA(m)&&!hx(f))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=JE(i);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!OS(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(EU);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&_u(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},Bk=function(n,t,e){if(!e||void 0!==t){if(oS(t))throw new Error((0,J.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hx(t))throw new Error((0,J.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},px=function(n,t,e,i){if(!(i&&void 0===e||OS(e)))throw new Error((0,J.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gx=function(n,t,e,i){if(!(i&&void 0===e||DN(e)))throw new Error((0,J.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vu=function(n,t){if(".info"===ai(t))throw new Error(n+" failed = Can't modify data under /.info/")},kN=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!OS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DN(n)}(e))throw new Error((0,J.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function PS(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!ek(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function Uk(n,t,e){PS(n,e),MN(n,i=>ek(i,t))}function bu(n,t,e){PS(n,e),MN(n,i=>_u(i,t)||_u(t,i))}function MN(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(mH(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function mH(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();py&&xo("event: "+e.toString()),Wb(i)}}}const RN="repo_interrupt";class yH{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_S(),this.transactionQueueTree_=new Nk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ON(n){const e=n.infoData_.getNode(new Zi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function mx(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ON(n)})}function PN(n,t,e,i,r){n.dataUpdateCount++;const o=new Zi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(r)if(i){const m=(0,J.UI)(e,b=>es(b));u=function(n,t,e,i){const r=Dk(n,i);if(r){const o=Ak(r),u=o.path,f=o.queryId,m=Ya(u,t),b=Dr.fromObject(e);return kk(n,u,new Yb(gk(f),m,b))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=es(e);u=function(n,t,e,i){const r=Dk(n,i);if(null!=r){const o=Ak(r),u=o.path,f=o.queryId,m=Ya(u,t);return kk(n,u,new yy(gk(f),m,e))}return[]}(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,J.UI)(e,b=>es(b));u=function(n,t,e){const i=Dr.fromObject(e);return Jb(n,new Yb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,m)}else{const m=es(e);u=cx(n.serverSyncTree_,o,m)}let f=o;u.length>0&&(f=ew(n,o)),bu(n.eventQueue_,f,u)}function NN(n,t){Hk(n,"connected",t),!1===t&&function(n){Xb(n,"onDisconnectEvents");const t=mx(n),e=_S();hk(n.onDisconnect_,Pi(),(r,o)=>{const u=TN(r,o,n.serverSyncTree_,t);Kb(e,r,u)});let i=[];hk(e,Pi(),(r,o)=>{i=i.concat(cx(n.serverSyncTree_,r,o));const u=jk(n,r);ew(n,u)}),n.onDisconnect_=_S(),bu(n.eventQueue_,Pi(),i)}(n)}function Hk(n,t,e){const i=new Zi("/.info/"+t),r=es(e);n.infoData_.updateSnapshot(i,r);const o=cx(n.infoSyncTree_,i,r);bu(n.eventQueue_,i,o)}function NS(n){return n.nextWriteId_++}function zk(n,t,e,i,r){Xb(n,"set",{path:t.toString(),value:e,priority:i});const o=mx(n),u=es(e,i),f=DS(n.serverSyncTree_,t),m=Ok(u,f,o),b=NS(n),S=Sk(n.serverSyncTree_,t,m,b,!0);PS(n.eventQueue_,S),n.server_.put(t.toString(),u.val(!0),(U,q)=>{const le="ok"===U;le||Ka("set at "+t+" failed: "+U);const Oe=$m(n.serverSyncTree_,b,!le);bu(n.eventQueue_,t,Oe),jm(0,r,U,q)});const k=jk(n,t);ew(n,k),bu(n.eventQueue_,k,[])}function xH(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&dk(n.onDisconnect_,t),jm(0,e,i,r)})}function FN(n,t,e,i){const r=es(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,u)=>{"ok"===o&&Kb(n.onDisconnect_,t,r),jm(0,i,o,u)})}function Wk(n,t,e){let i;i=".info"===ai(t._path)?Ik(n.infoSyncTree_,t,e):Ik(n.serverSyncTree_,t,e),Uk(n.eventQueue_,t._path,i)}function LN(n){n.persistentConnection_&&n.persistentConnection_.interrupt(RN)}function Xb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),xo(e,...t)}function jm(n,t,e,i){t&&Wb(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const u=new Error(o);u.code=r,t(u)}})}function $k(n,t,e){return DS(n.serverSyncTree_,t,e)||qn.EMPTY_NODE}function FS(n,t=n.transactionQueueTree_){if(t||LS(n,t),wy(t)){const e=BN(n,t);(0,J.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(b=>b.currentWriteId),r=$k(n,t,i);let o=r;const u=r.hash();for(let b=0;b<e.length;b++){const S=e[b];(0,J.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const k=Ya(t,S.path);o=o.updateChild(k,S.currentOutputSnapshotRaw)}const f=o.val(!0),m=t;n.server_.put(m.toString(),f,b=>{Xb(n,"transaction put response",{path:m.toString(),status:b});let S=[];if("ok"===b){const k=[];for(let U=0;U<e.length;U++)e[U].status=2,S=S.concat($m(n.serverSyncTree_,e[U].currentWriteId)),e[U].onComplete&&k.push(()=>e[U].onComplete(null,!0,e[U].currentOutputSnapshotResolved)),e[U].unwatcher();LS(n,MS(n.transactionQueueTree_,t)),FS(n,n.transactionQueueTree_),bu(n.eventQueue_,t,S);for(let U=0;U<k.length;U++)Wb(k[U])}else{if("datastale"===b)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{Ka("transaction at "+m.toString()+" failed: "+b);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=b}ew(n,t)}},u)}(n,dx(t),e)}else SN(t)&&RS(t,e=>{FS(n,e)})}function ew(n,t){const e=VN(n,t),i=dx(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const u=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const m=t[f],b=Ya(e,m.path);let k,S=!1;if((0,J.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)S=!0,k=m.abortReason,r=r.concat($m(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)S=!0,k="maxretry",r=r.concat($m(n.serverSyncTree_,m.currentWriteId,!0));else{const U=$k(n,m.path,u);m.currentInputSnapshot=U;const q=t[f].update(U.val());if(void 0!==q){fx("transaction failed: Data returned ",q,m.path);let le=es(q);"object"==typeof q&&null!=q&&(0,J.r3)(q,".priority")||(le=le.updatePriority(U.getPriority()));const Je=m.currentWriteId,Vt=mx(n),Zt=Ok(le,U,Vt);m.currentOutputSnapshotRaw=le,m.currentOutputSnapshotResolved=Zt,m.currentWriteId=NS(n),u.splice(u.indexOf(Je),1),r=r.concat(Sk(n.serverSyncTree_,m.path,Zt,m.currentWriteId,m.applyLocally)),r=r.concat($m(n.serverSyncTree_,Je,!0))}else S=!0,k="nodata",r=r.concat($m(n.serverSyncTree_,m.currentWriteId,!0))}bu(n.eventQueue_,e,r),r=[],S&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&i.push("nodata"===k?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(k),!1,null)))}LS(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)Wb(i[f]);FS(n,n.transactionQueueTree_)}(n,BN(n,e),i),i}function VN(n,t){let e,i=n.transactionQueueTree_;for(e=ai(t);null!==e&&void 0===wy(i);)i=MS(i,e),e=ai(t=pr(t));return i}function BN(n,t){const e=[];return UN(n,t,e),e.sort((i,r)=>i.order-r.order),e}function UN(n,t,e){const i=wy(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);RS(t,r=>{UN(n,r,e)})}function LS(n,t){const e=wy(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,Fk(t,e.length>0?e:void 0)}RS(t,i=>{LS(n,i)})}function jk(n,t){const e=dx(VN(n,t)),i=MS(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Gk(n,r)}),Gk(n,i),IN(i,r=>{Gk(n,r)}),e}function Gk(n,t){const e=wy(t);if(e){const i=[];let r=[],o=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,J.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,e[u].status=3,e[u].abortReason="set"):((0,J.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),r=r.concat($m(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Fk(t,void 0):e.length=o+1,bu(n.eventQueue_,dx(t),r);for(let u=0;u<i.length;u++)Wb(i[u])}}const Zk=function(n,t){const e=PH(n),i=e.namespace;return"firebase.com"===e.domain&&ef(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ef("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ka("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GA(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Zi(e.pathString)}},PH=function(n){let t="",e="",i="",r="",o="",u=!0,f="https",m=443;if("string"==typeof n){let b=n.indexOf("//");b>=0&&(f=n.substring(0,b-1),n=n.substring(b+2));let S=n.indexOf("/");-1===S&&(S=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),t=n.substring(0,Math.min(S,k)),S<k&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(S,k)));const U=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ka(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,k)));b=t.indexOf(":"),b>=0?(u="https"===f||"wss"===f,m=parseInt(t.substring(b+1),10)):b=t.length;const q=t.slice(0,b);if("localhost"===q.toLowerCase())e="localhost";else if(q.split(".").length<=2)e=q;else{const le=t.indexOf(".");i=t.substring(0,le).toLowerCase(),e=t.substring(le+1),o=i}"ns"in U&&(o=U.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:u,scheme:f,pathString:r,namespace:o}};class HN{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,J.Pz)(this.snapshot.exportVal())}}class zN{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class WN{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,J.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class $N{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new J.BH;return xH(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){vu("OnDisconnect.remove",this._path);const t=new J.BH;return FN(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){vu("OnDisconnect.set",this._path),rf("OnDisconnect.set",t,this._path,!1);const e=new J.BH;return FN(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){vu("OnDisconnect.setWithPriority",this._path),rf("OnDisconnect.setWithPriority",t,this._path,!1),Bk("OnDisconnect.setWithPriority",e,!1);const i=new J.BH;return function(n,t,e,i,r){const o=es(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(u,f)=>{"ok"===u&&Kb(n.onDisconnect_,t,o),jm(0,r,u,f)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){vu("OnDisconnect.update",this._path),AN("OnDisconnect.update",t,this._path,!1);const e=new J.BH;return function(n,t,e,i){if((0,J.xb)(e))return xo("onDisconnect().update() called with empty data.  Don't do anything."),void jm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&To(e,(u,f)=>{const m=es(f);Kb(n.onDisconnect_,Gr(t,u),m)}),jm(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class zl{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return li(this._path)?null:XA(this._path)}get ref(){return new wu(this._repo,this._path)}get _queryIdentifier(){const t=KP(this._queryParams),e=WA(t);return"{}"===e?"default":e}get _queryObject(){return KP(this._queryParams)}isEqual(t){if(!((t=(0,J.m9)(t))instanceof zl))return!1;const e=this._repo===t._repo,i=ek(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function VS(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Gm(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===nf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Gp)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==tf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Ir){if(null!=t&&!hx(t)||null!=e&&!hx(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,J.hu)(n.getIndex()instanceof sk||n.getIndex()===ok,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function BS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class wu extends zl{constructor(t,e){super(t,e,new pS,!1)}get parent(){const t=OP(this._path);return null===t?null:new wu(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Cy{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Zi(t),i=Ey(this.ref,t);return new Cy(this._node.getChild(e),i,Ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Cy(r,Ey(this.ref,i),Ir)))}hasChild(t){const e=new Zi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jN(n,t){return(n=(0,J.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ey(n._root,t):n._root}function GN(n,t){(n=(0,J.m9)(n))._checkNotDeleted("refFromURL");const e=Zk(t,n._repo.repoInfo_.nodeAdmin);kN("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ef("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),jN(n,e.path.toString())}function Ey(n,t){return null===ai((n=(0,J.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gx("child","path",e,!1)):gx("child","path",t,!1),new wu(n._repo,Gr(n._path,t));var e}function qk(n,t){n=(0,J.m9)(n),vu("set",n._path),rf("set",t,n._path,!1);const e=new J.BH;return zk(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function BH(n,t){AN("update",t,n._path,!1);const e=new J.BH;return function(n,t,e,i){Xb(n,"update",{path:t.toString(),value:e});let r=!0;const o=mx(n),u={};if(To(e,(f,m)=>{r=!1,u[f]=TN(Gr(t,f),es(m),n.serverSyncTree_,o)}),r)xo("update() called with empty data.  Don't do anything."),jm(0,i,"ok",void 0);else{const f=NS(n),m=function(n,t,e,i){!function(n,t,e,i){(0,J.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=_k(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Dr.fromObject(e);return Jb(n,new Yb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,u,f);PS(n.eventQueue_,m),n.server_.merge(t.toString(),e,(b,S)=>{const k="ok"===b;k||Ka("update at "+t+" failed: "+b);const U=$m(n.serverSyncTree_,f,!k),q=U.length>0?ew(n,t):t;bu(n.eventQueue_,q,U),jm(0,i,b,S)}),To(e,b=>{const S=jk(n,Gr(t,b));ew(n,S)}),bu(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function UH(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(b,S)=>{const k=Ya(b,e);i=i||zm(S,k)});let r=n.syncPointTree_.get(e);r?i=i||zm(r,Pi()):(r=new pN,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,u=o?new Um(i,!0,!1):null;return function(n){return bS(n.viewCache_)}(gN(r,t,wS(n.pendingWriteTree_,t._path),o?u.getNode():qn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=es(i).withIndex(t._queryParams.getIndex()),o=cx(n.serverSyncTree_,t._path,r);return Uk(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(Xb(n,"get for query "+(0,J.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,J.m9)(n))._repo,n).then(t=>new Cy(t,new wu(n._repo,n._path),n._queryParams.getIndex()))}class US{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new HN("value",this,new Cy(t.snapshotNode,new wu(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new zN(this,t,e):null}matches(t){return t instanceof US&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class HS{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new zN(this,t,e):null}createEvent(t,e){(0,J.hu)(null!=t.childName,"Child events should have a childName.");const i=Ey(new wu(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new HN(t.type,this,new Cy(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof HS&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _x(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const m=e,b=(S,k)=>{Wk(n._repo,n,f),m(S,k)};b.userCallback=e.userCallback,b.context=e.context,e=b}const u=new WN(e,o||void 0),f="value"===t?new US(u):new HS(t,u);return function(n,t,e){let i;i=".info"===ai(t._path)?bN(n.infoSyncTree_,t,e):bN(n.serverSyncTree_,t,e),Uk(n.eventQueue_,t._path,i)}(n._repo,n,f),()=>Wk(n._repo,n,f)}function Kk(n,t,e,i){return _x(n,"value",t,e,i)}function ZN(n,t,e,i){return _x(n,"child_added",t,e,i)}function qN(n,t,e,i){return _x(n,"child_changed",t,e,i)}function KN(n,t,e,i){return _x(n,"child_moved",t,e,i)}function YN(n,t,e,i){return _x(n,"child_removed",t,e,i)}function QN(n,t,e){let i=null;const r=e?new WN(e):null;"value"===t?i=new US(r):t&&(i=new HS(t,r)),Wk(n._repo,n,i)}class Vd{}class JN extends Vd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rf("endAt",this._value,t._path,!0);const e=uk(t._queryParams,this._value,this._key);if(BS(e),Gm(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zl(t._repo,t._path,e,t._orderByCalled)}}class zH extends Vd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rf("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,r;return n.index_===nf?("string"==typeof t&&(t=GP(t)),r=uk(n,t,e)):(i=null==e?Gp:GP(e),r=uk(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(BS(e),Gm(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zl(t._repo,t._path,e,t._orderByCalled)}}class XN extends Vd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rf("startAt",this._value,t._path,!0);const e=ck(t._queryParams,this._value,this._key);if(BS(e),Gm(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zl(t._repo,t._path,e,t._orderByCalled)}}class jH extends Vd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rf("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===nf)"string"==typeof t&&(t=jP(t)),i=ck(n,t,e);else{let r;r=null==e?tf:jP(e),i=ck(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(BS(e),Gm(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zl(t._repo,t._path,e,t._orderByCalled)}}class ZH extends Vd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zl(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class KH extends Vd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zl(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class QH extends Vd{constructor(t){super(),this._path=t}_apply(t){VS(t,"orderByChild");const e=new Zi(this._path);if(li(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new sk(e),r=gS(t._queryParams,i);return Gm(r),new zl(t._repo,t._path,r,!0)}}class XH extends Vd{_apply(t){VS(t,"orderByKey");const e=gS(t._queryParams,nf);return Gm(e),new zl(t._repo,t._path,e,!0)}}class t6 extends Vd{_apply(t){VS(t,"orderByPriority");const e=gS(t._queryParams,Ir);return Gm(e),new zl(t._repo,t._path,e,!0)}}class r6 extends Vd{_apply(t){VS(t,"orderByValue");const e=gS(t._queryParams,ok);return Gm(e),new zl(t._repo,t._path,e,!0)}}class o6 extends Vd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(rf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new JN(this._value,this._key)._apply(new XN(this._value,this._key)._apply(t))}}function Bd(n,...t){let e=(0,J.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,J.hu)(!TS,"__referenceConstructor has already been defined"),TS=n})(wu),function(n){(0,J.hu)(!IS,"__referenceConstructor has already been defined"),IS=n}(wu);const Yk={};function tF(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ef("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xo("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,b,u=Zk(o,r),f=u.repoInfo;"undefined"!=typeof process&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(m=!0,o=`http://${b}?ns=${f.namespace}`,u=Zk(o,r),f=u.repoInfo):m=!u.repoInfo.secure;const S=r&&m?new KE(KE.OWNER):new Y3(n.name,n.options,t);kN("Invalid Firebase Database URL",u),li(u.path)||ef("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function(n,t,e,i){let r=Yk[t.name];r||(r={},Yk[t.name]=r);let o=r[n.toURLString()];return o&&ef("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new yH(n,false,e,i),r[n.toURLString()]=o,o}(f,n,S,new K3(n.name,e));return new f6(k,n)}class f6{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=KA(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new mS(n.repoInfo_,(i,r,o,u)=>{PN(n,i,r,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>NN(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,J.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new _y(n.repoInfo_,t,(i,r,o,u)=>{PN(n,i,r,o,u)},i=>{NN(n,i)},i=>{!function(n,t){To(t,(e,i)=>{Hk(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return qA[e]||(qA[e]=t()),qA[e]}(n.repoInfo_,()=>new n4(n.stats_,n.server_)),n.infoData_=new QU,n.infoSyncTree_=new vN({startListening:(i,r,o,u)=>{let f=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(f=cx(n.infoSyncTree_,i._path,m),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),Hk(n,"connected",!1),n.serverSyncTree_=new vN({startListening:(i,r,o,u)=>(n.server_.listen(i,o,r,(f,m)=>{const b=u(f,m);bu(n.eventQueue_,i._path,b)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wu(this._repo,Pi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=Yk[t];(!e||e[n.key]!==n)&&ef(`Database ${t}(${n.repoInfo_}) has already been deleted.`),LN(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ef("Cannot call "+t+" on a deleted database.")}}function p6(n=(0,Jr.getApp)(),t){return(0,Jr._getProvider)(n,"database").getImmediate({identifier:t})}function y6(n,t){iP(n,t)}class E6{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}_y.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},_y.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},JO(Jr.SDK_VERSION),(0,Jr._registerComponent)(new Sl.wA("database",(t,{instanceIdentifier:e})=>tF(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Jr.registerVersion)(YO,"0.12.5",void 0),(0,Jr.registerVersion)(YO,"0.12.5","esm2017");const I6=new yo.Yd("@firebase/database-compat"),nF=function(n){I6.warn("FIREBASE WARNING: "+n)};class k6{constructor(t){this._delegate=t}cancel(t){(0,J.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,J.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,J.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,J.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,J.Dv)("OnDisconnect.set",1,2,arguments.length),(0,J.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,J.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,J.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,J.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,nF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,J.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class M6{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,J.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zm{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,J.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,J.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,J.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,J.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,J.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),gx("DataSnapshot.child","path",t,!1),new Zm(this._database,this._delegate.child(t))}hasChild(t){return(0,J.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gx("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,J.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,J.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,J.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Zm(this._database,e)))}hasChildren(){return(0,J.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,J.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,J.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ic(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Go{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,J.Dv)("Query.on",2,4,arguments.length),(0,J.Wj)("Query.on","callback",e,!1);const u=Go.getCancelAndContextArgs_("Query.on",i,r),f=(b,S)=>{e.call(u.context,new Zm(this.database,b),S)};f.userCallback=e,f.context=u.context;const m=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(t){case"value":return Kk(this._delegate,f,m),e;case"child_added":return ZN(this._delegate,f,m),e;case"child_removed":return YN(this._delegate,f,m),e;case"child_changed":return qN(this._delegate,f,m),e;case"child_moved":return KN(this._delegate,f,m),e;default:throw new Error((0,J.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,J.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,J.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,J.Wj)("Query.off","callback",e,!0),(0,J.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,QN(this._delegate,t,r)}else QN(this._delegate,t)}get(){return UH(this._delegate).then(t=>new Zm(this.database,t))}once(t,e,i,r){(0,J.Dv)("Query.once",1,4,arguments.length),(0,J.Wj)("Query.once","callback",e,!0);const o=Go.getCancelAndContextArgs_("Query.once",i,r),u=new J.BH,f=(b,S)=>{const k=new Zm(this.database,b);e&&e.call(o.context,k,S),u.resolve(k)};f.userCallback=e,f.context=o.context;const m=b=>{o.cancel&&o.cancel.call(o.context,b),u.reject(b)};switch(t){case"value":Kk(this._delegate,f,m,{onlyOnce:!0});break;case"child_added":ZN(this._delegate,f,m,{onlyOnce:!0});break;case"child_removed":YN(this._delegate,f,m,{onlyOnce:!0});break;case"child_changed":qN(this._delegate,f,m,{onlyOnce:!0});break;case"child_moved":KN(this._delegate,f,m,{onlyOnce:!0});break;default:throw new Error((0,J.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,J.Dv)("Query.limitToFirst",1,1,arguments.length),new Go(this.database,Bd(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ZH(n)}(t)))}limitToLast(t){return(0,J.Dv)("Query.limitToLast",1,1,arguments.length),new Go(this.database,Bd(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new KH(n)}(t)))}orderByChild(t){return(0,J.Dv)("Query.orderByChild",1,1,arguments.length),new Go(this.database,Bd(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gx("orderByChild","path",n,!1),new QH(n)}(t)))}orderByKey(){return(0,J.Dv)("Query.orderByKey",0,0,arguments.length),new Go(this.database,Bd(this._delegate,new XH))}orderByPriority(){return(0,J.Dv)("Query.orderByPriority",0,0,arguments.length),new Go(this.database,Bd(this._delegate,new t6))}orderByValue(){return(0,J.Dv)("Query.orderByValue",0,0,arguments.length),new Go(this.database,Bd(this._delegate,new r6))}startAt(t=null,e){return(0,J.Dv)("Query.startAt",0,2,arguments.length),new Go(this.database,Bd(this._delegate,function(n=null,t){return px("startAt","key",t,!0),new XN(n,t)}(t,e)))}startAfter(t=null,e){return(0,J.Dv)("Query.startAfter",0,2,arguments.length),new Go(this.database,Bd(this._delegate,function(n,t){return px("startAfter","key",t,!0),new jH(n,t)}(t,e)))}endAt(t=null,e){return(0,J.Dv)("Query.endAt",0,2,arguments.length),new Go(this.database,Bd(this._delegate,function(n,t){return px("endAt","key",t,!0),new JN(n,t)}(t,e)))}endBefore(t=null,e){return(0,J.Dv)("Query.endBefore",0,2,arguments.length),new Go(this.database,Bd(this._delegate,function(n,t){return px("endBefore","key",t,!0),new zH(n,t)}(t,e)))}equalTo(t,e){return(0,J.Dv)("Query.equalTo",1,2,arguments.length),new Go(this.database,Bd(this._delegate,function(n,t){return px("equalTo","key",t,!0),new o6(n,t)}(t,e)))}toString(){return(0,J.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,J.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,J.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Go))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,J.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,J.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,J.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ic(this.database,new wu(this._delegate._repo,this._delegate._path))}}class Ic extends Go{constructor(t,e){super(t,new zl(e._repo,e._path,new pS,!1)),this.database=t,this._delegate=e}getKey(){return(0,J.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,J.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ic(this.database,Ey(this._delegate,t))}getParent(){(0,J.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ic(this.database,t):null}getRoot(){return(0,J.Dv)("Reference.root",0,0,arguments.length),new Ic(this.database,this._delegate.root)}set(t,e){(0,J.Dv)("Reference.set",1,2,arguments.length),(0,J.Wj)("Reference.set","onComplete",e,!0);const i=qk(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,J.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,nF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vu("Reference.update",this._delegate._path),(0,J.Wj)("Reference.update","onComplete",e,!0);const i=BH(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,J.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,J.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(vu("setWithPriority",n._path),rf("setWithPriority",t,n._path,!1),Bk("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new J.BH;return zk(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,J.Dv)("Reference.remove",0,1,arguments.length),(0,J.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return vu("remove",n._path),qk(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,J.Dv)("Reference.transaction",1,3,arguments.length),(0,J.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,J.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,J.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=(0,J.m9)(n),vu("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new J.BH,f=Kk(n,()=>{});return function(n,t,e,i,r,o){Xb(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:eP(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=$k(n,t,void 0);u.currentInputSnapshot=f;const m=u.update(f.val());if(void 0===m)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{fx("transaction failed: Data returned ",m,u.path),u.status=0;const b=MS(n.transactionQueueTree_,t),S=wy(b)||[];let k;S.push(u),Fk(b,S),"object"==typeof m&&null!==m&&(0,J.r3)(m,".priority")?(k=(0,J.DV)(m,".priority"),(0,J.hu)(hx(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(DS(n.serverSyncTree_,t)||qn.EMPTY_NODE).getPriority().val();const U=mx(n),q=es(m,k),le=Ok(q,f,U);u.currentOutputSnapshotRaw=q,u.currentOutputSnapshotResolved=le,u.currentWriteId=NS(n);const Oe=Sk(n.serverSyncTree_,t,le,u.currentWriteId,u.applyLocally);bu(n.eventQueue_,t,Oe),FS(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,b,S)=>{let k=null;m?o.reject(m):(k=new Cy(S,new wu(n._repo,n._path),Ir),o.resolve(new E6(b,k)))},f,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new M6(o.committed,new Zm(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,J.Dv)("Reference.setPriority",1,2,arguments.length),(0,J.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,J.m9)(n),vu("setPriority",n._path),Bk("setPriority",t,!1);const e=new J.BH;return zk(n._repo,Gr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,J.Dv)("Reference.push",0,2,arguments.length),(0,J.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,J.m9)(n),vu("push",n._path),rf("push",t,n._path,!0);const e=ON(n._repo),i=WU(e),r=Ey(n,i),o=Ey(n,i);let u;return u=null!=t?qk(o,t).then(()=>o):Promise.resolve(o),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,t),r=i.then(u=>new Ic(this.database,u));e&&r.then(()=>e(null),u=>e(u));const o=new Ic(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return vu("Reference.onDisconnect",this._delegate._path),new k6(new $N(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class yx{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,J.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ef("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ef('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new KE(KE.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,J.Sg)(i.mockUserToken,n.app.options.projectId);o=new KE(u)}!function(n,t,e,i){n.repoInfo_=new GA(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,J.Dv)("database.ref",0,1,arguments.length),t instanceof Ic){const e=GN(this._delegate,t.toString());return new Ic(this,e)}{const e=jN(this._delegate,t);return new Ic(this,e)}}refFromURL(t){(0,J.Dv)("database.refFromURL",1,1,arguments.length);const i=GN(this._delegate,t);return new Ic(this,i)}goOffline(){return(0,J.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,J.m9)(n))._checkNotDeleted("goOffline"),LN(n._repo)}(this._delegate)}goOnline(){return(0,J.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,J.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(RN)}(n._repo)}(this._delegate)}}yx.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var O6=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){JO(e);const u=new Sl.zt("auth-internal",new Sl.H0("database-standalone"));return u.setComponent(new Sl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new yx(tF(n,u,void 0,t,o),n),namespace:r}}});const P6=yx.ServerValue;function iF(n){return null==n}function rF(n){return"function"==typeof n.set}function sF(n,t){return rF(t)?t:n.ref(t)}function oF(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(rF(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function vx(n,t,e="on",i=mh.z){return new Ai.y(r=>{let o=null;return o=n[e](t,(u,f)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:f})}),"once"===e&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,un.U)(r=>{const{snapshot:o,prevKey:u}=r;let f=null;return o.exists()&&(f=o.key),{type:t,payload:o,prevKey:u,key:f}}),(0,R3.B)())}function aF(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function U6(n,t){const{payload:e,prevKey:i,key:r}=t,o=aF(n,r),u=function(n,t){if(iF(t))return 0;{const e=aF(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let f=null;t.payload.forEach(m=>{const b={payload:m,type:"value",prevKey:f,key:m.key};return f=m.key,n=[...n,b],!1})}return n;case"child_added":if(o>-1){const f=n[o-1];(f&&f.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(f=>f.payload.key!==e.key);case"child_changed":return n.map(f=>f.payload.key===r?t:f);case"child_moved":if(o>-1){const f=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,f),n}return n;default:return n}}function lF(n){return(iF(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function cF(n,t,e){return function(n,t,e){return vx(n,"value","once",e).pipe(Yi(i=>{const r=[(0,Jt.of)(i)];return t.forEach(o=>r.push(vx(n,o,"on",e))),(0,uA.T)(...r).pipe(Gs(U6,[]))}),U_())}(n,t=lF(t),e)}function uF(n,t,e){const i=(t=lF(t)).map(r=>vx(n,r,"on",e));return(0,uA.T)(...i)}function dF(n,t){return function(i,r){return oF(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function $6(n){return function(e){return e?oF(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function hF(n,t){return function(){return vx(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new Sl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new yx(r,i)},"PUBLIC").setServiceProps({Reference:Ic,Query:Go,Database:yx,DataSnapshot:Zm,enableLogging:y6,INTERNAL:O6,ServerValue:P6}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(kg.Z);const Z6=new s.OlP("angularfire2.realtimeDatabaseURL"),q6=new s.OlP("angularfire2.database.use-emulator");let Qk=(()=>{class n{constructor(e,i,r,o,u,f,m,b,S,k,U,q,le,Oe,Je){this.schedulers=f;const Vt=m,Zt=(0,ws.on)(e,u,i);b&&LA(Zt,u,S,U,q,le,k,Oe),this.database=(0,ws.cc)(`${Zt.name}.database.${r}`,"AngularFireDatabase",Zt.name,()=>{const ln=u.runOutsideAngular(()=>Zt.database(r||void 0));return Vt&&ln.useEmulator(...Vt),ln},[Vt])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>sF(this.database,e));let o=r;return i&&(o=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:dF(i,"update"),set:dF(i,"set"),push:r=>i.push(r),remove:$6(i),snapshotChanges:r=>cF(n,r,e).pipe(Ht.iC),stateChanges:r=>uF(n,r,e).pipe(Ht.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return vx(n,"value","on",t).pipe((0,un.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new P3(n,e))}}(t),(0,un.U)(([r,o])=>{const u=r.lastKeyToLoad,f=o.map(m=>m.key);return{actions:o,lastKeyToLoad:u,loadedKeys:f}}),function(n){return t=>t.lift(new L3(n))}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,un.U)(r=>r.actions))}(n,uF(n,t).pipe(Gs((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Ht.iC),valueChanges:(r,o)=>cF(n,r,e).pipe((0,un.U)(f=>f.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),Ht.iC)}}(o,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>hF(n,t.schedulers.outsideAngular)().pipe(Ht.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>hF(n,t.schedulers.outsideAngular)().pipe(Ht.iC,(0,un.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>sF(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ws.Dh),s.LFG(ws.xv,8),s.LFG(Z6,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ht.HU),s.LFG(q6,8),s.LFG(Hb,8),s.LFG(MA,8),s.LFG(RA,8),s.LFG(OA,8),s.LFG(PA,8),s.LFG(NA,8),s.LFG(FA,8),s.LFG(hy,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),K6=(()=>{class n{constructor(){kA.Z.registerVersion("angularfire",Ht.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Qk]}),n})();var Y6=O(7206);const zS_firebase={locationId:"europe-west",apiKey:"AIzaSyDmn1Lc53eEK7IuVAZYA9rtSN5Q7RZ7Adc",authDomain:"scrumpockerpicker-255a4.firebaseapp.com",databaseURL:"https://scrumpockerpicker-255a4-default-rtdb.europe-west1.firebasedatabase.app",projectId:"scrumpockerpicker-255a4",storageBucket:"scrumpockerpicker-255a4.appspot.com",messagingSenderId:"708832724230",appId:"1:708832724230:web:00a6615bcb91fea015ca87",measurementId:"G-N5RNJMKNLM"};let Jk=(()=>{class n{constructor(e,i,r,o){this.afs=e,this.router=i,this.db=r,this.title=o}get(e){return this.afs.collection("rooms").doc(e)}create(e,i){var r=this;return(0,Ye.Z)(function*(){const u={uid:Y6.AES.encrypt(e,"scrumpockerpicker").toString(),name:e,created:i.uid,createdAt:Date.now()},f={uid:i.uid,user:{uid:i.uid,displayName:i.displayName},card:null,visible:!1},m=r.title.getTitle();console.log(i);const b=yield r.afs.collection("rooms").add(u);return yield b.collection("players").doc(i.uid).set(f),r.title.setTitle(e+" "+m),r.router.navigate(["room",b.id])})()}pickCard(e,i,r=null){return(0,Ye.Z)(function*(){const o={card:r,picked:!0,visible:!1};yield e.update({firstPick:!0}),e.collection("players").doc(i.uid).update(o)})()}joinUsers(e,i,r=!1){const o={uid:i.uid,user:{uid:i.uid,displayName:i.displayName},card:null,visible:!1},u=e.collection("players");u.doc(i.uid).get().toPromise().then(function(){var b=(0,Ye.Z)(function*(S){!S||(S.exists||(yield u.doc(S.id).set(o),console.log("doesn't exist")),console.log(S.exists))});return function(S){return b.apply(this,arguments)}}());const m=e.collection("spectators");return{players:u.valueChanges(),spectators:m.valueChanges()}}deleteUser(e,i){return e.collection("players").doc(i.uid).delete()}showCards(e){return console.log("cards shown"),this.afs.collection("rooms").doc(e).get({})}spectate(e,i,r){var o=this;return(0,Ye.Z)(function*(){yield o.moveUserFromCollection(e,r?"players":"spectators",r?"spectators":"players",i)})()}moveUserFromCollection(e,i,r,o){return(0,Ye.Z)(function*(){const u=e.collection(i).doc(o.uid),f=yield u.get().toPromise();return f&&f.exists&&(yield e.collection(r).doc(o.uid).set(f.data()),yield u.delete()),"An error occurred"})()}checkIfIsSpectator(e,i){return(0,Ye.Z)(function*(){const o=yield e.collection("spectators").doc(i.uid).get().toPromise();return!!o&&o.exists})()}removeUser(e,i){console.log(i.uid)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sS),s.LFG(Bi),s.LFG(Qk),s.LFG(Xo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var bx=O(4074);function Q6(n){return new Ai.y(function(t){return{unsubscribe:(0,bx.t)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class WS{constructor(t){return t}}class Xk{constructor(){return(0,Ht.vb)("auth")}}const eM=new s.OlP("angularfire2.auth-instances");function e8(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new WS(i)}}const t8={provide:Xk,deps:[[new s.FiY,eM]]},n8={provide:WS,useFactory:function(n,t){const e=(0,Ht.JM)("auth",n,t);return e&&new WS(e)},deps:[[new s.FiY,eM],jp]};let r8=(()=>{class n{constructor(){(0,Sc.KN)("angularfire",Ht.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[n8,t8]}),n})();function s8(n,...t){return{ngModule:r8,providers:[{provide:eM,useFactory:e8(n),multi:!0,deps:[s.R0b,s.zs3,Ht.HU,Ub,[new s.FiY,hy],...t]}]}}const o8=(0,Ht.u3)(Q6,!0),tM=(0,Ht.u3)(bx.n,!0),a8=(0,Ht.u3)(bx.t,!0),l8=(0,Ht.u3)(bx.W,!0),c8=(0,Ht.u3)(bx.ae,!0);let $S=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.afs=i,this.router=r,this.user$=new Ms(null),this.player=JSON.parse(localStorage.getItem("user")),this.roomID="",this.auth=tM(),a8(this.auth,o=>{o?this.user=o:console.log("User not logged in!")})}getUser(){return this.user}signIn(e){var i=this;return(0,Ye.Z)(function*(){yield l8(i.auth).then(function(){var o=(0,Ye.Z)(function*(u){yield c8(i.auth.currentUser,{displayName:e})});return function(u){return o.apply(this,arguments)}}()).catch(o=>{console.log(o)})})()}signOut(){var e=this;return(0,Ye.Z)(function*(){const i=tM();console.log(i),yield i.signOut(),e.user$.next(null),yield e.router.navigateByUrl("/login")})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hb),s.LFG(sS),s.LFG(Bi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Le=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var u=0;u<r.length;u++){if(r[u]==e)return o;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,u=i.getBoundingClientRect(),f=this.getViewport();let m,b;u.top+o+r.height>f.height?(m=-1*r.height,e.style.transformOrigin="bottom",u.top+m<0&&(m=-1*u.top)):(m=o,e.style.transformOrigin="top"),b=r.width>f.width?-1*u.left:u.left+r.width>f.width?-1*(u.left+r.width-f.width):0,e.style.top=m+"px",e.style.left=b+"px"}static absolutePosition(e,i){let q,le,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,u=r.width,f=i.offsetHeight,m=i.offsetWidth,b=i.getBoundingClientRect(),S=this.getWindowScrollTop(),k=this.getWindowScrollLeft(),U=this.getViewport();b.top+f+o>U.height?(q=b.top+S-o,e.style.transformOrigin="bottom",q<0&&(q=S)):(q=f+b.top+S,e.style.transformOrigin="top"),le=b.left+u>U.width?Math.max(0,b.left+k+m-u):b.left+k,e.style.top=q+"px",e.style.left=le+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,u=f=>{let m=window.getComputedStyle(f,null);return o.test(m.getPropertyValue("overflow"))||o.test(m.getPropertyValue("overflowX"))||o.test(m.getPropertyValue("overflowY"))};for(let f of r){let m=1===f.nodeType&&f.dataset.scrollselectors;if(m){let b=m.split(",");for(let S of b){let k=this.findSingle(f,S);k&&u(k)&&i.push(k)}}9!==f.nodeType&&u(f)&&i.push(f)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),f=u?parseFloat(u):0,m=e.getBoundingClientRect(),S=i.getBoundingClientRect().top+document.body.scrollTop-(m.top+document.body.scrollTop)-o-f,k=e.scrollTop,U=e.clientHeight,q=this.getOuterHeight(i);S<0?e.scrollTop=k+S:S+q>U&&(e.scrollTop=k+S-U+q)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,u=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var r=1,f=50/i;let m=setInterval(()=>{(r-=f)<=0&&(r=0,clearInterval(m)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class jS{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Le.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class hn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,u,f,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((u=t.length)!=e.length)return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var m=t instanceof Date,b=e instanceof Date;if(m!=b)return!1;if(m&&b)return t.getTime()==e.getTime();var S=t instanceof RegExp,k=e instanceof RegExp;if(S!=k)return!1;if(S&&k)return t.toString()==e.toString();var U=Object.keys(t);if((u=U.length)!==Object.keys(e).length)return!1;for(o=u;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,U[o]))return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[f=U[o]],e[f]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,u=i.length;o<u;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>e){i.splice(u,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}}var pF=0;function GS(){return"pr_id_"+ ++pF}var Qa=function(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,u,f)=>{u&&(u.style.zIndex=String(((o,u)=>{let f=n.length>0?n[n.length-1]:{key:o,value:u},m=f.value+(f.key===o?0:u)+1;return n.push({key:o,value:m}),m})(o,f)))},clear:o=>{o&&((o=>{n=n.filter(u=>u.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const gF=["*"];let Zo=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),xy=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Zo.STARTS_WITH,Zo.CONTAINS,Zo.NOT_CONTAINS,Zo.ENDS_WITH,Zo.EQUALS,Zo.NOT_EQUALS],numeric:[Zo.EQUALS,Zo.NOT_EQUALS,Zo.LESS_THAN,Zo.LESS_THAN_OR_EQUAL_TO,Zo.GREATER_THAN,Zo.GREATER_THAN_OR_EQUAL_TO],date:[Zo.DATE_IS,Zo.DATE_IS_NOT,Zo.DATE_BEFORE,Zo.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Bn.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cu=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),mF=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=hn.removeAccents(i.toString()).toLocaleLowerCase(r);return hn.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=hn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==hn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=hn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===hn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=hn.removeAccents(i.toString()).toLocaleLowerCase(r),u=hn.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==u.indexOf(o,u.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():hn.removeAccents(e.toString()).toLocaleLowerCase(r)==hn.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():hn.removeAccents(e.toString()).toLocaleLowerCase(r)==hn.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(hn.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,u){let f=[];if(e)for(let m of e)for(let b of i){let S=hn.resolveFieldData(m,b);if(this.filters[o](S,r,u)){f.push(m);break}}return f}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZS=(()=>{class n{constructor(){this.clickSource=new Bn.xQ,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_F=(()=>{class n{}return n.AND="and",n.OR="or",n})(),d8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:gF,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),h8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:gF,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),qp=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})(),sf=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(Le.removeClass(i,"p-ink-active"),!Le.getHeight(i)&&!Le.getWidth(i)){let f=Math.max(Le.getOuterWidth(this.el.nativeElement),Le.getOuterHeight(this.el.nativeElement));i.style.height=f+"px",i.style.width=f+"px"}let r=Le.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-Le.getWidth(i)/2,u=e.pageY-r.top+document.body.scrollLeft-Le.getHeight(i)/2;i.style.top=u+"px",i.style.left=o+"px",Le.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&Le.removeClass(e,"p-ink-active")}onAnimationEnd(e){Le.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Le.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),af=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();function f8(n,t){1&n&&s.GkF(0)}const p8=function(n,t,e,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t,"p-button-icon-top":e,"p-button-icon-bottom":i}};function g8(n,t){if(1&n&&s._UZ(0,"span",4),2&n){const e=s.oxw();s.Tol(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),s.Q6J("ngClass",s.l5B(4,p8,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),s.uIk("aria-hidden",!0)}}function m8(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.uIk("aria-hidden",e.icon&&!e.label),s.xp6(1),s.Oqu(e.label||"\xa0")}}function _8(n,t){if(1&n&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Tol(e.badgeClass),s.Q6J("ngClass",e.badgeStyleClass()),s.xp6(1),s.Oqu(e.badge)}}const y8=function(n,t,e,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":t,"p-disabled":e,"p-button-loading":i,"p-button-loading-label-only":r}},v8=["*"];let wx=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Le.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&Le.addClass(e,i);let r=this.getIconClass();r&&Le.addMultipleClasses(e,r);let o=Le.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=Le.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=Le.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(Le.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),b8=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,qp,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:v8,decls:6,vars:16,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0),s.NdJ("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),s.Hsn(1),s.YNc(2,f8,1,0,"ng-container",1),s.YNc(3,g8,1,9,"span",2),s.YNc(4,m8,2,2,"span",3),s.YNc(5,_8,2,4,"span",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",s.qbA(10,y8,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),s.uIk("type",i.type),s.xp6(2),s.Q6J("ngTemplateOutlet",i.contentTemplate),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate&&(i.icon||i.loading)),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate&&i.badge))},directives:[sf,xi,Xi,yr,Si],encapsulation:2,changeDetection:0}),n})(),tw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,af]]}),n})();function w8(n,t){if(1&n&&(s.TgZ(0,"div",4),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij(" ",e.player.card," ")}}function C8(n,t){if(1&n&&s._UZ(0,"div",5),2&n){const e=s.oxw();s.Tol(e.player.card?"pickedCard":"")}}let E8=(()=>{class n{constructor(){this.number=void 0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-card"]],inputs:{player:"player",showCards:"showCards"},decls:6,vars:3,consts:[[1,"grid","flex-column","align-items-center"],[1,"col"],["class","col shadow-2 p-1 border-round text-center card font-bold visibleCard",4,"ngIf","ngIfElse"],["hiddenCard",""],[1,"col","shadow-2","p-1","border-round","text-center","card","font-bold","visibleCard"],[1,"col","shadow-2","border-round","card"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2),s.qZA(),s.YNc(3,w8,2,1,"div",2),s.YNc(4,C8,1,2,"ng-template",null,3,s.W1O),s.qZA()),2&e){const r=s.MAs(5);s.xp6(2),s.hij(" ",null==i.player.user?null:i.player.user.displayName," "),s.xp6(1),s.Q6J("ngIf",i.player.card&&i.showCards)("ngIfElse",r)}},directives:[Si],styles:["[_nghost-%COMP%]     .card{width:40px;height:60px;min-height:60px;display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .visibleCard{border:2px solid #0071fc}[_nghost-%COMP%]     .pickedCard{background-color:#0071fc}[_nghost-%COMP%]     .showCards{background-color:transparent;outline:1px solid black}"]}),n})();const x8=function(){return[]};function T8(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Oqu(e.averageSum(null!==(i=s.lcZ(2,1,e.players))&&void 0!==i?i:s.DdM(3,x8)))}}function S8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).resetBoard()}),s._uU(2,"Reset board "),s.qZA(),s.qZA()}}function I8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).showCards()}),s._uU(1,"Show cards "),s.qZA()}}function D8(n,t){if(1&n&&(s.ynx(0),s.YNc(1,S8,3,0,"div",4),s.YNc(2,I8,2,0,"ng-template",null,9,s.W1O),s.BQk()),2&n){const e=s.MAs(3),i=s.oxw().ngIf;s.xp6(1),s.Q6J("ngIf",i.showCards)("ngIfElse",e)}}function A8(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Chose card"),s.qZA())}function k8(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Voting in process"),s.qZA())}function M8(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Voting finished"),s.qZA())}function R8(n,t){if(1&n&&(s.YNc(0,k8,2,0,"span",0),s.YNc(1,M8,2,0,"span",0)),2&n){const e=s.oxw().ngIf;s.Q6J("ngIf",e.firstPick&&!e.showCards),s.xp6(1),s.Q6J("ngIf",e.firstPick&&e.showCards)}}function O8(n,t){if(1&n&&(s.TgZ(0,"div",11),s._UZ(1,"app-card",12),s.qZA()),2&n){const e=t.$implicit,i=s.oxw().ngIf;s.xp6(1),s.Q6J("player",e)("showCards",i.showCards)}}function P8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(3).chose(o)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).ngIf;s.s9C("label",e),s.Q6J("disabled",i.showCards)}}function N8(n,t){if(1&n&&(s.TgZ(0,"div",13),s.TgZ(1,"div",14),s.TgZ(2,"div",15),s.YNc(3,P8,1,2,"button",16),s.qZA(),s.qZA(),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("@slideInOut",void 0),s.xp6(3),s.Q6J("ngForOf",e.cards)}}function F8(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.YNc(5,T8,3,4,"span",0),s.qZA(),s.qZA(),s.TgZ(6,"div",1),s.TgZ(7,"div",3),s.YNc(8,D8,4,2,"ng-container",4),s.YNc(9,A8,2,0,"span",0),s.YNc(10,R8,2,2,"ng-template",null,5,s.W1O),s.qZA(),s.qZA(),s.TgZ(12,"div",6),s.YNc(13,O8,2,2,"div",7),s.ALo(14,"async"),s.qZA(),s.YNc(15,N8,4,2,"div",8),s.BQk()),2&n){const e=t.ngIf,i=s.MAs(11),r=s.oxw();s.xp6(4),s.Oqu(e.name),s.xp6(1),s.Q6J("ngIf",e.showCards),s.xp6(3),s.Q6J("ngIf",e.firstPick&&r.user.uid===e.created||!e.created)("ngIfElse",i),s.xp6(1),s.Q6J("ngIf",!e.showCards&&!e.firstPick),s.xp6(4),s.Q6J("ngForOf",s.lcZ(14,7,r.players)),s.xp6(2),s.Q6J("ngIf",!e.showCards)}}let L8=(()=>{class n{constructor(e,i,r,o,u,f){this.firestore=e,this.db=i,this.roomService=r,this.authService=o,this.router=u,this.route=f,this.roomID=this.route.snapshot.paramMap.get("roomId"),this.roomDocument=this.roomService.get(this.roomID),this.cards=[0,1,2,3,5,8,13,21,34,55,89,144],this.visible=!1,this.average=null}ngOnInit(){var e=this;return(0,Ye.Z)(function*(){e.user=yield e.authService.getUser();const i=yield e.roomDocument.valueChanges();i&&(e.players=e.roomService.joinUsers(e.roomDocument,e.user).players,e.room=i)})()}ngOnDestroy(){this.roomService.deleteUser(this.roomDocument,this.user)}chose(e){return this.roomService.pickCard(this.roomDocument,this.user,e)}showCards(){this.roomDocument.update({showCards:!0})}averageSum(e){return e.length?(0,Pa.sumBy)(e,"card")/e.length:0}resetBoard(){this.roomDocument.update({showCards:!1,firstPick:!1}),this.roomDocument.collection("players").get().toPromise().then(e=>{e.forEach(i=>{console.log(i.data()),i.ref.update({card:null})})})}createChart(){let e=Math.floor(16777215*Math.random()).toString(16);console.log(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sS),s.Y36(Qk),s.Y36(Jk),s.Y36($S),s.Y36(Bi),s.Y36(la))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-room"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"grid"],[1,"col","text-center"],[1,"col-4","board","surface-card","shadow-2","p-3","border-round","text-center","col-offset-4"],[4,"ngIf","ngIfElse"],["textContent",""],[1,"grid","justify-content-center","align-items-center"],["class","players m-3",4,"ngFor","ngForOf"],["class","grid bottom-0 fixed w-12",4,"ngIf"],["showCardsButton",""],["pButton","","pRipple","",1,"p-button-outlined",3,"click"],[1,"players","m-3"],[3,"player","showCards"],[1,"grid","bottom-0","fixed","w-12"],[1,"col"],[1,"surface-card","shadow-2","p-3","border-round","grid","justify-content-center"],["class","col m-1 card text-xl text-center","pButton","",3,"disabled","label","click",4,"ngFor","ngForOf"],["pButton","",1,"col","m-1","card","text-xl","text-center",3,"disabled","label","click"]],template:function(e,i){1&e&&(s.YNc(0,F8,16,9,"ng-container",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.room))},directives:[Si,mr,wx,sf,E8],pipes:[Oc],styles:['.card[_ngcontent-%COMP%]{max-width:50px;height:65px}.container[_ngcontent-%COMP%]{position:relative;height:400px;width:400px;border:1px solid;border-radius:50%;transform:scaleX(1.25);transform-origin:left}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;height:50%;width:50%;transform-origin:bottom right}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:0px;left:0px;height:25px;width:25px;background:black;border-radius:50%;transform:translateY(50%)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(22.5deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(45deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(67.5deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(90deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(112.5deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(135deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(157.5deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(180deg)}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{background:red}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(n+4):after{background:orange}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(n+7):after{background:green}'],data:{animation:[Kf("slideInOut",[Yf("in",xr({height:"*",opacity:0})),dn(":leave",[xr({height:"*",opacity:1}),lv([_o(300,xr({height:0})),_o("200ms ease-in-out",xr({opacity:"0"}))])]),dn(":enter",[xr({height:"0",opacity:0}),lv([_o(300,xr({height:"*"})),_o("400ms ease-in-out",xr({opacity:"1"}))])])])]}}),n})();const V8=["*"];let B8=(()=>{class n{constructor(){this.layout="horizontal",this.type="solid"}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",layout:"layout",type:"type",align:"align"},ngContentSelectors:V8,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style))},directives:[Xi,xi],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0}),n})(),U8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();function H8(n,t){1&n&&s.GkF(0)}function z8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).onCloseClick(r)})("keydown.enter",function(){return s.CHM(e),s.oxw(2).hide()}),s._UZ(1,"span",6),s.qZA()}if(2&n){const e=s.oxw(2);s.uIk("aria-label",e.ariaCloseLabel)}}const W8=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},$8=function(n,t){return{value:n,params:t}};function j8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@animation.start",function(r){return s.CHM(e),s.oxw().onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw().onAnimationEnd(r)}),s.TgZ(1,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw().onContentClick()})("mousedown",function(){return s.CHM(e),s.oxw().onContentClick()}),s.Hsn(2),s.YNc(3,H8,1,0,"ng-container",3),s.qZA(),s.YNc(4,z8,2,1,"button",4),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",s.WLB(10,$8,e.overlayVisible?"open":"close",s.WLB(7,W8,e.showTransitionOptions,e.hideTransitionOptions))),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate),s.xp6(1),s.Q6J("ngIf",e.showCloseIcon)}}const G8=["*"];let Z8=(()=>{class n{constructor(e,i,r,o,u,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=u,this.overlayService=f,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new s.vpe,this.onHide=new s.vpe,this.overlayVisible=!1,this.render=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let e=Le.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",e,r=>{!this.container.contains(r.target)&&this.target!==r.target&&!this.target.contains(r.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i)}show(e,i){this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(e,i){return null!=this.target&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Le.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&Qa.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Le.absolutePosition(this.container,this.target);const e=Le.getOffset(this.container),i=Le.getOffset(this.target);let r=0;e.left<i.left&&(r=i.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${r}px`),e.top<i.top&&Le.addClass(this.container,"p-overlaypanel-flipped")}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener))}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&Qa.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}}focus(){let e=Le.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jS(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Qa.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(xy),s.Y36(ZS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-overlayPanel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,qp,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:G8,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,j8,5,13,"div",0)),2&e&&s.Q6J("ngIf",i.render)},directives:[Si,Xi,xi,yr,sf],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[Kf("animation",[Yf("void",xr({transform:"scaleY(0.8)",opacity:0})),Yf("close",xr({opacity:0})),Yf("open",xr({transform:"translateY(0)",opacity:1})),dn("void => open",_o("{{showTransitionParams}}")),dn("open => close",_o("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),q8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,af,Ud],Ud]}),n})();var K8=O(7830);function qS(n,t){return new Ai.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let o=0,u=0;for(let f=0;f<i;f++){const m=(0,Li.D)(n[f]);let b=!1;e.add(m.subscribe({next:S=>{b||(b=!0,u++),r[f]=S},error:S=>e.error(S),complete:()=>{o++,(o===i||!b)&&(u===i&&e.next(t?t.reduce((S,k,U)=>(S[k]=r[U],S),{}):r),e.complete())}}))}})}let yF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Ty=(()=>{class n extends yF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const _a=new s.OlP("NgValueAccessor"),J8={provide:_a,useExisting:(0,s.Gpc)(()=>Cx),multi:!0},ez=new s.OlP("CompositionEventMode");let Cx=(()=>{class n extends yF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(ez,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([J8]),s.qOj]}),n})();const ya=new s.OlP("NgValidators"),Km=new s.OlP("NgAsyncValidators");function AF(n){return null!=n}function kF(n){const t=(0,s.QGY)(n)?(0,Li.D)(n):n;return(0,s.CqO)(t),t}function MF(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function RF(n,t){return t.map(e=>e(n))}function OF(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function nM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(AF);return 0==t.length?null:function(e){return MF(RF(e,t))}}(OF(n)):null}function iM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(AF);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,ea.k)(t))return qS(t,null);if((0,K8.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return qS(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return qS(n=1===n.length&&(0,ea.k)(n[0])?n[0]:n,null).pipe((0,un.U)(e=>t(...e)))}return qS(n,null)}(RF(e,t).map(kF)).pipe((0,un.U)(MF))}}(OF(n)):null}function FF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function rM(n){return n?Array.isArray(n)?n:[n]:[]}function KS(n,t){return Array.isArray(n)?n.includes(t):n===t}function BF(n,t){const e=rM(t);return rM(n).forEach(r=>{KS(e,r)||e.push(r)}),e}function UF(n,t){return rM(t).filter(e=>!KS(n,e))}class HF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=iM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ym extends HF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ja extends HF{get formDirective(){return null}get path(){return null}}let nw=(()=>{class n extends class{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ym,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})();function xx(n,t){(function(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(FF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(FF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();XS(t._rawValidators,r),XS(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&WF(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&WF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function XS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function WF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Tx="VALID",nI="INVALID",iw="PENDING",Sx="DISABLED";function uM(n){return(hM(n)?n.validators:n)||null}function GF(n){return Array.isArray(n)?nM(n):n||null}function dM(n,t){return(hM(t)?t.asyncValidators:n)||null}function ZF(n){return Array.isArray(n)?iM(n):n||null}function hM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=GF(this._rawValidators),this._composedAsyncValidatorFn=ZF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Tx}get invalid(){return this.status===nI}get pending(){return this.status==iw}get disabled(){return this.status===Sx}get enabled(){return this.status!==Sx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=GF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ZF(t)}addValidators(t){this.setValidators(BF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(BF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(UF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(UF(t,this._rawAsyncValidators))}hasValidator(t){return KS(this._rawValidators,t)}hasAsyncValidator(t){return KS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sx,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tx,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tx||this.status===iw)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sx:Tx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iw,this._hasOwnPendingAsyncValidator=!0;const e=kF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof pM?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof gz&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Sx:this.errors?nI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iw)?iw:this._anyControlsHaveStatus(nI)?nI:Tx}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class iI extends fM{constructor(t=null,e,i){super(uM(e),dM(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pM extends fM{constructor(t,e,i){super(uM(e),dM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof iI?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class gz extends fM{constructor(t,e,i){super(uM(e),dM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof iI?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const yz={provide:Ym,useExisting:(0,s.Gpc)(()=>Qm)},YF=(()=>Promise.resolve(null))();let Qm=(()=>{class n extends Ym{constructor(e,i,r,o){super(),this.control=new iI,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Cx?e=o:function(n){return Object.getPrototypeOf(n.constructor)===Ty}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){YF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;YF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ja,9),s.Y36(ya,10),s.Y36(Km,10),s.Y36(_a,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([yz]),s.qOj,s.TTD]}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Lz={provide:ya,useExisting:(0,s.Gpc)(()=>sI),multi:!0};let sI=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[s._Bn([Lz])]}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[JF]]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Wz]}),n})();function oI(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}var Zz=O(7043);function wM(n,t,e,i){return(0,Zz.m)(e)&&(i=e,e=void 0),i?wM(n,t,e).pipe((0,un.U)(r=>(0,ea.k)(r)?i(...r):i(r))):new Ai.y(r=>{mL(n,t,function(u){r.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},r,e)})}function mL(n,t,e,i,r){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,r),o=()=>u.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),o=()=>u.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),o=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,f=n.length;u<f;u++)mL(n[u],t,e,i,r)}i.add(o)}var Qz=O(6686),Xz=O(2268);const tW=new class extends Xz.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this.active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Qz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var nW=O(8139);function _L(n){return!!n&&(n instanceof Ai.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}class rW{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new sW(t,this.durationSelector))}}class sW extends $s.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,$s.ft)(e,new $s.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var yL=O(4241);function aW(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function CM(n,t=mh.P){return function(n){return function(e){return e.lift(new rW(n))}}(()=>function(n=0,t,e){let i=-1;return(0,yL.k)(t)?i=Number(t)<1?1:Number(t):(0,po.K)(t)&&(e=t),(0,po.K)(e)||(e=mh.P),new Ai.y(r=>{const o=(0,yL.k)(n)?n:+n-e.now();return e.schedule(aW,o,{index:0,period:i,subscriber:r})})}(n,t))}function EM(n){return t=>t.lift(new lW(n))}class lW{constructor(t){this.notifier=t}call(t,e){const i=new cW(t),r=(0,$s.ft)(this.notifier,new $s.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class cW extends $s.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let xM;try{xM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xM=!1}let aI,Sy,vL=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?qr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Ax(){if("object"!=typeof document||!document)return 0;if(null==aI){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),aI=0,0===n.scrollLeft&&(n.scrollLeft=1,aI=0===n.scrollLeft?1:2),n.remove()}return aI}const pW=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,s.f3M)(oe)}}),mW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wL=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?mW.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pW,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class bW extends class{}{constructor(t){super(),this._data=t}connect(){return _L(this._data)?this._data:(0,Jt.of)(this._data)}disconnect(){}}class wW{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((u,f,m)=>{let b,S;null==u.previousIndex?(b=this._insertView(()=>i(u,f,m),m,e,r(u)),S=b?1:0):null==m?(this._detachAndCacheView(f,e),S=3):(b=this._moveView(f,m,e,r(u)),S=2),o&&o({context:null==b?void 0:b.context,operation:S,record:u})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const u=t();return i.createEmbeddedView(u.templateRef,u.context,u.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const EL=new s.OlP("_ViewRepeater"),CW=["contentWrapper"],EW=["*"],xL=new s.OlP("VIRTUAL_SCROLL_STRATEGY");class xW{constructor(t,e,i){this._scrolledIndexChange=new Bn.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(U_()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),u=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const m=Math.ceil(i/this._itemSize),b=Math.max(0,Math.min(u,r-m));u!=b&&(u=b,o=b*this._itemSize,e.start=Math.floor(u)),e.end=Math.max(0,Math.min(r,e.start+m))}const f=o-e.start*this._itemSize;if(f<this._minBufferPx&&0!=e.start){const m=Math.ceil((this._maxBufferPx-f)/this._itemSize);e.start=Math.max(0,e.start-m),e.end=Math.min(r,Math.ceil(u+(i+this._minBufferPx)/this._itemSize))}else{const m=e.end*this._itemSize-(o+i);if(m<this._minBufferPx&&e.end!=r){const b=Math.ceil((this._maxBufferPx-m)/this._itemSize);b>0&&(e.end=Math.min(r,e.end+b),e.start=Math.max(0,Math.floor(u-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(u))}}function TW(n){return n._scrollStrategy}let TL=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new xW(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=oI(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=oI(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=oI(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s._Bn([{provide:xL,useFactory:TW,deps:[(0,s.Gpc)(()=>n)]}]),s.TTD]}),n})(),SL=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Bn.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ai.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(CM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Jt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(is(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function(n){return n instanceof s.SBq?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(vL),s.LFG(oe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IL=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Bn.xQ,this._elementScrolled=new Ai.y(u=>this.ngZone.runOutsideAngular(()=>wM(this.elementRef.nativeElement,"scroll").pipe(EM(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ax()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ax()?e.left=e.right:1==Ax()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function(){if(null==Sy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sy=!1,Sy;if("scrollBehavior"in document.documentElement.style)Sy=!0;else{const n=Element.prototype.scrollTo;Sy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sy}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==Ax()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==Ax()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(SL),s.Y36(s.R0b),s.Y36(wL,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),DW=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Bn.xQ,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(CM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vL),s.LFG(s.R0b),s.LFG(oe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kW="undefined"!=typeof requestAnimationFrame?tW:nW.E;let kx=(()=>{class n extends IL{constructor(e,i,r,o,u,f,m){super(e,f,r,u),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new Bn.xQ,this._renderedRangeSubject=new Bn.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ai.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ml.w.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(ys(null),CM(0,kW)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(EM(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,u=o?"X":"Y";let m=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(m+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(xL,8),s.Y36(wL,8),s.Y36(SL),s.Y36(DW))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(CW,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s._Bn([{provide:IL,useExisting:n}]),s.qOj],ngContentSelectors:EW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function DL(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let AL=(()=>{class n{constructor(e,i,r,o,u,f){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=u,this.viewChange=new Bn.xQ,this._dataSourceChanges=new Bn.xQ,this.dataStream=this._dataSourceChanges.pipe(ys(null),od(),Yi(([m,b])=>this._changeDataSource(m,b)),dA(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Bn.xQ,this.dataStream.subscribe(m=>{this._data=m,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(EM(this._destroyed)).subscribe(m=>{this._renderedRange=m,f.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new bW(_L(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=oI(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let u,f;for(let m=0;m<o;m++){const b=this._viewContainerRef.get(m+r);if(b&&b.rootNodes.length){u=f=b.rootNodes[0];break}}for(let m=o-1;m>-1;m--){const b=this._viewContainerRef.get(m+r);if(b&&b.rootNodes.length){f=b.rootNodes[b.rootNodes.length-1];break}}return u&&f?DL(i,"end",f)-DL(i,"start",u):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):(0,Jt.of)()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,u,f)=>this._getEmbeddedViewArgs(o,f),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(EL),s.Y36(kx,4),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[s._Bn([{provide:EL,useClass:wW}])]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),lI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[CL,uW,kL],CL,kL]}),n})(),MW=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Le.appendChild(this.container,this.el.nativeElement):Le.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Le.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Qa.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Qa.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Le.getWindowScrollLeft(),top:e.top+Le.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+Le.getOuterWidth(this.el.nativeElement),r=e.top+(Le.getOuterHeight(this.el.nativeElement)-Le.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-Le.getOuterWidth(this.container),r=e.top+(Le.getOuterHeight(this.el.nativeElement)-Le.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(Le.getOuterWidth(this.el.nativeElement)-Le.getOuterWidth(this.container))/2,r=e.top-Le.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(Le.getOuterWidth(this.el.nativeElement)-Le.getOuterWidth(this.container))/2,r=e.top+Le.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=Le.getOuterWidth(this.container),u=Le.getOuterHeight(this.container),f=Le.getViewport();return r+o>f.width||r<0||i<0||i+u>f.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jS(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Le.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Qa.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xy))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();function RW(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function OW(n,t){1&n&&s.GkF(0)}const ML=function(n){return{height:n}},PW=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},SM=function(n){return{$implicit:n}},NW=["container"],FW=["filter"],LW=["in"],VW=["editableInput"];function BW(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function UW(n,t){1&n&&s.GkF(0)}const HW=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function zW(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,BW,2,1,"ng-container",13),s.YNc(2,UW,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,HW,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,SM,e.selectedOption))}}const WW=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function $W(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,WW,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function jW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){return s.CHM(e),s.oxw().onEditableInputClick()})("input",function(r){return s.CHM(e),s.oxw().onEditableInputChange(r)})("focus",function(r){return s.CHM(e),s.oxw().onEditableInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function GW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function ZW(n,t){1&n&&s.GkF(0)}function qW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26),s.TgZ(1,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(2,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return s.CHM(e),s.oxw(2).onKeydown(r,!1)})("input",function(r){return s.CHM(e),s.oxw(2).onFilterInputChange(r)}),s.qZA(),s._UZ(4,"span",30),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function KW(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function YW(n,t){1&n&&s.GkF(0)}function QW(n,t){1&n&&s.GkF(0)}const RL=function(n,t){return{$implicit:n,selectedOption:t}};function JW(n,t){if(1&n&&(s.TgZ(0,"li",32),s.YNc(1,KW,2,1,"span",13),s.YNc(2,YW,1,0,"ng-container",14),s.qZA(),s.YNc(3,QW,1,0,"ng-container",14)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(8),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,SM,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(7,RL,r.getOptionGroupChildren(e),r.selectedOption))}}function XW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,JW,4,10,"ng-template",31),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToDisplay)}}function e$(n,t){1&n&&s.GkF(0)}function t$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,e$,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(8),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(2,RL,i.optionsToDisplay,i.selectedOption))}}function n$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onItemClick(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).selectedOption,r=s.oxw(2);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function i$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,n$,1,5,"ng-template",31),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function r$(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onItemClick(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(3).selectedOption,r=s.oxw(2);s.xp6(1),s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function s$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",37,38),s.NdJ("scrolledIndexChange",function(){return s.CHM(e),s.oxw(4).scrollToSelectedVirtualScrollElement()}),s.YNc(2,r$,2,5,"ng-container",39),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,ML,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function o$(n,t){if(1&n&&s.YNc(0,s$,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function a$(n,t){if(1&n&&(s.YNc(0,i$,2,1,"ng-container",33),s.YNc(1,o$,1,1,"ng-template",null,34,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function l$(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function c$(n,t){1&n&&s.GkF(0,null,41)}function u$(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,l$,2,1,"ng-container",33),s.YNc(2,c$,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function d$(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function h$(n,t){1&n&&s.GkF(0,null,42)}function f$(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,d$,2,1,"ng-container",33),s.YNc(2,h$,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function p$(n,t){1&n&&s.GkF(0)}const g$=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},m$=function(n){return{value:"visible",params:n}},_$=function(n){return{"p-dropdown-virtualscroll":n}};function y$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(1,ZW,1,0,"ng-container",20),s.YNc(2,qW,5,4,"div",21),s.TgZ(3,"div",22),s.TgZ(4,"ul",23),s.YNc(5,XW,2,1,"ng-container",13),s.YNc(6,t$,2,5,"ng-container",13),s.YNc(7,a$,3,2,"ng-template",null,24,s.W1O),s.YNc(9,u$,3,3,"li",25),s.YNc(10,f$,3,3,"li",25),s.qZA(),s.qZA(),s.YNc(11,p$,1,0,"ng-container",20),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(19,m$,s.WLB(16,g$,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(21,_$,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngIf",!e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const v$=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},b$={provide:_a,useExisting:(0,s.Gpc)(()=>OL),multi:!0};let w$=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,RW,2,1,"span",1),s.YNc(2,OW,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,ML,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,PW,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,SM,i.option)))},directives:[sf,xi,Xi,Si,yr],encapsulation:2}),n})(),OL=(()=>{class n{constructor(e,i,r,o,u,f,m){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=u,this.config=f,this.overlayService=m,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=GS()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Cu.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Cu.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?hn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?hn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?hn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?hn.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?hn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Le.findSingle(this.overlay,"li.p-highlight")&&Le.scrollInView(this.itemsWrapper,Le.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return Le.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=Le.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Qa.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=Le.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Qa.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Le.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Le.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Le.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Le.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let u=this.optionsToDisplay[r.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||hn.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let u=0;u<i.length&&(r=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let u of i)if(o=this.findOption(e,this.getOptionGroupChildren(u),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:o}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Le.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Le.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Le.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jS(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Qa.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(mF),s.Y36(xy),s.Y36(ZS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,qp,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(NW,5),s.Gf(FW,5),s.Gf(LW,5),s.Gf(kx,5),s.Gf(VW,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[s._Bn([b$])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2),s.TgZ(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA(),s.qZA(),s.YNc(5,zW,3,13,"span",5),s.YNc(6,$W,2,4,"span",6),s.YNc(7,jW,2,4,"input",7),s.YNc(8,GW,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,y$,12,23,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(19,v$,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?"p-highlighted-option":i.labelId),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[Xi,xi,Si,MW,yr,mr,w$,kx,TL,AL],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Kf("overlayAnimation",[dn(":enter",[xr({opacity:0,transform:"scaleY(0.8)"}),_o("{{showTransitionParams}}")]),dn(":leave",[_o("{{hideTransitionParams}}",xr({opacity:0}))])])]},changeDetection:0}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,Ud,lI,Mx,af],Ud,lI]}),n})(),DM=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Qm,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();const C$=["input"],PL=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},NL=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function E$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",5),s.TgZ(1,"button",6),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA(),s.TgZ(2,"button",6),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,PL))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,NL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function x$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,PL))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function T$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,NL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const S$=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},I$={provide:_a,useExisting:(0,s.Gpc)(()=>FL),multi:!0};let FL=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,u=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(u).length||(this.updateInput(u,null,"spin",null),this.updateModel(e,u),this.handleOnInput(e,o,u))}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,u=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:u=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,u);break;case 8:if(e.preventDefault(),i===r){const f=o.charAt(i-1),{decimalCharIndex:m,decimalCharIndexWithoutPrefix:b}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(f)){const S=this.getDecimalLength(o);if(this._group.test(f))this._group.lastIndex=0,u=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(f))this._decimal.lastIndex=0,S?this.input.nativeElement.setSelectionRange(i-1,i-1):u=o.slice(0,i-1)+o.slice(i);else if(m>0&&i>m){const k=this.isDecimalMode()&&(this.minFractionDigits||0)<S?"":"0";u=o.slice(0,i-1)+k+o.slice(i)}else 1===b?(u=o.slice(0,i-1)+"0"+o.slice(i),u=this.parseValue(u)>0?u:""):u=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,u,null,"delete-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const f=o.charAt(i),{decimalCharIndex:m,decimalCharIndexWithoutPrefix:b}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(f)){const S=this.getDecimalLength(o);if(this._group.test(f))this._group.lastIndex=0,u=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(f))this._decimal.lastIndex=0,S?this.input.nativeElement.setSelectionRange(i+1,i+1):u=o.slice(0,i)+o.slice(i+1);else if(m>0&&i>m){const k=this.isDecimalMode()&&(this.minFractionDigits||0)<S?"":"0";u=o.slice(0,i)+k+o.slice(i+1)}else 1===b?(u=o.slice(0,i)+"0"+o.slice(i+1),u=this.parseValue(u)>0?u:""):u=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,u,null,"delete-back-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),u=this.isMinusSign(r);(48<=i&&i<=57||u||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:u})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const u=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:u}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let u=this.input.nativeElement.selectionStart,f=this.input.nativeElement.selectionEnd,m=this.input.nativeElement.value.trim();const{decimalCharIndex:b,minusCharIndex:S,suffixCharIndex:k,currencyCharIndex:U}=this.getCharIndexes(m);let q;if(r.isMinusSign)0===u&&(q=m,(-1===S||0!==f)&&(q=this.insertText(m,i,0,f)),this.updateValue(e,q,i,"insert"));else if(r.isDecimalSign)b>0&&u===b?this.updateValue(e,m,i,"insert"):(b>u&&b<f||-1===b&&this.maxFractionDigits)&&(q=this.insertText(m,i,u,f),this.updateValue(e,q,i,"insert"));else{const le=this.numberFormat.resolvedOptions().maximumFractionDigits,Oe=u!==f?"range-insert":"insert";if(b>0&&u>b){if(u+i.length-(b+1)<=le){const Je=U>=u?U-1:k>=u?k:m.length;q=m.slice(0,u)+i+m.slice(u+i.length,Je)+m.slice(Je),this.updateValue(e,q,i,Oe)}}else q=this.insertText(m,i,u,f),this.updateValue(e,q,i,Oe)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const f=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,f>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,u=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=u;let f=i.charAt(e);if(this.isNumeralChar(f))return e+u;let m=e-1;for(;m>=0;){if(f=i.charAt(m),this.isNumeralChar(f)){o=m+u;break}m--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(m=e;m<r;){if(f=i.charAt(m),this.isNumeralChar(f)){o=m+u;break}m++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let u=this.input.nativeElement.value,f=null;null!=i&&(f=this.parseValue(i),f=f||this.allowEmpty?f:0,this.updateInput(f,r,o,i),this.handleOnInput(e,u,f))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let u=this.input.nativeElement.value,f=this.formatValue(e),m=u.length;if(f!==o&&(f=this.concatValues(f,o)),0===m){this.input.nativeElement.value=f,this.input.nativeElement.setSelectionRange(0,0);const S=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(S,S)}else{let b=this.input.nativeElement.selectionStart,S=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<f.length)return;this.input.nativeElement.value=f;let k=f.length;if("range-insert"===r){const U=this.parseValue((u||"").slice(0,b)),le=(null!==U?U.toString():"").split("").join(`(${this.groupChar})?`),Oe=new RegExp(le,"g");Oe.test(f);const Je=i.split("").join(`(${this.groupChar})?`),Vt=new RegExp(Je,"g");Vt.test(f.slice(Oe.lastIndex)),S=Oe.lastIndex+Vt.lastIndex,this.input.nativeElement.setSelectionRange(S,S)}else if(k===m)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(S+1,S+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(S-1,S-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(S,S);else if("delete-back-single"===r){let U=u.charAt(S-1),q=u.charAt(S),le=m-k,Oe=this._group.test(q);Oe&&1===le?S+=1:!Oe&&this.isNumeralChar(U)&&(S+=-1*le+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(S,S)}else if("-"===u&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const q=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(q,q)}else S+=k-m,this.input.nativeElement.setSelectionRange(S,S)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(C$,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[s._Bn([I$]),s.TTD],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s.TgZ(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,E$,3,12,"span",3),s.YNc(4,x$,1,6,"button",4),s.YNc(5,T$,1,6,"button",4),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(27,S$,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("aria-valuemin",i.min)("aria-valuemax",i.max),s.xp6(2),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[Xi,xi,DM,Si,wx],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,AM,tw]]}),n})();function D$(n,t){1&n&&s.GkF(0)}const MM=function(n){return{$implicit:n}};function A$(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,D$,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,MM,e.paginatorState))}}function k$(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const cI=function(n){return{"p-disabled":n}};function M$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToFirst(r)}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,cI,e.isFirstPage()||e.empty()))}}const R$=function(n){return{"p-highlight":n}};function O$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(3).onPageLinkClick(r,u-1)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,R$,e-1==i.getPage())),s.xp6(1),s.Oqu(e)}}function P$(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,O$,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function N$(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function F$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){return s.CHM(e),s.oxw(2).onPageDropdownChange(r)}),s.YNc(1,N$,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function L$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToLast(r)}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,cI,e.isLastPage()||e.empty()))}}function V$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).changePage(r-1)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function B$(n,t){1&n&&s.GkF(0)}function U$(n,t){if(1&n&&s.YNc(0,B$,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,MM,e))}}function H$(n,t){1&n&&(s.ynx(0),s.YNc(1,U$,1,4,"ng-template",30),s.BQk())}function z$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).rows=r})("onChange",function(r){return s.CHM(e),s.oxw(2).onRppChange(r)}),s.YNc(1,H$,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function W$(n,t){1&n&&s.GkF(0)}function $$(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,W$,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,MM,e.paginatorState))}}function j$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,A$,2,4,"div",2),s.YNc(2,k$,2,1,"span",3),s.YNc(3,M$,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToPrev(r)}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,P$,2,1,"span",7),s.YNc(7,F$,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToNext(r)}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,L$,2,4,"button",11),s.YNc(11,V$,1,2,"p-inputNumber",12),s.YNc(12,z$,2,6,"p-dropdown",13),s.YNc(13,$$,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,cI,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,cI,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let G$=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,j$,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[Si,xi,Xi,sf,yr,mr,OL,nw,Qm,qp,FL],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,IM,kM,rw,Ud,af],IM,kM,rw,Ud]}),n})();function q$(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function K$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,q$,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function Y$(n,t){1&n&&s.GkF(0)}const Q$=function(n,t){return{$implicit:n,index:t}};function J$(n,t){if(1&n&&s.YNc(0,Y$,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,Q$,i,r))}}const X$=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function ej(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),u=o.$implicit,f=o.index;return s.oxw().onItemClick(r,u,f)})("keydown.enter",function(r){const o=s.CHM(e),u=o.$implicit,f=o.index;return s.oxw().onItemClick(r,u,f)})("blur",function(){return s.CHM(e),s.oxw().onBlur()}),s.YNc(2,K$,4,2,"ng-container",4),s.YNc(3,J$,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,X$,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const tj={provide:_a,useExisting:(0,s.Gpc)(()=>nj),multi:!0};let nj=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?hn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?hn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?hn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){this.disabled||this.isOptionDisabled(i)||(this.multiple?this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)]:this.value=this.getOptionValue(i),this.onOptionClick.emit({originalEvent:e,option:i,index:r}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!hn.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let o of this.value)if(hn.equals(o,r,this.dataKey)){i=!0;break}}else i=hn.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([tj])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,ej,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},directives:[Xi,xi,mr,sf,Si,yr],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}\n"],encapsulation:2,changeDetection:0}),n})(),ij=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,af]]}),n})();const rj=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function sj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),u=s.MAs(3);return o.onClick(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,rj,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const oj=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},aj=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},lj={provide:_a,useExisting:(0,s.Gpc)(()=>cj),multi:!0};let cj=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([lj])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"input",2,3),s.NdJ("keyup",function(u){return i.onKeyup(u)})("keydown",function(u){return i.onKeydown(u)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA(),s.qZA(),s.TgZ(4,"div",4),s.NdJ("click",function(u){s.CHM(r);const f=s.MAs(3);return i.onClick(u,f)}),s._UZ(5,"span",5),s.qZA(),s.qZA(),s.YNc(6,sj,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,oj,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,aj,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},directives:[xi,Xi,Si],encapsulation:2,changeDetection:0}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();const dj=["container"],hj=["inputfield"],fj=["contentWrapper"];function pj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1);return s.oxw().onButtonClick(r,o)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function gj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("keydown",function(r){return s.CHM(e),s.oxw().onInputKeydown(r)})("click",function(){return s.CHM(e),s.oxw().onInputClick()})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("input",function(r){return s.CHM(e),s.oxw().onUserInput(r)}),s.qZA(),s.YNc(2,pj,1,3,"button",6)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showIcon)}}function mj(n,t){1&n&&s.GkF(0)}function _j(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(4).onPrevButtonClick(r)}),s._UZ(1,"span",29),s.qZA()}}function yj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToMonthView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function vj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",31),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToYearView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",e.year," ")}}function bj(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function wj(n,t){1&n&&s.GkF(0)}const LL=function(n){return{$implicit:n}};function Cj(n,t){if(1&n&&(s.TgZ(0,"span",32),s.YNc(1,bj,2,2,"ng-container",11),s.YNc(2,wj,1,0,"ng-container",33),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,LL,e.yearPickerValues))}}function Ej(n,t){if(1&n&&(s.TgZ(0,"th",39),s.TgZ(1,"span"),s._uU(2),s.qZA(),s.qZA()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function xj(n,t){if(1&n&&(s.TgZ(0,"th",40),s.TgZ(1,"span"),s._uU(2),s.qZA(),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Tj(n,t){if(1&n&&(s.TgZ(0,"td",43),s.TgZ(1,"span",44),s._uU(2),s.qZA(),s.qZA()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function Sj(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function Ij(n,t){1&n&&s.GkF(0)}const VL=function(n,t){return{"p-highlight":n,"p-disabled":t}};function Dj(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",46),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(6).onDateSelect(r,o)})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.oxw(3).index;return s.oxw(3).onDateCellKeydown(r,o,u)}),s.YNc(2,Sj,2,1,"ng-container",11),s.YNc(3,Ij,1,0,"ng-container",33),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,VL,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,LL,e))}}const Aj=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function kj(n,t){if(1&n&&(s.TgZ(0,"td",45),s.YNc(1,Dj,4,9,"ng-container",11),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,Aj,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function Mj(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,Tj,3,1,"td",41),s.YNc(2,kj,2,5,"td",42),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function Rj(n,t){if(1&n&&(s.TgZ(0,"div",34),s.TgZ(1,"table",35),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.YNc(4,Ej,3,1,"th",36),s.YNc(5,xj,3,1,"th",37),s.qZA(),s.qZA(),s.TgZ(6,"tbody"),s.YNc(7,Mj,3,2,"tr",38),s.qZA(),s.qZA(),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function Oj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",18),s.TgZ(1,"div",19),s.YNc(2,_j,2,0,"button",20),s.TgZ(3,"div",21),s.YNc(4,yj,2,2,"button",22),s.YNc(5,vj,2,2,"button",23),s.YNc(6,Cj,3,5,"span",24),s.qZA(),s.TgZ(7,"button",25),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).onNextButtonClick(r)}),s._UZ(8,"span",26),s.qZA(),s.qZA(),s.YNc(9,Rj,8,3,"div",27),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}function Pj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",49),s.NdJ("click",function(r){const u=s.CHM(e).index;return s.oxw(4).onMonthSelect(r,u)})("keydown",function(r){const u=s.CHM(e).index;return s.oxw(4).onMonthCellKeydown(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.WLB(2,VL,r.isMonthSelected(i),!r.isSelectable(1,i,r.currentYear,!1))),s.xp6(1),s.hij(" ",e," ")}}function Nj(n,t){if(1&n&&(s.TgZ(0,"div",47),s.YNc(1,Pj,2,5,"span",48),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}const Fj=function(n){return{"p-highlight":n}};function Lj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",52),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(4).onYearSelect(r,u)})("keydown",function(r){const u=s.CHM(e).$implicit;return s.oxw(4).onYearCellKeydown(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,Fj,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function Vj(n,t){if(1&n&&(s.TgZ(0,"div",50),s.YNc(1,Lj,2,4,"span",51),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function Bj(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",14),s.YNc(2,Oj,10,7,"div",15),s.qZA(),s.YNc(3,Nj,2,1,"div",16),s.YNc(4,Vj,2,1,"div",17),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function Uj(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function Hj(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function zj(n,t){if(1&n&&(s.TgZ(0,"div",58),s.TgZ(1,"span"),s._uU(2),s.qZA(),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function Wj(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function $j(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",63),s.TgZ(1,"button",55),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(2,"span",56),s.qZA(),s.TgZ(3,"span"),s.YNc(4,Wj,2,0,"ng-container",11),s._uU(5),s.qZA(),s.TgZ(6,"button",55),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(7,"span",57),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function jj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",64),s.TgZ(1,"button",65),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(2,"span",56),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",65),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(6,"span",57),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function Gj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",53),s.TgZ(1,"div",54),s.TgZ(2,"button",55),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(3,"span",56),s.qZA(),s.TgZ(4,"span"),s.YNc(5,Uj,2,0,"ng-container",11),s._uU(6),s.qZA(),s.TgZ(7,"button",55),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(8,"span",57),s.qZA(),s.qZA(),s.TgZ(9,"div",58),s.TgZ(10,"span"),s._uU(11),s.qZA(),s.qZA(),s.TgZ(12,"div",59),s.TgZ(13,"button",55),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(14,"span",56),s.qZA(),s.TgZ(15,"span"),s.YNc(16,Hj,2,0,"ng-container",11),s._uU(17),s.qZA(),s.TgZ(18,"button",55),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(19,"span",57),s.qZA(),s.qZA(),s.YNc(20,zj,3,1,"div",60),s.YNc(21,$j,8,2,"div",61),s.YNc(22,jj,7,1,"div",62),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const BL=function(n){return[n]};function Zj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66),s.TgZ(1,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onTodayButtonClick(r)}),s.qZA(),s.TgZ(2,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onClearButtonClick(r)}),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,BL,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,BL,e.clearButtonStyleClass))}}function qj(n,t){1&n&&s.GkF(0)}const Kj=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},UL=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},Yj=function(n){return{value:"visibleTouchUI",params:n}},Qj=function(n){return{value:"visible",params:n}};function Jj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",8,9),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationDone(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.Hsn(2),s.YNc(3,mj,1,0,"ng-container",10),s.YNc(4,Bj,5,3,"ng-container",11),s.YNc(5,Gj,23,8,"div",12),s.YNc(6,Zj,3,8,"div",13),s.Hsn(7,1),s.YNc(8,qj,1,0,"ng-container",10),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,Kj,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,Yj,s.WLB(18,UL,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,Qj,s.WLB(23,UL,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",e.showTime||e.timeOnly),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Xj=[[["p-header"]],[["p-footer"]]],e5=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},t5=["p-header","p-footer"],n5={provide:_a,useExisting:(0,s.Gpc)(()=>r5),multi:!0};let r5=(()=>{class n{constructor(e,i,r,o,u,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=u,this.overlayService=f,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(m,b){return"12"==this.hourFormat?12===m?b?12:0:b?m+12:m:m}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._numberOfMonths}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=GS();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=Le.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(Cu.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,u=i;o>11&&(o=o%11-1,u=i+1),this.months.push(this.createMonth(o,u))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),u=this.getDaysCountInMonth(e,i),f=this.getDaysCountInPrevMonth(e,i),m=1,b=new Date,S=[],k=Math.ceil((u+o)/7);for(let U=0;U<k;U++){let q=[];if(0==U){for(let Oe=f-o+1;Oe<=f;Oe++){let Je=this.getPreviousMonthAndYear(e,i);q.push({day:Oe,month:Je.month,year:Je.year,otherMonth:!0,today:this.isToday(b,Oe,Je.month,Je.year),selectable:this.isSelectable(Oe,Je.month,Je.year,!0)})}let le=7-q.length;for(let Oe=0;Oe<le;Oe++)q.push({day:m,month:e,year:i,today:this.isToday(b,m,e,i),selectable:this.isSelectable(m,e,i,!1)}),m++}else for(let le=0;le<7;le++){if(m>u){let Oe=this.getNextMonthAndYear(e,i);q.push({day:m-u,month:Oe.month,year:Oe.year,otherMonth:!0,today:this.isToday(b,m-u,Oe.month,Oe.year),selectable:this.isSelectable(m-u,Oe.month,Oe.year,!0)})}else q.push({day:m,month:e,year:i,today:this.isToday(b,m,e,i),selectable:this.isSelectable(m,e,i,!1)});m++}this.showWeek&&S.push(this.getWeekNumber(new Date(q[0].year,q[0].month,q[0].day))),r.push(q)}return{month:e,year:i,dates:r,weekNumbers:S}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.currentView="month",e.preventDefault()}switchToYearView(e){this.currentView="year",e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.currentView="date",this.createMonths(this.currentMonth,this.currentYear),this.cd.markForCheck(),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.currentView="month",this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=null;return e&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!e&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let u=new Date(r.year,r.month,r.day);return e.getTime()<=u.getTime()&&i.getTime()>=u.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let u=!0,f=!0,m=!0,b=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(u=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(f=!1),this.disabledDates&&(m=!this.isDateDisabled(e,i,r)),this.disabledDays&&(b=!this.isDayDisabled(e,i,r)),u&&f&&m&&b)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let u=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(u)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(Le.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,u=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let f=Le.index(u),m=u.parentElement.nextElementSibling;m?Le.hasClass(m.children[f].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(m.children[f].children[0].tabIndex="0",m.children[f].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let f=Le.index(u),m=u.parentElement.previousElementSibling;if(m){let b=m.children[f].children[0];Le.hasClass(b,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(b.tabIndex="0",b.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let f=u.previousElementSibling;if(f){let m=f.children[0];Le.hasClass(m,"p-disabled")||Le.hasClass(m.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(m.tabIndex="0",m.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let f=u.nextElementSibling;if(f){let m=f.children[0];Le.hasClass(m,"p-disabled")?this.navigateToMonth(!1,r):(m.tabIndex="0",m.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,u=Le.index(r);let f=o[40===e.which?u+3:u-3];f&&(f.tabIndex="0",f.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let f=r.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let f=r.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,u=Le.index(r);let f=o[40===e.which?u+2:u-2];f&&(f.tabIndex="0",f.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let f=r.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let f=r.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=Le.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),u=o[o.length-1];u.tabIndex="0",u.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=Le.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=Le.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=Le.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=Le.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=Le.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&Le.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if("year"===this.currentView){let i=Le.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=Le.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&Le.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if(e=Le.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=Le.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=Le.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let u=this.value;const f=this.convertTo24Hour(e,o);this.isRangeSelection()&&(u=this.value[1]||this.value[0]),this.isMultipleSelection()&&(u=this.value[this.value.length-1]);const m=u?u.toDateString():null;return!(this.minDate&&m&&this.minDate.toDateString()===m&&(this.minDate.getHours()>f||this.minDate.getHours()===f&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&m&&this.maxDate.toDateString()===m&&(this.maxDate.getHours()<f||this.maxDate.getHours()===f&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let u=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},u),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let u="12"==this.hourFormat?r.pop():null,f=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,f,u)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}updateUI(){let e=this.value||this.defaultDate||new Date;Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Qa.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Qa.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Qa.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Le.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=Le.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=Le.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=Le.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",Le.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):Le.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),Le.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),Le.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Le.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(Le.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||Le.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Cu.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=S=>{const k=r+1<i.length&&i.charAt(r+1)===S;return k&&r++,k},u=(S,k,U)=>{let q=""+k;if(o(S))for(;q.length<U;)q="0"+q;return q},f=(S,k,U,q)=>o(S)?q[k]:U[k];let m="",b=!1;if(e)for(r=0;r<i.length;r++)if(b)"'"!==i.charAt(r)||o("'")?m+=i.charAt(r):b=!1;else switch(i.charAt(r)){case"d":m+=u("d",e.getDate(),2);break;case"D":m+=f("D",e.getDay(),this.getTranslation(Cu.DAY_NAMES_SHORT),this.getTranslation(Cu.DAY_NAMES));break;case"o":m+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":m+=u("m",e.getMonth()+1,2);break;case"M":m+=f("M",e.getMonth(),this.getTranslation(Cu.MONTH_NAMES_SHORT),this.getTranslation(Cu.MONTH_NAMES));break;case"y":m+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":m+=e.getTime();break;case"!":m+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?m+="'":b=!0;break;default:m+=i.charAt(r)}return m}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),u=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=u<10?"0"+u:u),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),u=parseInt(i[1]),f=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(u)||o>23||u>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(f)||f>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:u,second:f}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,u,le,f=0,m="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),b=-1,S=-1,k=-1,U=-1,q=!1,Oe=ln=>{let qt=r+1<i.length&&i.charAt(r+1)===ln;return qt&&r++,qt},Je=ln=>{let qt=Oe(ln),yi="@"===ln?14:"!"===ln?20:"y"===ln&&qt?4:"o"===ln?3:2,Fr=new RegExp("^\\d{"+("y"===ln?yi:1)+","+yi+"}"),to=e.substring(f).match(Fr);if(!to)throw"Missing number at position "+f;return f+=to[0].length,parseInt(to[0],10)},Vt=(ln,qt,yi)=>{let rr=-1,Fr=Oe(ln)?yi:qt,to=[];for(let Is=0;Is<Fr.length;Is++)to.push([Is,Fr[Is]]);to.sort((Is,Xa)=>-(Is[1].length-Xa[1].length));for(let Is=0;Is<to.length;Is++){let Xa=to[Is][1];if(e.substr(f,Xa.length).toLowerCase()===Xa.toLowerCase()){rr=to[Is][0],f+=Xa.length;break}}if(-1!==rr)return rr+1;throw"Unknown name at position "+f},Zt=()=>{if(e.charAt(f)!==i.charAt(r))throw"Unexpected literal at position "+f;f++};for("month"===this.view&&(k=1),r=0;r<i.length;r++)if(q)"'"!==i.charAt(r)||Oe("'")?Zt():q=!1;else switch(i.charAt(r)){case"d":k=Je("d");break;case"D":Vt("D",this.getTranslation(Cu.DAY_NAMES_SHORT),this.getTranslation(Cu.DAY_NAMES));break;case"o":U=Je("o");break;case"m":S=Je("m");break;case"M":S=Vt("M",this.getTranslation(Cu.MONTH_NAMES_SHORT),this.getTranslation(Cu.MONTH_NAMES));break;case"y":b=Je("y");break;case"@":le=new Date(Je("@")),b=le.getFullYear(),S=le.getMonth()+1,k=le.getDate();break;case"!":le=new Date((Je("!")-this.ticksTo1970)/1e4),b=le.getFullYear(),S=le.getMonth()+1,k=le.getDate();break;case"'":Oe("'")?Zt():q=!0;break;default:Zt()}if(f<e.length&&(u=e.substr(f),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===b?b=(new Date).getFullYear():b<100&&(b+=(new Date).getFullYear()-(new Date).getFullYear()%100+(b<=m?0:-100)),U>-1)for(S=1,k=U;o=this.getDaysCountInMonth(b,S-1),!(k<=o);)S++,k-=o;if(le=this.daylightSavingAdjust(new Date(b,S-1,k)),le.getFullYear()!==b||le.getMonth()+1!==S||le.getDate()!==k)throw"Invalid date";return le}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:u}=i[r],f=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${u}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let m=u;m<this.numberOfMonths;m++)f+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${m+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${f}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jS(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return Le.hasClass(e.target,"p-datepicker-prev")||Le.hasClass(e.target,"p-datepicker-prev-icon")||Le.hasClass(e.target,"p-datepicker-next")||Le.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Le.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Qa.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(xy),s.Y36(ZS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,qp,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(dj,5),s.Gf(hj,5),s.Gf(fj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([n5])],ngContentSelectors:t5,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(Xj),s.TgZ(0,"span",0,1),s.YNc(2,gj,3,16,"ng-template",2),s.YNc(3,Jj,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,e5,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[Xi,xi,Si,wx,sf,yr,mr],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}\n"],encapsulation:2,data:{animation:[Kf("overlayAnimation",[Yf("visibleTouchUI",xr({transform:"translate(-50%,-50%)",opacity:1})),dn("void => visible",[xr({opacity:0,transform:"scaleY(0.8)"}),_o("{{showTransitionParams}}",xr({opacity:1,transform:"*"}))]),dn("visible => void",[_o("{{hideTransitionParams}}",xr({opacity:0}))]),dn("void => visibleTouchUI",[xr({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),_o("{{showTransitionParams}}")]),dn("visibleTouchUI => void",[_o("{{hideTransitionParams}}",xr({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),s5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,tw,Ud,af],tw,Ud]}),n})();const o5=["container"],a5=["resizeHelper"],l5=["reorderIndicatorUp"],c5=["reorderIndicatorDown"],u5=["wrapper"],d5=["table"],h5=["tableHeader"];function f5(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function p5(n,t){1&n&&s.GkF(0)}function g5(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,p5,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function m5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",17),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function _5(n,t){1&n&&s.GkF(0)}function y5(n,t){1&n&&s.GkF(0)}function v5(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function b5(n,t){1&n&&s.GkF(0)}const Jm=function(n){return{$implicit:n}};function w5(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,b5,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Jm,e.columns))}}function C5(n,t){if(1&n&&(s.TgZ(0,"table",18,19),s.YNc(2,_5,1,0,"ng-container",20),s.TgZ(3,"thead",21),s.YNc(4,y5,1,0,"ng-container",20),s.qZA(),s.YNc(5,v5,1,5,"tbody",22),s._UZ(6,"tbody",23),s.YNc(7,w5,2,4,"tfoot",24),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(12,Jm,e.columns)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(14,Jm,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function E5(n,t){1&n&&s.GkF(0)}function x5(n,t){1&n&&s.GkF(0)}function T5(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function S5(n,t){1&n&&s.GkF(0)}function I5(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,S5,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Jm,e.columns))}}function D5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",27),s.NdJ("scrolledIndexChange",function(r){return s.CHM(e),s.oxw().onScrollIndexChange(r)}),s.TgZ(1,"table",18,19),s.YNc(3,E5,1,0,"ng-container",20),s.TgZ(4,"thead",21,28),s.YNc(6,x5,1,0,"ng-container",20),s.qZA(),s.YNc(7,T5,1,5,"tbody",22),s._UZ(8,"tbody",23),s.YNc(9,I5,2,4,"tfoot",24),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),s.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),s.xp6(1),s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(17,Jm,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(19,Jm,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function A5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",29),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function k5(n,t){1&n&&s.GkF(0)}function M5(n,t){if(1&n&&(s.TgZ(0,"div",30),s.YNc(1,k5,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function R5(n,t){1&n&&s._UZ(0,"div",31,32)}function O5(n,t){1&n&&s._UZ(0,"span",33,34)}function P5(n,t){1&n&&s._UZ(0,"span",35,36)}const N5=function(n,t,e,i,r,o,u,f,m,b,S,k,U,q){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":o,"p-datatable-scrollable-horizontal":u,"p-datatable-scrollable-both":f,"p-datatable-flex-scrollable":m,"p-datatable-responsive-stack":b,"p-datatable-responsive-scroll":S,"p-datatable-responsive":k,"p-datatable-grouped-header":U,"p-datatable-grouped-footer":q}},F5=function(n){return{height:n}},L5=["pTableBody",""];function V5(n,t){1&n&&s.GkF(0)}const uI=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function B5(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,V5,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,uI,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function U5(n,t){1&n&&s.GkF(0)}function H5(n,t){if(1&n&&(s.ynx(0),s.YNc(1,U5,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.qbA(2,uI,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function z5(n,t){1&n&&s.GkF(0)}const W5=function(n,t,e,i,r,o,u){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:u}};function $5(n,t){if(1&n&&(s.ynx(0),s.YNc(1,z5,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.Hh0(2,W5,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function j5(n,t){1&n&&s.GkF(0)}function G5(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,j5,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,uI,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function Z5(n,t){if(1&n&&(s.YNc(0,B5,2,8,"ng-container",2),s.YNc(1,H5,2,8,"ng-container",0),s.YNc(2,$5,2,10,"ng-container",0),s.YNc(3,G5,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function q5(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Z5,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function K5(n,t){1&n&&s.GkF(0)}function Y5(n,t){if(1&n&&s.YNc(0,K5,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,uI,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function Q5(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Y5,1,8,"ng-template",5),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkVirtualForOf",e.dt.filteredValue||e.dt.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function J5(n,t){1&n&&s.GkF(0)}const dI=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function X5(n,t){if(1&n&&(s.ynx(0),s.YNc(1,J5,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,dI,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function eG(n,t){1&n&&s.GkF(0)}function tG(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,eG,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,dI,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function nG(n,t){1&n&&s.GkF(0)}function iG(n,t){1&n&&s.GkF(0)}function rG(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,iG,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,dI,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const HL=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function sG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,nG,1,0,"ng-container",4),s.YNc(2,rG,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,HL,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,r))}}function oG(n,t){if(1&n&&(s.YNc(0,X5,2,9,"ng-container",0),s.YNc(1,tG,2,9,"ng-container",2),s.YNc(2,sG,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function aG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,oG,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function lG(n,t){1&n&&s.GkF(0)}function cG(n,t){1&n&&s.GkF(0)}function uG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,cG,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,HL,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen))}}function dG(n,t){if(1&n&&(s.YNc(0,lG,1,0,"ng-container",4),s.YNc(1,uG,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,dI,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function hG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,dG,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function fG(n,t){1&n&&s.GkF(0)}const zL=function(n,t){return{$implicit:n,frozen:t}};function pG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,fG,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,zL,e.columns,e.frozen))}}function gG(n,t){1&n&&s.GkF(0)}function mG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,gG,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,zL,e.columns,e.frozen))}}let RM=(()=>{class n{constructor(){this.sortSource=new Bn.xQ,this.selectionSource=new Bn.xQ,this.contextMenuSource=new Bn.xQ,this.valueSource=new Bn.xQ,this.totalRecordsSource=new Bn.xQ,this.columnsSource=new Bn.xQ,this.resetSource=new Bn.xQ,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),WL=(()=>{class n{constructor(e,i,r,o,u,f){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=u,this.overlayService=f,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(m,b)=>b,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=GS()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(hn.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(hn.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,u)=>{let f=hn.resolveFieldData(o,e),m=hn.resolveFieldData(u,e),b=null;return b=null==f&&null!=m?-1:null!=f&&null==m?1:null==f&&null==m?0:"string"==typeof f&&"string"==typeof m?f.localeCompare(m):f<m?-1:f>m?1:0,i*b}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){let u=hn.resolveFieldData(e,r[o].field),f=hn.resolveFieldData(i,r[o].field),m=null;if(null==u&&null!=f)m=-1;else if(null!=u&&null==f)m=1;else if(null==u&&null==f)m=0;else if("string"==typeof u||u instanceof String){if(u.localeCompare&&u!=f)return r[o].order*u.localeCompare(f)}else m=u<f?-1:1;return u==f?r.length-1>o?this.multisortField(e,i,r,o+1):0:r[o].order*m}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!Le.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let u=e.rowData,f=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)Le.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=f,this.selectRange(e.originalEvent,f);else{let m=this.isSelected(u);if(!m&&!this.isRowSelectable(u,f))return;let b=!this.rowTouched&&this.metaKeySelection,S=this.dataKey?String(hn.resolveFieldData(u,this.dataKey)):null;if(this.anchorRowIndex=f,this.rangeRowIndex=f,b){let k=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(m&&k){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let U=this.findIndexInSelection(u);this._selection=this.selection.filter((q,le)=>le!=U),this.selectionChange.emit(this.selection),S&&delete this.selectionKeys[S]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row"})}else this.isSingleSelectionMode()?(this._selection=u,this.selectionChange.emit(u),S&&(this.selectionKeys={},this.selectionKeys[S]=1)):this.isMultipleSelectionMode()&&(k?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,u],this.selectionChange.emit(this.selection),S&&(this.selectionKeys[S]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:f})}else if("single"===this.selectionMode)m?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:f})):(this._selection=u,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:f}),S&&(this.selectionKeys={},this.selectionKeys[S]=1));else if("multiple"===this.selectionMode)if(m){let k=this.findIndexInSelection(u);this._selection=this.selection.filter((U,q)=>q!=k),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:f}),S&&delete this.selectionKeys[S]}else this._selection=this.selection?[...this.selection,u]:[u],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:f}),S&&(this.selectionKeys[S]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),u=this.dataKey?String(hn.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let u=[];for(let f=r;f<=o;f++){let m=this.filteredValue?this.filteredValue[f]:this.value[f];if(!this.isSelected(m)){if(!this.isRowSelectable(m,i))continue;u.push(m),this._selection=[...this.selection,m];let b=this.dataKey?String(hn.resolveFieldData(m,this.dataKey)):null;b&&(this.selectionKeys[b]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:u,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let u=this.value[o],f=this.findIndexInSelection(u);this._selection=this.selection.filter((b,S)=>S!=f);let m=this.dataKey?String(hn.resolveFieldData(u,this.dataKey)):null;m&&delete this.selectionKeys[m],this.onRowUnselect.emit({originalEvent:e,data:u,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[hn.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(hn.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(hn.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let u=this.findIndexInSelection(i);this._selection=this.selection.filter((f,m)=>m!=u),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let o=this.selectionPageOnly&&this._selection?this._selection.filter(u=>!r.some(f=>this.equals(u,f))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((u,f)=>this.rowSelectable({data:u,index:f})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:hn.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let f,r=!0,o=!1,u=!1;for(let m in this.filters)if(this.filters.hasOwnProperty(m)&&"global"!==m){u=!0;let b=m,S=this.filters[b];if(Array.isArray(S)){for(let k of S)if(r=this.executeLocalFilter(b,this.value[i],k),k.operator===_F.OR&&r||k.operator===_F.AND&&!r)break}else r=this.executeLocalFilter(b,this.value[i],S);if(!r)break}if(this.filters.global&&!o&&e)for(let m=0;m<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](hn.resolveFieldData(this.value[i],e[m].field||e[m]),this.filters.global.value,this.filterLocale),!o);m++);f=this.filters.global?u?u&&r&&o:o:u&&r,f&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,u=r.matchMode||Zo.STARTS_WITH,f=hn.resolveFieldData(i,e);return this.filterService.filters[u](f,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let m=0;m<o.length;m++){let b=o[m];!1!==b.exportable&&b.field&&(r+='"'+(b.header||b.field)+'"',m<o.length-1&&(r+=this.csvSeparator))}i.forEach((m,b)=>{r+="\n";for(let S=0;S<o.length;S++){let k=o[S];if(!1!==k.exportable&&k.field){let U=hn.resolveFieldData(m,k.field);U=null!=U?this.exportFunction?this.exportFunction({data:U,field:k.field}):String(U).replace(/"/g,'""'):"",r+='"'+U+'"',S<o.length-1&&(r+=this.csvSeparator)}}});let u=new Blob([r],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");f.style.display="none",document.body.appendChild(f),void 0!==f.download?(f.setAttribute("href",URL.createObjectURL(u)),f.setAttribute("download",this.exportFilename+".csv"),f.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(f)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,o=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.onLazyLoad.emit({first:r,rows:o,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top)}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Le.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(Le.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(hn.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===Le.find(i,".ng-invalid.ng-dirty").length){let r=String(hn.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(hn.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(hn.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(hn.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(hn.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=Le.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=Le.getOffset(this.containerViewChild.nativeElement).left;Le.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let u=this.resizeColumnElement.nextElementSibling,f=u.offsetWidth-e;r>15&&f>15&&(this.scrollable?this.resizeTableCells(r,f):(this.resizeColumnElement.style.width=r+"px",u&&(u.style.width=f+"px")))}else if("expand"===this.columnResizeMode){let u=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.minWidth=u+"px",this.resizeColumnElement.style.width=r+"px",this.scrollable?this.resizeTableCells(r,null):this.tableViewChild.nativeElement.style.width=u+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Le.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=Le.index(this.resizeColumnElement),o=[];const u=Le.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");Le.find(u,"tr > th").forEach(b=>o.push(Le.getOuterWidth(b))),this.destroyStyleElement(),this.createStyleElement();let m="";o.forEach((b,S)=>{let k=S===r?e:i&&S===r+1?i:b;m+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${S+1}) {\n                    flex: 0 0 ${k}px !important;\n                }\n\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${S+1}) {\n                    flex: 0 0 ${k}px !important;\n                }\n            `}),this.styleElement.innerHTML=m}onColumnDragStart(e,i){this.reorderIconWidth=Le.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Le.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=Le.getOffset(this.containerViewChild.nativeElement),o=Le.getOffset(i);if(this.draggedColumn!=i){let u=Le.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),f=Le.indexWithinGroup(i,"preorderablecolumn"),m=o.left-r.left,S=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>S?(this.reorderIndicatorUpViewChild.nativeElement.style.left=m+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=m+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=m-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=m-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),f-u==1&&-1===this.dropPosition||f-u==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=Le.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=Le.indexWithinGroup(i,"preorderablecolumn"),u=r!=o;u&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(u=!1),u&&o<r&&1===this.dropPosition&&(o+=1),u&&o>r&&-1===this.dropPosition&&(o-=1),u&&(hn.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=Le.getOffset(r).top+Le.getWindowScrollTop(),u=e.pageY,f=o+Le.getOuterHeight(r)/2,m=r.previousElementSibling;u<f?(Le.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,m?Le.addClass(m,"p-datatable-dragpoint-bottom"):Le.addClass(r,"p-datatable-dragpoint-top")):(m?Le.removeClass(m,"p-datatable-dragpoint-bottom"):Le.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,Le.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&Le.removeClass(r,"p-datatable-dragpoint-bottom"),Le.removeClass(i,"p-datatable-dragpoint-bottom"),Le.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;hn.reorderArray(this.value,this.draggedRowIndex,r),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let u=JSON.parse(i,function(u,f){return"string"==typeof f&&r.test(f)?new Date(f):f});this.paginator&&(void 0!==this.first&&(this.first=u.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=u.rows,this.rowsChange.emit(this.rows))),u.sortField&&(this.restoringSort=!0,this._sortField=u.sortField,this._sortOrder=u.sortOrder),u.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=u.multiSortMeta),u.filters&&(this.restoringFilter=!0,this.filters=u.filters),this.resizableColumns&&(this.columnWidthsState=u.columnWidths,this.tableWidthState=u.tableWidth),u.expandedRowKeys&&(this.expandedRowKeys=u.expandedRowKeys),u.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(u.selection)),this.stateRestored=!0,this.onStateRestore.emit(u)}}saveColumnWidths(e){let i=[];Le.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(Le.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=Le.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),this.createStyleElement(),this.scrollable&&e&&e.length>0){let i="";e.forEach((r,o)=>{i+=`\n                            #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${o+1}) {\n                                flex: 0 0 ${r}px;\n                            }\n\n                            #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${o+1}) {\n                                flex: 0 0 ${r}px;\n                            }\n                        `}),this.styleElement.innerHTML=i}else Le.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach((i,r)=>{i.style.width=e[r]+"px"})}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let u=[];o.map(f=>{let m=this.findColumnByKey(f);m&&u.push(m)}),this.columnOrderStateRestored=!0,this.columns=u}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(RM),s.Y36(s.sBO),s.Y36(mF),s.Y36(ZS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,qp,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(o5,5),s.Gf(a5,5),s.Gf(l5,5),s.Gf(c5,5),s.Gf(u5,5),s.Gf(d5,5),s.Gf(h5,5),s.Gf(kx,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([RM]),s.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,f5,2,2,"div",2),s.YNc(3,g5,2,1,"div",3),s.YNc(4,m5,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,C5,8,16,"table",7),s.YNc(8,D5,10,21,"cdk-virtual-scroll-viewport",8),s.qZA(),s.YNc(9,A5,1,17,"p-paginator",9),s.YNc(10,M5,2,1,"div",10),s.YNc(11,R5,2,0,"div",11),s.YNc(12,O5,2,0,"span",12),s.YNc(13,P5,2,0,"span",13),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.rFY(16,N5,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,F5,i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",!i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[xi,Xi,Si,yr,G$,HG,kx,TL]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),n})(),HG=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let o=hn.resolveFieldData(i,this.dt.groupRowsBy),u=e[r-1];return!u||o!==hn.resolveFieldData(u,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=hn.resolveFieldData(i,this.dt.groupRowsBy),u=e[r+1];return!u||o!==hn.resolveFieldData(u,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=hn.resolveFieldData(i,this.dt.groupRowsBy),u=e[r-1];return!u||o!==hn.resolveFieldData(u,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=hn.resolveFieldData(i,this.dt.groupRowsBy),u=o,f=0;for(;o===u;){f++;let m=e[++r];if(!m)break;u=hn.resolveFieldData(m,this.dt.groupRowsBy)}return 1===f?null:f}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=Le.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=Le.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(WL),s.Y36(RM),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:L5,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(s.YNc(0,q5,2,2,"ng-container",0),s.YNc(1,Q5,2,3,"ng-container",0),s.YNc(2,aG,2,2,"ng-container",0),s.YNc(3,hG,2,2,"ng-container",0),s.YNc(4,pG,2,5,"ng-container",0),s.YNc(5,mG,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[Si,mr,yr,AL],encapsulation:2}),n})(),zG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,Z$,AM,IM,lI,rw,tw,ij,s5,kM,uj],Ud,lI]}),n})();const WG=function(n,t,e){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":t,"p-focus":e}},$G={provide:_a,useExisting:(0,s.Gpc)(()=>OM),multi:!0};let OM=(()=>{class n{constructor(e){this.cd=e,this.trueValue=!0,this.falseValue=!1,this.onChange=new s.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(e.preventDefault(),this.toggle(e),i.focus())}onInputChange(e){this.readonly||this.updateModel(e,e.target.checked)}toggle(e){this.updateModel(e,!this.checked())}updateModel(e,i){this.modelValue=i?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue})}onFocus(e){this.focused=!0}onBlur(e){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[s._Bn([$G])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s.NdJ("click",function(u){s.CHM(r);const f=s.MAs(3);return i.onClick(u,f)}),s.TgZ(1,"div",1),s.TgZ(2,"input",2,3),s.NdJ("change",function(u){return i.onInputChange(u)})("focus",function(u){return i.onFocus(u)})("blur",function(u){return i.onBlur(u)}),s.qZA(),s.qZA(),s._UZ(4,"span",4),s.qZA()}2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(11,WG,i.checked(),i.disabled,i.focused))("ngStyle",i.style),s.xp6(2),s.Q6J("checked",i.checked())("disabled",i.disabled),s.uIk("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy))},directives:[Xi,xi],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),n})(),$L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();function jG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s.TgZ(2,"span"),s.TgZ(3,"b"),s._uU(4,"Spectate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"td"),s.TgZ(6,"p-inputSwitch",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).spectate()})("ngModelChange",function(r){return s.CHM(e),s.oxw(2).checked=r}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"tr",21),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).logout()}),s.TgZ(8,"td",22),s._UZ(9,"i",23),s._uU(10," Log out"),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(6),s.Q6J("ngModel",e.checked)}}const GG=function(){return{}},ZG=function(n){return[n]};function qG(n,t){1&n&&(s.TgZ(0,"p-table",17,18),s.YNc(2,jG,11,1,"ng-template",19),s.qZA()),2&n&&s.Q6J("value",s.VKq(2,ZG,s.DdM(1,GG)))}let KG=(()=>{class n{constructor(e,i,r){this.authService=e,this.route=i,this.roomService=r,this.checked=!1,this.roomID=""}ngOnInit(){var e=this;return(0,Ye.Z)(function*(){e.roomID=e.route.snapshot.children[0].params.roomId,e.player=e.authService.getUser(),e.room=e.roomService.get(e.roomID),e.checked=yield e.roomService.checkIfIsSpectator(e.room,e.player),e.items=[{label:"File",items:[{label:"New",icon:"pi pi-fw pi-plus",items:[{label:"Project"},{label:"Other"}]},{label:"Open"},{label:"Quit"}]},{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Delete",icon:"pi pi-fw pi-trash"},{label:"Refresh",icon:"pi pi-fw pi-refresh"}]}]})()}spectate(){this.roomService.spectate(this.room,this.player,this.checked)}logout(){var e=this;return(0,Ye.Z)(function*(){yield e.authService.signOut()})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($S),s.Y36(la),s.Y36(Jk))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:25,vars:1,consts:[[1,"surface-overlay","px-6","flex","align-items-center","justify-content-between","relative","lg:static",2,"min-height","80px"],["pRipple","","pstyleclass","@next","enterclass","hidden","leavetoclass","hidden","routerLink","/",1,"p-ripple","p-element","cursor-pointer","block","text-700","p-2","text-decoration-none","w-3"],["pRipple","","pstyleclass","@next","enterclass","hidden","leavetoclass","hidden",1,"p-ripple","p-element","cursor-pointer","block","lg:hidden","text-700"],[1,"pi","pi-bars","text-4xl"],[1,"p-ink"],[1,"align-items-center","flex-grow-1","justify-content-between","hidden","lg:flex","absolute","lg:static","w-full","surface-overlay","left-0","top-100","z-1","shadow-2","lg:shadow-none"],[1,"list-none","p-0","m-0","flex","lg:align-items-center","select-none","flex-column","lg:flex-row","border-top-1","surface-border","lg:border-top-none","float-right"],[1,"lg:relative"],["pRipple","","href","https://github.com/Wolffyx/Scrum-Pocker-Picker","target","_blank",1,"p-ripple","p-element","flex","px-6","p-3","lg:px-3","lg:py-2","align-items-center","text-600","hover:text-900","hover:surface-100","font-medium","border-round","cursor-pointer","transition-colors","transition-duration-150","text-decoration-none"],[1,"pi","pi-github","text-base","lg:text-2xl","mr-2","lg:mr-0"],[1,"block","lg:hidden","font-medium"],[1,"border-top-1","surface-border","lg:border-top-none"],["pRipple","",1,"p-ripple","p-element","flex","px-6","p-3","lg:px-3","lg:py-2","align-items-center","hover:surface-100","font-medium","border-round","cursor-pointer","transition-colors","transition-duration-150",3,"click"],[1,"block","font-medium"],[1,"pi","pi-user","text-base","lg:text-2xl","mr-2","ml-1"],["op",""],["pTemplate",""],["selectionMode","single",3,"value"],["table",""],["pTemplate","body"],[3,"ngModel","click","ngModelChange"],[1,"font-bold",2,"cursor","pointer",3,"click"],["colspan","2"],[1,"pi","pi-sign-out"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"a",1),s.TgZ(2,"h3"),s._uU(3,"Scrum poker picker"),s.qZA(),s.qZA(),s.TgZ(4,"a",2),s._UZ(5,"i",3),s._UZ(6,"span",4),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"ul",6),s.TgZ(9,"li",7),s.TgZ(10,"a",8),s._UZ(11,"i",9),s.TgZ(12,"span",10),s._uU(13,"Github"),s.qZA(),s._UZ(14,"span",4),s.qZA(),s.qZA(),s.TgZ(15,"li",11),s.TgZ(16,"a",12),s.NdJ("click",function(u){return s.CHM(r),s.MAs(23).show(u)}),s.TgZ(17,"span",13),s._uU(18),s.qZA(),s._UZ(19,"i",14),s._UZ(20,"span",4),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(21,"p-divider"),s.TgZ(22,"p-overlayPanel",null,15),s.YNc(24,qG,3,4,"ng-template",16),s.qZA()}2&e&&(s.xp6(18),s.hij("",null==i.player?null:i.player.displayName," "))},directives:[Zf,sf,B8,Z8,qp,WL,OM,nw,Qm],styles:[""]}),n})(),YG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-layout"]],decls:4,vars:0,consts:[[1,"grid"],[1,"col"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s.qZA(),s.qZA(),s._UZ(3,"router-outlet"))},directives:[KG,lg],styles:[""]}),n})(),QG=(()=>{class n{constructor(e,i,r,o){this.router=e,this.authService=i,this.location=r,this.route=o,this.username="",this.returnUrl=""}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}login(){var e=this;return(0,Ye.Z)(function*(){console.log(e.username),yield e.authService.signIn(e.username),yield e.location.back()})()}logout(){var e=this;return(0,Ye.Z)(function*(){yield e.authService.signOut()})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bi),s.Y36($S),s.Y36(Ve),s.Y36(la))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:8,vars:2,consts:[[1,"surface-section","px-4","py-8","md:px-6","lg:px-8"],[1,"text-700","text-center"],[1,"text-900","font-bold","text-5xl","mb-3"],[1,"text-700","text-2xl","mb-5"],[1,"p-float-label"],["id","username","pInputText","","type","text","placeholder","Username","required","","name","username",3,"ngModel","ngModelChange"],["pButton","","pRipple","","label","Log in","icon","pi pi-sign-in",1,"font-bold","px-5","py-3","p-button-raised","white-space-nowrap",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s._uU(3,"Insert your name"),s.qZA(),s.TgZ(4,"div",3),s.TgZ(5,"span",4),s.TgZ(6,"input",5),s.NdJ("ngModelChange",function(o){return i.username=o}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.login()}),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(6),s.Q6J("ngModel",i.username),s.xp6(1),s.Q6J("disabled",!i.username))},directives:[Cx,DM,sI,nw,Qm,wx,sf],styles:[""]}),n})(),JG=(()=>{class n{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let i=Le.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&s.NdJ("keydown.tab",function(o){return i.onkeydown(o)})("keydown.shift.tab",function(o){return i.onkeydown(o)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii]]}),n})();const eZ=["titlebar"],tZ=["content"],nZ=["footer"];function iZ(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.uIk("id",e.id+"-label"),s.xp6(1),s.Oqu(e.header)}}function rZ(n,t){if(1&n&&(s.TgZ(0,"span",17),s.Hsn(1,1),s.qZA()),2&n){const e=s.oxw(4);s.uIk("id",e.id+"-label")}}function sZ(n,t){1&n&&s.GkF(0)}const oZ=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function aZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).maximize()})("keydown.enter",function(){return s.CHM(e),s.oxw(4).maximize()}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(2,oZ)),s.xp6(1),s.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const lZ=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function cZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(4).close(r)}),s._UZ(1,"span",21),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(4,lZ)),s.uIk("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),s.xp6(1),s.Q6J("ngClass",e.closeIcon)}}function uZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11,12),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw(3).initDrag(r)}),s.YNc(2,iZ,2,2,"span",13),s.YNc(3,rZ,2,1,"span",13),s.YNc(4,sZ,1,0,"ng-container",8),s.TgZ(5,"div",14),s.YNc(6,aZ,2,3,"button",15),s.YNc(7,cZ,2,5,"button",16),s.qZA(),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.headerFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(2),s.Q6J("ngIf",e.maximizable),s.xp6(1),s.Q6J("ngIf",e.closable)}}function dZ(n,t){1&n&&s.GkF(0)}function hZ(n,t){1&n&&s.GkF(0)}function fZ(n,t){if(1&n&&(s.TgZ(0,"div",22,23),s.Hsn(2,2),s.YNc(3,hZ,1,0,"ng-container",8),s.qZA()),2&n){const e=s.oxw(3);s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}function pZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw(3).initResize(r)}),s.qZA()}}const gZ=function(n,t,e,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":t,"p-dialog-resizable":e,"p-dialog-maximized":i}},mZ=function(n,t){return{transform:n,transition:t}},_Z=function(n){return{value:"visible",params:n}};function yZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3,4),s.NdJ("@animation.start",function(r){return s.CHM(e),s.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw(2).onAnimationEnd(r)}),s.YNc(2,uZ,8,5,"div",5),s.TgZ(3,"div",6,7),s.Hsn(5),s.YNc(6,dZ,1,0,"ng-container",8),s.qZA(),s.YNc(7,fZ,4,1,"div",9),s.YNc(8,pZ,1,0,"div",10),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.l5B(15,gZ,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",s.VKq(23,_Z,s.WLB(20,mZ,e.transformOptions,e.transitionOptions))),s.uIk("aria-labelledby",e.id+"-label"),s.xp6(2),s.Q6J("ngIf",e.showHeader),s.xp6(1),s.Tol(e.contentStyleClass),s.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate),s.xp6(1),s.Q6J("ngIf",e.footerFacet||e.footerTemplate),s.xp6(1),s.Q6J("ngIf",e.resizable)}}const vZ=function(n,t,e,i,r,o,u,f,m,b){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":t,"p-dialog-left":e,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":u,"p-dialog-bottom":f,"p-dialog-bottom-left":m,"p-dialog-bottom-right":b}};function bZ(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,yZ,9,25,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",s.rFY(4,vZ,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),s.xp6(1),s.Q6J("ngIf",e.visible)}}const wZ=["*",[["p-header"]],[["p-footer"]]],CZ=["*","p-header","p-footer"],EZ=N_([xr({transform:"{{transform}}",opacity:0}),_o("{{transition}}")]),xZ=N_([_o("{{transition}}",xr({transform:"{{transform}}",opacity:0}))]);let TZ=(()=>{class n{constructor(e,i,r,o,u){this.el=e,this.renderer=i,this.zone=r,this.cd=o,this.config=u,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this.onResizeInit=new s.vpe,this.onResizeEnd=new s.vpe,this.onDragEnd=new s.vpe,this.onMaximize=new s.vpe,this.id=GS(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=Le.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&Le.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Le.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Le.addClass(document.body,"p-overflow-hidden"):Le.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Qa.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){Le.hasClass(e.target,"p-dialog-header-icon")||Le.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",Le.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let i=Le.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}onDrag(e){if(this.dragging){let i=Le.getOuterWidth(this.container),r=Le.getOuterHeight(this.container),o=e.pageX-this.lastPageX,u=e.pageY-this.lastPageY,f=Le.getOffset(this.container),m=f.left+o,b=f.top+u,S=Le.getViewport();this.container.style.position="fixed",this.keepInViewport?(m>=this.minX&&m+i<S.width&&(this._style.left=m+"px",this.lastPageX=e.pageX,this.container.style.left=m+"px"),b>=this.minY&&b+r<S.height&&(this._style.top=b+"px",this.lastPageY=e.pageY,this.container.style.top=b+"px")):(this.lastPageX=e.pageX,this.container.style.left=m+"px",this.lastPageY=e.pageY,this.container.style.top=b+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,Le.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,Le.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,o=Le.getOuterWidth(this.container),u=Le.getOuterHeight(this.container),f=Le.getOuterHeight(this.contentViewChild.nativeElement),m=o+i,b=u+r,S=this.container.style.minWidth,k=this.container.style.minHeight,U=Le.getOffset(this.container),q=Le.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(m+=i,b+=r),(!S||m>parseInt(S))&&U.left+m<q.width&&(this._style.width=m+"px",this.container.style.width=this._style.width),(!k||b>parseInt(k))&&U.top+b<q.height&&(this.contentViewChild.nativeElement.style.height=f+b-u+"px",this._style.height&&(this._style.height=b+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,Le.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Le.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Le.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&Le.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Le.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Le.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Qa.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(xy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,d8,5),s.Suo(r,h8,5),s.Suo(r,qp,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.headerFacet=o.first),s.iGM(o=s.CRH())&&(i.footerFacet=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(eZ,5),s.Gf(tZ,5),s.Gf(nZ,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.headerViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first),s.iGM(r=s.CRH())&&(i.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:CZ,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,i){1&e&&(s.F$t(wZ),s.YNc(0,bZ,2,15,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},directives:[Si,Xi,JG,xi,yr,sf],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Kf("animation",[dn("void => visible",[F_(EZ)]),dn("visible => void",[F_(xZ)])])]},changeDetection:0}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,XG,af],Ud]}),n})();function IZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(){return s.CHM(e),s.oxw().displayBasic=!1}),s.qZA(),s.TgZ(1,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().createRoom()}),s.qZA()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("loading",e.loading)}}let DZ=(()=>{class n{constructor(e,i,r,o){this.pick=e,this.authService=i,this.titleService=r,this.route=o,this.roomName="",this.loading=!1}ngOnInit(){var e=this;return(0,Ye.Z)(function*(){e.user=yield e.authService.getUser(),e.titleService.setTitle(e.route.snapshot.data.title)})()}createRoom(){this.loading=!0,console.log(this.roomName),this.pick.create(this.roomName,this.user).finally(()=>{this.loading=!1,this.displayBasic=!1})}showBasicDialog(){this.displayBasic=!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jk),s.Y36($S),s.Y36(Xo),s.Y36(la))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:10,vars:4,consts:[[1,"grid"],[1,"col"],[1,"surface-section","px-4","py-8","md:px-6","lg:px-8"],[1,"text-700","text-center"],["icon","pi pi-plus","label","Create room",3,"click"],["header","Create room",3,"visible","dismissableMask","closeOnEscape","visibleChange"],[1,"grid","flex-column","justify-content-center","align-items-center","align-content-center"],["id","roomName","pInputText","","placeholder","Room name","type","text",3,"ngModel","ngModelChange"],["pTemplate","footer"],["icon","pi pi-times","label","Cancel","pButton","",1,"p-button-text","p-button-danger",3,"click"],["icon","pi pi-check","label","Create room","pButton","",1,"p-button-text",3,"loading","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.qZA(),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"p-button",4),s.NdJ("click",function(){return i.displayBasic=!0}),s.qZA(),s.TgZ(5,"p-dialog",5),s.NdJ("visibleChange",function(o){return i.displayBasic=o}),s.TgZ(6,"div",6),s.TgZ(7,"div",1),s.TgZ(8,"input",7),s.NdJ("ngModelChange",function(o){return i.roomName=o}),s.qZA(),s.qZA(),s.qZA(),s.YNc(9,IZ,2,1,"ng-template",8),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.Q6J("visible",i.displayBasic)("dismissableMask",!0)("closeOnEscape",!0),s.xp6(3),s.Q6J("ngModel",i.roomName))},directives:[b8,TZ,Cx,DM,nw,Qm,qp,wx],styles:[""]}),n})();const PM=(0,un.U)(n=>!!n);let jL=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,o)=>{const u=r.data.authGuardPipe||(()=>PM);return this.auth.user.pipe(js(1),u(r,o),(0,un.U)(f=>"boolean"==typeof f?f:Array.isArray(f)?this.router.createUrlTree(f):this.router.parseUrl(f)))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bi),s.LFG(Hb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var kZ=O(4843);const GL=(0,un.U)(n=>!!n),PZ=[{path:"",component:YG,canActivate:[jL],children:[{path:"",component:DZ,data:{title:"Scrum poker picker"}},{path:"room/:roomId",component:L8}],data:{authGuardPipe:()=>(n=>(0,kZ.z)(GL,(0,un.U)(t=>t||n)))(["login"])}},{path:"login",component:QG}];let NZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hc.forRoot(PZ)],hc]}),n})(),FZ=(()=>{class n{constructor(){this.config={theme:"mdc-dark-indigo",dark:!1,inputStyle:"outlined",ripple:!0},this.configUpdate=new Bn.xQ,this.configUpdate$=this.configUpdate.asObservable()}updateConfig(e){this.config=e,this.configUpdate.next(e)}getConfig(){return this.config}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-input-style-switch"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"input-style-switch works!"),s.qZA())},styles:[""]}),n})();const VZ=function(n){return{"scale-active":n}};function BZ(n,t){if(1&n&&s._UZ(0,"i",49),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(1,VZ,e===i.scale))}}const UZ=function(n){return{"layout-config-active":n}};let HZ=(()=>{class n{constructor(e,i,r){this.el=e,this.router=i,this.configService=r,this.scale=14,this.scales=[12,13,14,15,16],this.config={}}ngOnInit(){var e;this.config=this.configService.config,this.subscription=this.configService.configUpdate$.subscribe(i=>{this.config=i,this.scale="nano"===this.config.theme?12:14,this.applyScale()}),this.router.events.subscribe(i=>{i instanceof Vu&&(this.active=!1)}),"nano"===(null===(e=this.config)||void 0===e?void 0:e.theme)&&(this.scale=12)}toggleConfigurator(e){this.active=!this.active,e.preventDefault(),this.active?this.bindOutsideClickListener():this.unbindOutsideClickListener()}hideConfigurator(e){this.active=!1,this.unbindOutsideClickListener(),e.preventDefault()}changeTheme(e,i,r){let o=document.getElementById("theme-link");o.setAttribute("href",o.getAttribute("href").replace(this.config.theme,i)),this.configService.updateConfig(Object.assign(Object.assign({},this.config),{theme:i,dark:r})),e.preventDefault()}onRippleChange(){var e;this.configService.updateConfig(this.config),(null===(e=this.config)||void 0===e?void 0:e.ripple)?Le.removeClass(document.body,"p-ripple-disabled"):Le.addClass(document.body,"p-ripple-disabled")}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.active&&this.isOutsideClicked(e)&&(this.active=!1)},document.addEventListener("click",this.outsideClickListener))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target))}decrementScale(){this.scale--,this.applyScale()}incrementScale(){this.scale++,this.applyScale()}applyScale(){document.documentElement.style.fontSize=this.scale+"px"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Bi),s.Y36(FZ))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-config"]],decls:212,vars:7,consts:[[1,"layout-config",3,"ngClass"],[1,"layout-config-content-wrapper"],["tabindex","0",1,"layout-config-button",3,"click"],[1,"pi","pi-cog"],["tabindex","0",1,"layout-config-close",3,"click"],[1,"pi","pi-times"],[1,"layout-config-content"],[1,"config-scale"],["icon","pi pi-minus","pButton","","type","button",1,"p-button-text",3,"disabled","click"],["class","pi pi-circle-on",3,"ngClass",4,"ngFor","ngForOf"],["icon","pi pi-plus","pButton","","type","button",1,"p-button-text",3,"disabled","click"],[3,"ngModel","onChange","ngModelChange"],[1,"grid","free-themes"],[1,"col"],[1,"p-link",3,"click"],["alt","Bootstrap Light Blue","src","assets/images/themes/bootstrap4-light-blue.svg"],["alt","Bootstrap Light Purple","src","assets/images/themes/bootstrap4-light-purple.svg"],["alt","Bootstrap Dark Blue","src","assets/images/themes/bootstrap4-dark-blue.svg"],["alt","Bootstrap Dark Purple","src","assets/images/themes/bootstrap4-dark-purple.svg"],["alt","Material Light Indigo","src","assets/images/themes/md-light-indigo.svg"],["alt","Material Light Deep Purple","src","assets/images/themes/md-light-deeppurple.svg"],["alt","Material Dark Indigo","src","assets/images/themes/md-dark-indigo.svg"],["alt","Material Dark Deep Purple","src","assets/images/themes/md-dark-deeppurple.svg"],["alt","Material Compact Light Indigo","src","assets/images/themes/md-light-indigo.svg"],["alt","Material Compact Deep Purple","src","assets/images/themes/md-light-deeppurple.svg"],["alt","Material Compact Dark Indigo","src","assets/images/themes/md-dark-indigo.svg"],["alt","Material Compact Dark Deep Purple","src","assets/images/themes/md-dark-deeppurple.svg"],["alt","Tailwind Light","src","assets/images/themes/tailwind-light.png"],["alt","Fluent Light","src","assets/images/themes/fluent-light.png"],["alt","Saga Blue","src","assets/images/themes/saga-blue.png"],["alt","Saga Green","src","assets/images/themes/saga-green.png"],["alt","Saga Orange","src","assets/images/themes/saga-orange.png"],["alt","Saga Purple","src","assets/images/themes/saga-purple.png"],["alt","Vela Blue","src","assets/images/themes/vela-blue.png"],["alt","Vela Green","src","assets/images/themes/vela-green.png"],["alt","Vela Orange","src","assets/images/themes/vela-orange.png"],["alt","Vela Purple","src","assets/images/themes/vela-purple.png"],["alt","Arya Blue","src","assets/images/themes/arya-blue.png"],["alt","Arya Green","src","assets/images/themes/arya-green.png"],["alt","Arya Orange","src","assets/images/themes/arya-orange.png"],["alt","Arya Purple","src","assets/images/themes/arya-purple.png"],["alt","Nova","src","assets/images/themes/nova.png"],["alt","Nova Alt","src","assets/images/themes/nova-alt.png"],["alt","Nova Accent","src","assets/images/themes/nova-accent.png"],["alt","Luna Blue","src","assets/images/themes/luna-blue.png"],["alt","Luna Green","src","assets/images/themes/luna-green.png"],["alt","Luna Amber","src","assets/images/themes/luna-amber.png"],["alt","Luna Pink","src","assets/images/themes/luna-pink.png"],["alt","Rhea","src","assets/images/themes/rhea.png"],[1,"pi","pi-circle-on",3,"ngClass"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"a",2),s.NdJ("click",function(o){return i.toggleConfigurator(o)}),s._UZ(3,"i",3),s.qZA(),s.TgZ(4,"a",4),s.NdJ("click",function(o){return i.hideConfigurator(o)}),s._UZ(5,"i",5),s.qZA(),s.TgZ(6,"div",6),s.TgZ(7,"div"),s.TgZ(8,"h4"),s._uU(9,"Component Scale"),s.qZA(),s.TgZ(10,"div",7),s.TgZ(11,"button",8),s.NdJ("click",function(){return i.decrementScale()}),s.qZA(),s.YNc(12,BZ,1,3,"i",9),s.TgZ(13,"button",10),s.NdJ("click",function(){return i.incrementScale()}),s.qZA(),s.qZA(),s._UZ(14,"app-input-style-switch"),s.TgZ(15,"h4"),s._uU(16,"Ripple Effect"),s.qZA(),s.TgZ(17,"p-inputSwitch",11),s.NdJ("onChange",function(){return i.onRippleChange()})("ngModelChange",function(o){return i.config.ripple=o}),s.qZA(),s.TgZ(18,"h4"),s._uU(19,"Free Themes"),s.qZA(),s.TgZ(20,"h5"),s._uU(21,"Bootstrap"),s.qZA(),s.TgZ(22,"div",12),s.TgZ(23,"div",13),s.TgZ(24,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"bootstrap4-light-blue",!1)}),s._UZ(25,"img",15),s.qZA(),s.TgZ(26,"span"),s._uU(27,"Blue"),s.qZA(),s.qZA(),s.TgZ(28,"div",13),s.TgZ(29,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"bootstrap4-light-purple",!1)}),s._UZ(30,"img",16),s.qZA(),s.TgZ(31,"span"),s._uU(32,"Purple"),s.qZA(),s.qZA(),s.TgZ(33,"div",13),s.TgZ(34,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"bootstrap4-dark-blue",!0)}),s._UZ(35,"img",17),s.qZA(),s.TgZ(36,"span"),s._uU(37,"Blue"),s.qZA(),s.qZA(),s.TgZ(38,"div",13),s.TgZ(39,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"bootstrap4-dark-purple",!0)}),s._UZ(40,"img",18),s.qZA(),s.TgZ(41,"span"),s._uU(42,"Purple"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"h5"),s._uU(44,"Material Design"),s.qZA(),s.TgZ(45,"div",12),s.TgZ(46,"div",13),s.TgZ(47,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"md-light-indigo",!1)}),s._UZ(48,"img",19),s.qZA(),s.TgZ(49,"span"),s._uU(50,"Indigo"),s.qZA(),s.qZA(),s.TgZ(51,"div",13),s.TgZ(52,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"md-light-deeppurple",!1)}),s._UZ(53,"img",20),s.qZA(),s.TgZ(54,"span"),s._uU(55,"Deep Purple"),s.qZA(),s.qZA(),s.TgZ(56,"div",13),s.TgZ(57,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"md-dark-indigo",!0)}),s._UZ(58,"img",21),s.qZA(),s.TgZ(59,"span"),s._uU(60,"Indigo"),s.qZA(),s.qZA(),s.TgZ(61,"div",13),s.TgZ(62,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"md-dark-deeppurple",!0)}),s._UZ(63,"img",22),s.qZA(),s.TgZ(64,"span"),s._uU(65,"Deep Purple"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(66,"h5"),s._uU(67,"Material Design Compact"),s.qZA(),s.TgZ(68,"div",12),s.TgZ(69,"div",13),s.TgZ(70,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"mdc-light-indigo",!1)}),s._UZ(71,"img",23),s.qZA(),s.TgZ(72,"span"),s._uU(73,"Indigo"),s.qZA(),s.qZA(),s.TgZ(74,"div",13),s.TgZ(75,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"mdc-light-deeppurple",!1)}),s._UZ(76,"img",24),s.qZA(),s.TgZ(77,"span"),s._uU(78,"Deep Purple"),s.qZA(),s.qZA(),s.TgZ(79,"div",13),s.TgZ(80,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"mdc-dark-indigo",!0)}),s._UZ(81,"img",25),s.qZA(),s.TgZ(82,"span"),s._uU(83,"Indigo"),s.qZA(),s.qZA(),s.TgZ(84,"div",13),s.TgZ(85,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"mdc-dark-deeppurple",!0)}),s._UZ(86,"img",26),s.qZA(),s.TgZ(87,"span"),s._uU(88,"Deep Purple"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(89,"h5"),s._uU(90,"Tailwind"),s.qZA(),s.TgZ(91,"div",12),s.TgZ(92,"div",13),s.TgZ(93,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"tailwind-light",!1)}),s._UZ(94,"img",27),s.qZA(),s.TgZ(95,"span"),s._uU(96,"Tailwind Light"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(97,"h5"),s._uU(98,"Fluent UI"),s.qZA(),s.TgZ(99,"div",12),s.TgZ(100,"div",13),s.TgZ(101,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"fluent-light",!1)}),s._UZ(102,"img",28),s.qZA(),s.TgZ(103,"span"),s._uU(104,"Light"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(105,"h5"),s._uU(106,"PrimeOne Design"),s.qZA(),s.TgZ(107,"div",12),s.TgZ(108,"div",13),s.TgZ(109,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"saga-blue",!1)}),s._UZ(110,"img",29),s.qZA(),s.TgZ(111,"span"),s._uU(112,"Saga Blue"),s.qZA(),s.qZA(),s.TgZ(113,"div",13),s.TgZ(114,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"saga-green",!1)}),s._UZ(115,"img",30),s.qZA(),s.TgZ(116,"span"),s._uU(117,"Saga Green"),s.qZA(),s.qZA(),s.TgZ(118,"div",13),s.TgZ(119,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"saga-orange",!1)}),s._UZ(120,"img",31),s.qZA(),s.TgZ(121,"span"),s._uU(122,"Saga Orange"),s.qZA(),s.qZA(),s.TgZ(123,"div",13),s.TgZ(124,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"saga-purple",!1)}),s._UZ(125,"img",32),s.qZA(),s.TgZ(126,"span"),s._uU(127,"Saga Purple"),s.qZA(),s.qZA(),s.TgZ(128,"div",13),s.TgZ(129,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"vela-blue",!0)}),s._UZ(130,"img",33),s.qZA(),s.TgZ(131,"span"),s._uU(132,"Vela Blue"),s.qZA(),s.qZA(),s.TgZ(133,"div",13),s.TgZ(134,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"vela-green",!0)}),s._UZ(135,"img",34),s.qZA(),s.TgZ(136,"span"),s._uU(137,"Vela Green"),s.qZA(),s.qZA(),s.TgZ(138,"div",13),s.TgZ(139,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"vela-orange",!0)}),s._UZ(140,"img",35),s.qZA(),s.TgZ(141,"span"),s._uU(142,"Vela Orange"),s.qZA(),s.qZA(),s.TgZ(143,"div",13),s.TgZ(144,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"vela-purple",!0)}),s._UZ(145,"img",36),s.qZA(),s.TgZ(146,"span"),s._uU(147,"Vela Purple"),s.qZA(),s.qZA(),s.TgZ(148,"div",13),s.TgZ(149,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"arya-blue",!0)}),s._UZ(150,"img",37),s.qZA(),s.TgZ(151,"span"),s._uU(152,"Arya Blue"),s.qZA(),s.qZA(),s.TgZ(153,"div",13),s.TgZ(154,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"arya-green",!0)}),s._UZ(155,"img",38),s.qZA(),s.TgZ(156,"span"),s._uU(157,"Arya Green"),s.qZA(),s.qZA(),s.TgZ(158,"div",13),s.TgZ(159,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"arya-orange",!0)}),s._UZ(160,"img",39),s.qZA(),s.TgZ(161,"span"),s._uU(162,"Arya Orange"),s.qZA(),s.qZA(),s.TgZ(163,"div",13),s.TgZ(164,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"arya-purple",!0)}),s._UZ(165,"img",40),s.qZA(),s.TgZ(166,"span"),s._uU(167,"Arya Purple"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(168,"h4"),s._uU(169,"Legacy Free Themes"),s.qZA(),s.TgZ(170,"div",12),s.TgZ(171,"div",13),s.TgZ(172,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"nova",!1)}),s._UZ(173,"img",41),s.qZA(),s.TgZ(174,"span"),s._uU(175,"Nova"),s.qZA(),s.qZA(),s.TgZ(176,"div",13),s.TgZ(177,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"nova-alt",!1)}),s._UZ(178,"img",42),s.qZA(),s.TgZ(179,"span"),s._uU(180,"Nova Alt"),s.qZA(),s.qZA(),s.TgZ(181,"div",13),s.TgZ(182,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"nova-accent",!1)}),s._UZ(183,"img",43),s.qZA(),s.TgZ(184,"span"),s._uU(185,"Nova Accent"),s.qZA(),s.qZA(),s._UZ(186,"div",13),s.TgZ(187,"div",13),s.TgZ(188,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"luna-blue",!0)}),s._UZ(189,"img",44),s.qZA(),s.TgZ(190,"span"),s._uU(191,"Luna Blue"),s.qZA(),s.qZA(),s.TgZ(192,"div",13),s.TgZ(193,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"luna-green",!0)}),s._UZ(194,"img",45),s.qZA(),s.TgZ(195,"span"),s._uU(196,"Luna Green"),s.qZA(),s.qZA(),s.TgZ(197,"div",13),s.TgZ(198,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"luna-amber",!0)}),s._UZ(199,"img",46),s.qZA(),s.TgZ(200,"span"),s._uU(201,"Luna Amber"),s.qZA(),s.qZA(),s.TgZ(202,"div",13),s.TgZ(203,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"luna-pink",!0)}),s._UZ(204,"img",47),s.qZA(),s.TgZ(205,"span"),s._uU(206,"Luna Pink"),s.qZA(),s.qZA(),s.TgZ(207,"div",13),s.TgZ(208,"button",14),s.NdJ("click",function(o){return i.changeTheme(o,"rhea",!1)}),s._UZ(209,"img",48),s.qZA(),s.TgZ(210,"span"),s._uU(211,"Rhea"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ngClass",s.VKq(5,UZ,i.active)),s.xp6(11),s.Q6J("disabled",i.scale===i.scales[0]),s.xp6(1),s.Q6J("ngForOf",i.scales),s.xp6(1),s.Q6J("disabled",i.scale===i.scales[i.scales.length-1]),s.xp6(4),s.Q6J("ngModel",i.config.ripple))},directives:[Xi,mr,LZ,OM,nw,Qm],styles:[".layout-config[_ngcontent-%COMP%]{position:fixed;padding:0;top:0;right:0;display:block;width:550px;z-index:1101;height:100%;transition:transform .4s cubic-bezier(.05,.74,.2,.99);transform:translate(100%);-webkit-backface-visibility:hidden;backface-visibility:hidden}.layout-config.layout-config-active[_ngcontent-%COMP%]{transform:translate(0)}.layout-config.layout-config-active[_ngcontent-%COMP%]   .layout-config-content-wrapper[_ngcontent-%COMP%]   .layout-config-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(0)}.layout-config[_ngcontent-%COMP%]   .layout-config-content-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;box-shadow:0 2px 10px #0000003d;color:var(--text-color);background-color:var(--surface-f)}.layout-config[_ngcontent-%COMP%]   .layout-config-content-wrapper[_ngcontent-%COMP%]   .layout-config-button[_ngcontent-%COMP%]{display:block;position:absolute;width:52px;height:52px;line-height:52px;background-color:var(--primary-color);text-align:center;color:var(--primary-color-text);top:350px;left:-51px;z-index:-1;overflow:hidden;cursor:pointer;outline:0 none;border-radius:3px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.layout-config[_ngcontent-%COMP%]   .layout-config-content-wrapper[_ngcontent-%COMP%]   .layout-config-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px;line-height:inherit;cursor:pointer;transform:rotate(360deg);transition:transform 1s}.layout-config[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3;font-weight:600}.layout-config[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.layout-config[_ngcontent-%COMP%]   .layout-config-content[_ngcontent-%COMP%]{overflow:auto;height:100%;padding:2rem}.layout-config[_ngcontent-%COMP%]   .config-scale[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1rem 0 2rem}.layout-config[_ngcontent-%COMP%]   .config-scale[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin-right:.5rem}.layout-config[_ngcontent-%COMP%]   .config-scale[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;font-size:.75rem;color:var(--text-color-secondary)}.layout-config[_ngcontent-%COMP%]   .config-scale[_ngcontent-%COMP%]   i.scale-active[_ngcontent-%COMP%]{font-size:1.25rem;color:#2196f3}.layout-config[_ngcontent-%COMP%]   .layout-config-close[_ngcontent-%COMP%]{position:absolute;width:25px;height:25px;line-height:25px;text-align:center;right:20px;top:20px;z-index:999;background-color:var(--primary-color);border-radius:50%;cursor:pointer;transition:background-color .2s,box-shadow .2s,transform .2s}.layout-config[_ngcontent-%COMP%]   .layout-config-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color-text);line-height:inherit;font-size:14px}.layout-config[_ngcontent-%COMP%]   .layout-config-close[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.layout-config[_ngcontent-%COMP%]   .layout-config-close[_ngcontent-%COMP%]:focus{outline:0 none;transition:box-shadow .2s;box-shadow:0 0 0 .2rem #bbdefb}.layout-config[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1rem;text-align:center}.layout-config[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.layout-config[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:inline-flex;justify-content:center}.layout-config[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:0 none;transition:box-shadow .2s;box-shadow:0 0 0 .2rem #bbdefb}.layout-config[_ngcontent-%COMP%]   .free-themes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;border-radius:4px;transition:transform .2s}.layout-config[_ngcontent-%COMP%]   .free-themes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.layout-config[_ngcontent-%COMP%]   .free-themes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}.layout-config[_ngcontent-%COMP%]   .premium-themes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .2s}.layout-config[_ngcontent-%COMP%]   .premium-themes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),n})(),zZ=(()=>{class n{constructor(e){this.primengConfig=e}ngOnInit(){this.primengConfig.ripple=!0,window.onbeforeunload=()=>{alert("test")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(s._UZ(0,"router-outlet"),s._UZ(1,"app-config"))},directives:[lg,HZ],styles:[""]}),n})();function ZL(){return"undefined"!=typeof window&&void 0!==window.document}function NM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xm(n){switch(n.length){case 0:return new gh;case 1:return n[0];default:return new Ig(n)}}function qL(n,t,e,i,r={},o={}){const u=[],f=[];let m=-1,b=null;if(i.forEach(S=>{const k=S.offset,U=k==m,q=U&&b||{};Object.keys(S).forEach(le=>{let Oe=le,Je=S[le];if("offset"!==le)switch(Oe=t.normalizePropertyName(Oe,u),Je){case"!":Je=r[le];break;case Na:Je=o[le];break;default:Je=t.normalizeStyleValue(le,Oe,Je,u)}q[Oe]=Je}),U||f.push(q),b=q,m=k}),u.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${u.join(S)}`)}return f}function FM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&LM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&LM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&LM(e,"destroy",n)))}}function LM(n,t,e){const i=e.totalTime,o=VM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function VM(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Dc(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function KL(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let BM=(n,t)=>!1,YL=(n,t,e)=>[];(NM()||"undefined"!=typeof Element)&&(BM=ZL()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),YL=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let o=0;o<r.length;o++)i.push(r[o])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let Iy=null,QL=!1;function UM(n){Iy||(Iy=("undefined"!=typeof document?document.body:null)||{},QL=!!Iy.style&&"WebkitAppearance"in Iy.style);let t=!0;return Iy.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Iy.style,!t&&QL&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Iy.style)),t}const HM=BM,zM=YL;function JL(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let XL=(()=>{class n{validateStyleProperty(e){return UM(e)}matchesElement(e,i){return!1}containsElement(e,i){return HM(e,i)}query(e,i,r){return zM(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,f=[],m){return new gh(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),WM=(()=>{class n{}return n.NOOP=new XL,n})();const $M="ng-enter",hI="ng-leave",fI="ng-trigger",pI=".ng-trigger",t2="ng-animating",jM=".ng-animating";function Dy(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:GM(parseFloat(t[1]),t[2])}function GM(n,t){return"s"===t?1e3*n:n}function gI(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,o=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=GM(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(o=GM(parseFloat(m),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!e){let f=!1,m=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),f=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&t.splice(m,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:o,easing:u}}(n,t,e)}function ow(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function e_(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ow(n,e);return e}function r2(n,t,e){return e?t+":"+e+";":""}function s2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=r2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=r2(0,YZ(e),n.style[e]));n.setAttribute("style",t)}function lf(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=qM(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),NM()&&s2(n))}function Ay(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=qM(e);n.style[i]=""}),NM()&&s2(n))}function Rx(n){return Array.isArray(n)?1==n.length?n[0]:P_(n):n}const ZM=new RegExp("{{\\s*(.+?)\\s*}}","g");function o2(n){let t=[];if("string"==typeof n){let e;for(;e=ZM.exec(n);)t.push(e[1]);ZM.lastIndex=0}return t}function mI(n,t,e){const i=n.toString(),r=i.replace(ZM,(o,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return r==i?n:r}function _I(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const KZ=/-+([a-z0-9])/g;function qM(n){return n.replace(KZ,(...t)=>t[1].toUpperCase())}function YZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a2(n,t){return 0===n||0===t}function l2(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(f=>{o.hasOwnProperty(f)||u.push(f),o[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(m){f[m]=KM(n,m)})}}return t}function Ac(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function KM(n,t){return window.getComputedStyle(n)[t]}function QZ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const m=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],o=i[2],u=i[3];t.push(c2(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(c2(u,r))}(i,e,t)):e.push(n),e}const vI=new Set(["true","1"]),bI=new Set(["false","0"]);function c2(n,t){const e=vI.has(n)||bI.has(n),i=vI.has(t)||bI.has(t);return(r,o)=>{let u="*"==n||n==r,f="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?vI.has(n):bI.has(n)),!f&&i&&"boolean"==typeof o&&(f=o?vI.has(t):bI.has(t)),u&&f}}const eq=new RegExp("s*:selfs*,?","g");function YM(n,t,e){return new tq(n).build(t,e)}class tq{constructor(t){this._driver=t}build(t,e){const i=new rq(e);return this._resetContextStyleTimingState(i),Ac(this,Rx(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,b=m.name;b.toString().split(/\s*,\s*/).forEach(S=>{m.name=S,o.push(this.visitState(m,e))}),m.name=b}else if(1==f.type){const m=this.visitTransition(f,e);i+=m.queryCount,r+=m.depCount,u.push(m)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};if(i.styles.forEach(f=>{if(wI(f)){const m=f;Object.keys(m).forEach(b=>{o2(m[b]).forEach(S=>{u.hasOwnProperty(S)||o.add(S)})})}}),o.size){const f=_I(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ac(this,Rx(t.animation),e);return{type:1,matchers:QZ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ky(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ac(this,i,e)),options:ky(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const f=Ac(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:o,options:ky(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return QM(gI(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=QM(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||gI(i,t),QM(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:xr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=xr(b)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=f,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Na?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(wI(u)){const f=u,m=f.easing;if(m&&(o=m,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void e.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const m=e.collectedStyles[e.currentQuerySelector],b=m[f];let S=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(`The CSS property "${f}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),S=!1),o=b.startTime),S&&(m[f]={startTime:o,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=o2(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const u=[];let f=!1,m=!1,b=0;const S=t.steps.map(Vt=>{const Zt=this._makeStyleAst(Vt,e);let ln=null!=Zt.offset?Zt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(wI(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(wI(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Zt.styles),qt=0;return null!=ln&&(o++,qt=Zt.offset=ln),m=m||qt<0||qt>1,f=f||qt<b,b=qt,u.push(qt),Zt});m&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&e.errors.push("Please ensure that all keyframe offsets are in order");const k=t.steps.length;let U=0;o>0&&o<k?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(U=1/(k-1));const q=k-1,le=e.currentTime,Oe=e.currentAnimateTimings,Je=Oe.duration;return S.forEach((Vt,Zt)=>{const ln=U>0?Zt==q?1:U*Zt:u[Zt],qt=ln*Je;e.currentTime=le+Oe.delay+qt,Oe.duration=qt,this._validateStyleAst(Vt,e),Vt.offset=ln,i.styles.push(Vt)}),i}visitReference(t,e){return{type:8,animation:Ac(this,Rx(t.animation),e),options:ky(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ky(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ky(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(eq,"")),n=n.replace(/@\*/g,pI).replace(/@\w+/g,e=>pI+"-"+e.substr(1)).replace(/:animating/g,jM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Dc(e.collectedStyles,e.currentQuerySelector,{});const f=Ac(this,Rx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:ky(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:gI(t.timings,e.errors,!0);return{type:12,animation:Ac(this,Rx(t.animation),e),timings:i,options:null}}}class rq{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wI(n){return!Array.isArray(n)&&"object"==typeof n}function ky(n){return n?(n=ow(n)).params&&(n.params=function(n){return n?ow(n):null}(n.params)):n={},n}function QM(n,t,e){return{duration:n,delay:t,easing:e}}function JM(n,t,e,i,r,o,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:f}}class CI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cq=new RegExp(":enter","g"),dq=new RegExp(":leave","g");function XM(n,t,e,i,r,o={},u={},f,m,b=[]){return(new hq).buildKeyframes(n,t,e,i,r,o,u,f,m,b)}class hq{buildKeyframes(t,e,i,r,o,u,f,m,b,S=[]){b=b||new CI;const k=new eR(t,e,b,r,o,S,[]);k.options=m,k.currentTimeline.setStyles([u],null,k.errors,m),Ac(this,i,k);const U=k.timelines.filter(q=>q.containsAnimation());if(U.length&&Object.keys(f).length){const q=U[U.length-1];q.allowOnlyTimelineStyles()||q.setStyles([f],null,k.errors,m)}return U.length?U.map(q=>q.buildKeyframes()):[JM(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Dy(i.duration):null,f=null!=i.delay?Dy(i.delay):null;return 0!==u&&t.forEach(m=>{const b=e.appendInstructionToTimeline(m,u,f);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ac(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=EI);const u=Dy(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ac(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Dy(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);o&&f.delayNextStep(o),Ac(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return gI(e.params?mI(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(m=>{f.forwardTime((m.offset||0)*o),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Dy(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=EI);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((b,S)=>{e.currentQueryIndex=S;const k=e.createSubContext(t.options,b);o&&k.delayNextStep(o),b===e.element&&(m=k.currentTimeline),Ac(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),f=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=f-m;break;case"full":m=i.currentStaggerTime}const S=e.currentTimeline;m&&S.delayNextStep(m);const k=S.currentTime;Ac(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-k+(r.startTime-i.currentTimeline.startTime)}}const EI={};class eR{constructor(t,e,i,r,o,u,f,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new xI(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Dy(i.duration)),null!=i.delay&&(r.delay=Dy(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=mI(o[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new eR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=EI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new fq(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(cq,"."+this._enterClassName)).replace(dq,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!o&&0==f.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),f}}class xI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new xI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Na,this._currentKeyframe[e]=Na}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Na})):e_(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const m=mI(u[f],o,i);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Na),this._updateStyle(f,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,m)=>{const b=e_(f,!0);Object.keys(b).forEach(S=>{const k=b[S];"!"==k?t.add(S):k==Na&&e.add(S)}),i||(b.offset=m/this.duration),r.push(b)});const o=t.size?_I(t.values()):[],u=e.size?_I(e.values()):[];if(i){const f=r[0],m=ow(f);f.offset=0,m.offset=1,r=[f,m]}return JM(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class fq extends xI{constructor(t,e,i,r,o,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,f=e/u,m=e_(t[0],!1);m.offset=0,o.push(m);const b=e_(t[0],!1);b.offset=h2(f),o.push(b);const S=t.length-1;for(let k=1;k<=S;k++){let U=e_(t[k],!1);U.offset=h2((e+U.offset*i)/u),o.push(U)}i=u,e=0,r="",t=o}return JM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function h2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class tR{}class gq extends tR{normalizePropertyName(t,e){return qM(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(mq[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+o}}const mq=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function f2(n,t,e,i,r,o,u,f,m,b,S,k,U){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:f,queriedElements:m,preStyleProps:b,postStyleProps:S,totalTime:k,errors:U}}const nR={};class p2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,f,m,b,S){const k=[],U=this.ast.options&&this.ast.options.params||nR,le=this.buildStyles(i,f&&f.params||nR,k),Oe=m&&m.params||nR,Je=this.buildStyles(r,Oe,k),Vt=new Set,Zt=new Map,ln=new Map,qt="void"===r,yi={params:Object.assign(Object.assign({},U),Oe)},rr=S?[]:XM(t,e,this.ast.animation,o,u,le,Je,yi,b,k);let Fr=0;if(rr.forEach(Is=>{Fr=Math.max(Is.duration+Is.delay,Fr)}),k.length)return f2(e,this._triggerName,i,r,qt,le,Je,[],[],Zt,ln,Fr,k);rr.forEach(Is=>{const Xa=Is.element,SV=Dc(Zt,Xa,{});Is.preStyleProps.forEach(Ry=>SV[Ry]=!0);const Fx=Dc(ln,Xa,{});Is.postStyleProps.forEach(Ry=>Fx[Ry]=!0),Xa!==e&&Vt.add(Xa)});const to=_I(Vt.values());return f2(e,this._triggerName,i,r,qt,le,Je,rr,to,Zt,ln,Fr)}}class vq{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=ow(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(f=>{let m=u[f];m.length>1&&(m=mI(m,r,e));const b=this.normalizer.normalizePropertyName(f,e);m=this.normalizer.normalizeStyleValue(f,b,m,e),i[b]=m})}}),i}}class wq{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new vq(r.style,r.options&&r.options.params||{},i)}),g2(this.states,"true","1"),g2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new p2(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new p2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function g2(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Eq=new CI;class xq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=YM(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,o=qL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const f=new Map;if(o?(u=XM(this._driver,e,o,$M,hI,{},{},i,Eq,r),u.forEach(S=>{const k=Dc(f,S.element,{});S.postStyleProps.forEach(U=>k[U]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);f.forEach((S,k)=>{Object.keys(S).forEach(U=>{S[U]=this._driver.computeStyle(k,U,Na)})});const b=Xm(u.map(S=>{const k=f.get(S.element);return this._buildPlayer(S,{},k)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const o=VM(e,"","","");return FM(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const m2="ng-animate-queued",iR="ng-animate-disabled",Aq=[],_2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eu="__ng_removed";class rR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const o=ow(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ox="void",sR=new rR(Ox);class Mq{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xu(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=Dc(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const f=Dc(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(xu(t,fI),xu(t,fI+"-"+e),f[e]=sR),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(u);m>=0&&o.splice(m,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new oR(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(xu(t,fI),xu(t,fI+"-"+e),this._engine.statesByElement.set(t,f={}));let m=f[e];const b=new rR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),f[e]=b,m||(m=sR),b.value!==Ox&&m.value===b.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,b.params)){const Oe=[],Je=o.matchStyles(m.value,m.params,Oe),Vt=o.matchStyles(b.value,b.params,Oe);Oe.length?this._engine.reportError(Oe):this._engine.afterFlush(()=>{Ay(t,Je),lf(t,Vt)})}return}const U=Dc(this._engine.playersByElement,t,[]);U.forEach(Oe=>{Oe.namespaceId==this.id&&Oe.triggerName==e&&Oe.queued&&Oe.destroy()});let q=o.matchTransition(m.value,b.value,t,b.params),le=!1;if(!q){if(!r)return;q=o.fallbackTransition,le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:q,fromState:m,toState:b,player:u,isFallbackTransition:le}),le||(xu(t,m2),u.onStart(()=>{aw(t,m2)})),u.onDone(()=>{let Oe=this.players.indexOf(u);Oe>=0&&this.players.splice(Oe,1);const Je=this._engine.playersByElement.get(t);if(Je){let Vt=Je.indexOf(u);Vt>=0&&Je.splice(Vt,1)}}),this.players.push(u),U.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,pI,!0);i.forEach(r=>{if(r[Eu])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t);if(o){const u=[];if(Object.keys(o).forEach(f=>{if(this._triggers[f]){const m=this.trigger(t,f,Ox,r);m&&u.push(m)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Xm(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const m=this._triggers[u].fallbackTransition,b=i[u]||sR,S=new rR(Ox),k=new oR(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:b,toState:S,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Eu];(!o||o===_2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){xu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(f=>{if(f.name==i.triggerName){const m=VM(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,FM(i.player,f.phase,m,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Rq{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Mq(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(TI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!TI(e))return;const o=e[Eu];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xu(t,iR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),aw(t,iR))}removeNode(t,e,i,r){if(TI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[Eu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,o){return TI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,pI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xm(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Eu];if(i&&i.setForRemoval){if(t[Eu]=_2,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(iR))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xu(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Xm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new CI,r=[],o=new Map,u=[],f=new Map,m=new Map,b=new Map,S=new Set;this.disabledNodes.forEach(rn=>{S.add(rn);const wn=this.driver.query(rn,".ng-animate-queued",!0);for(let Hn=0;Hn<wn.length;Hn++)S.add(wn[Hn])});const k=this.bodyNode,U=Array.from(this.statesByElement.keys()),q=b2(U,this.collectedEnterElements),le=new Map;let Oe=0;q.forEach((rn,wn)=>{const Hn=$M+Oe++;le.set(wn,Hn),rn.forEach(ki=>xu(ki,Hn))});const Je=[],Vt=new Set,Zt=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const wn=this.collectedLeaveElements[rn],Hn=wn[Eu];Hn&&Hn.setForRemoval&&(Je.push(wn),Vt.add(wn),Hn.hasAnimation?this.driver.query(wn,".ng-star-inserted",!0).forEach(ki=>Vt.add(ki)):Zt.add(wn))}const ln=new Map,qt=b2(U,Array.from(Vt));qt.forEach((rn,wn)=>{const Hn=hI+Oe++;ln.set(wn,Hn),rn.forEach(ki=>xu(ki,Hn))}),t.push(()=>{q.forEach((rn,wn)=>{const Hn=le.get(wn);rn.forEach(ki=>aw(ki,Hn))}),qt.forEach((rn,wn)=>{const Hn=ln.get(wn);rn.forEach(ki=>aw(ki,Hn))}),Je.forEach(rn=>{this.processLeaveNode(rn)})});const yi=[],rr=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(e).forEach(Hn=>{const ki=Hn.player,Io=Hn.element;if(yi.push(ki),this.collectedEnterElements.length){const Tu=Io[Eu];if(Tu&&Tu.setForMove)return void ki.destroy()}const uf=!k||!this.driver.containsElement(k,Io),Mc=ln.get(Io),i_=le.get(Io),ts=this._buildInstruction(Hn,i,i_,Mc,uf);if(ts.errors&&ts.errors.length)return void rr.push(ts);if(uf)return ki.onStart(()=>Ay(Io,ts.fromStyles)),ki.onDestroy(()=>lf(Io,ts.toStyles)),void r.push(ki);if(Hn.isFallbackTransition)return ki.onStart(()=>Ay(Io,ts.fromStyles)),ki.onDestroy(()=>lf(Io,ts.toStyles)),void r.push(ki);const AV=[];ts.timelines.forEach(Tu=>{Tu.stretchStartingKeyframe=!0,this.disabledNodes.has(Tu.element)||AV.push(Tu)}),ts.timelines=AV,i.append(Io,ts.timelines),u.push({instruction:ts,player:ki,element:Io}),ts.queriedElements.forEach(Tu=>Dc(f,Tu,[]).push(ki)),ts.preStyleProps.forEach((Tu,Lx)=>{const RI=Object.keys(Tu);if(RI.length){let Oy=m.get(Lx);Oy||m.set(Lx,Oy=new Set),RI.forEach(RR=>Oy.add(RR))}}),ts.postStyleProps.forEach((Tu,Lx)=>{const RI=Object.keys(Tu);let Oy=b.get(Lx);Oy||b.set(Lx,Oy=new Set),RI.forEach(RR=>Oy.add(RR))})});if(rr.length){const rn=[];rr.forEach(wn=>{rn.push(`@${wn.triggerName} has failed due to:\n`),wn.errors.forEach(Hn=>rn.push(`- ${Hn}\n`))}),yi.forEach(wn=>wn.destroy()),this.reportError(rn)}const Fr=new Map,to=new Map;u.forEach(rn=>{const wn=rn.element;i.has(wn)&&(to.set(wn,wn),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,Fr))}),r.forEach(rn=>{const wn=rn.element;this._getPreviousPlayers(wn,!1,rn.namespaceId,rn.triggerName,null).forEach(ki=>{Dc(Fr,wn,[]).push(ki),ki.destroy()})});const Is=Je.filter(rn=>C2(rn,m,b)),Xa=new Map;v2(Xa,this.driver,Zt,b,Na).forEach(rn=>{C2(rn,m,b)&&Is.push(rn)});const Fx=new Map;q.forEach((rn,wn)=>{v2(Fx,this.driver,new Set(rn),m,"!")}),Is.forEach(rn=>{const wn=Xa.get(rn),Hn=Fx.get(rn);Xa.set(rn,Object.assign(Object.assign({},wn),Hn))});const Ry=[],IV=[],DV={};u.forEach(rn=>{const{element:wn,player:Hn,instruction:ki}=rn;if(i.has(wn)){if(S.has(wn))return Hn.onDestroy(()=>lf(wn,ki.toStyles)),Hn.disabled=!0,Hn.overrideTotalTime(ki.totalTime),void r.push(Hn);let Io=DV;if(to.size>1){let Mc=wn;const i_=[];for(;Mc=Mc.parentNode;){const ts=to.get(Mc);if(ts){Io=ts;break}i_.push(Mc)}i_.forEach(ts=>to.set(ts,Io))}const uf=this._buildAnimation(Hn.namespaceId,ki,Fr,o,Fx,Xa);if(Hn.setRealPlayer(uf),Io===DV)Ry.push(Hn);else{const Mc=this.playersByElement.get(Io);Mc&&Mc.length&&(Hn.parentPlayer=Xm(Mc)),r.push(Hn)}}else Ay(wn,ki.fromStyles),Hn.onDestroy(()=>lf(wn,ki.toStyles)),IV.push(Hn),S.has(wn)&&r.push(Hn)}),IV.forEach(rn=>{const wn=o.get(rn.element);if(wn&&wn.length){const Hn=Xm(wn);rn.setRealPlayer(Hn)}}),r.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<Je.length;rn++){const wn=Je[rn],Hn=wn[Eu];if(aw(wn,hI),Hn&&Hn.hasAnimation)continue;let ki=[];if(f.size){let uf=f.get(wn);uf&&uf.length&&ki.push(...uf);let Mc=this.driver.query(wn,jM,!0);for(let i_=0;i_<Mc.length;i_++){let ts=f.get(Mc[i_]);ts&&ts.length&&ki.push(...ts)}}const Io=ki.filter(uf=>!uf.destroyed);Io.length?Fq(this,wn,Io):this.processLeaveNode(wn)}return Je.length=0,Ry.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const wn=this.players.indexOf(rn);this.players.splice(wn,1)}),rn.play()}),Ry}elementContainsData(t,e){let i=!1;const r=e[Eu];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const m=!o||o==Ox;f.forEach(b=>{b.queued||!m&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const b=m.element,S=b!==o,k=Dc(i,b,[]);this._getPreviousPlayers(b,S,u,f,e.toState).forEach(q=>{const le=q.getRealPlayer();le.beforeDestroy&&le.beforeDestroy(),q.destroy(),k.push(q)})}Ay(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const f=e.triggerName,m=e.element,b=[],S=new Set,k=new Set,U=e.timelines.map(le=>{const Oe=le.element;S.add(Oe);const Je=Oe[Eu];if(Je&&Je.removedBeforeQueried)return new gh(le.duration,le.delay);const Vt=Oe!==m,Zt=function(n){const t=[];return w2(n,t),t}((i.get(Oe)||Aq).map(Fr=>Fr.getRealPlayer())).filter(Fr=>!!Fr.element&&Fr.element===Oe),ln=o.get(Oe),qt=u.get(Oe),yi=qL(0,this._normalizer,0,le.keyframes,ln,qt),rr=this._buildPlayer(le,yi,Zt);if(le.subTimeline&&r&&k.add(Oe),Vt){const Fr=new oR(t,f,Oe);Fr.setRealPlayer(rr),b.push(Fr)}return rr});b.forEach(le=>{Dc(this.playersByQueriedElement,le.element,[]).push(le),le.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,le.element,le))}),S.forEach(le=>xu(le,t2));const q=Xm(U);return q.onDestroy(()=>{S.forEach(le=>aw(le,t2)),lf(m,e.toStyles)}),k.forEach(le=>{Dc(r,le,[]).push(q)}),q}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new gh(t.duration,t.delay)}}class oR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new gh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>FM(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Dc(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function TI(n){return n&&1===n.nodeType}function y2(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function v2(n,t,e,i,r){const o=[];e.forEach(m=>o.push(y2(m)));const u=[];i.forEach((m,b)=>{const S={};m.forEach(k=>{const U=S[k]=t.computeStyle(b,k,r);(!U||0==U.length)&&(b[Eu]=kq,u.push(b))}),n.set(b,S)});let f=0;return e.forEach(m=>y2(m,o[f++])),u}function b2(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(f){if(!f)return 1;let m=o.get(f);if(m)return m;const b=f.parentNode;return m=e.has(b)?b:r.has(b)?1:u(b),o.set(f,m),m}return t.forEach(f=>{const m=u(f);1!==m&&e.get(m).push(f)}),e}function xu(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function aw(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Fq(n,t,e){Xm(e).onDone(()=>n.processLeaveNode(t))}function w2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Ig?w2(i.players,t):t.push(i)}}function C2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class SI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Rq(t,e,i),this._timelineEngine=new xq(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const m=[],b=YM(this._driver,o,m);if(m.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${m.join("\n - ")}`);f=function(n,t,e){return new wq(n,t,e)}(r,b,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=KL(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,f]=KL(i);return this._timelineEngine.listen(u,e,f,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function E2(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=aR(t[0]),t.length>1&&(i=aR(t[t.length-1]))):t&&(e=aR(t)),e||i?new Bq(n,e,i):null}let Bq=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&lf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lf(this._element,this._initialStyles),this._endStyles&&(lf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ay(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ay(this._element,this._endStyles),this._endStyles=null),lf(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function aR(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Uq(r)&&(t=t||{},t[r]=n[r])}return t}function Uq(n){return"display"===n||"position"===n}const x2="animation",T2="animationend";class Wq{constructor(t,e,i,r,o,u,f){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=o,this._fillMode=u,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=m=>this._handleCallback(m)}apply(){(function(n,t){const e=cR(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),II(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),D2(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){S2(this._element,this._name,"paused")}resume(){S2(this._element,this._name,"running")}setPosition(t){const e=I2(this._element,this._name);this._position=t*this._duration,II(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),D2(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=cR(n,"").split(","),r=lR(i,t);r>=0&&(i.splice(r,1),II(n,"",i.join(",")))}(this._element,this._name))}}function S2(n,t,e){II(n,"PlayState",e,I2(n,t))}function I2(n,t){const e=cR(n,"");return e.indexOf(",")>0?lR(e.split(","),t):lR([e],t)}function lR(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function D2(n,t,e){e?n.removeEventListener(T2,t):n.addEventListener(T2,t)}function II(n,t,e,i){const r=x2+t;if(null!=i){const o=n.style[r];if(o.length){const u=o.split(",");u[i]=e,e=u.join(",")}}n.style[r]=e}function cR(n,t){return n.style[x2+t]||""}class A2{constructor(t,e,i,r,o,u,f,m){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=f,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=r+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wq(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:KM(this.element,i))})}this.currentSnapshot=t}}class Kq extends gh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=JL(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class M2{constructor(){this._count=0}validateStyleProperty(t){return UM(t)}matchesElement(t,e){return!1}containsElement(t,e){return HM(t,e)}query(t,e,i){return zM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(f=>JL(f));let r=`@keyframes ${e} {\n`,o="";i.forEach(f=>{o=" ";const m=parseFloat(f.offset);r+=`${o}${100*m}% {\n`,o+=" ",Object.keys(f).forEach(b=>{const S=f[b];switch(b){case"offset":return;case"easing":return void(S&&(r+=`${o}animation-timing-function: ${S};\n`));default:return void(r+=`${o}${b}: ${S};\n`)}}),r+=`${o}}\n`}),r+="}\n";const u=document.createElement("style");return u.textContent=r,u}animate(t,e,i,r,o,u=[],f){const m=u.filter(Je=>Je instanceof A2),b={};a2(i,r)&&m.forEach(Je=>{let Vt=Je.currentSnapshot;Object.keys(Vt).forEach(Zt=>b[Zt]=Vt[Zt])});const S=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=l2(t,e,b));if(0==i)return new Kq(t,S);const k="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(t,k,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(U);const le=E2(t,e),Oe=new A2(t,e,k,i,r,o,S,le);return Oe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(U)),Oe}}class O2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:KM(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class e7{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(P2().toString()),this._cssKeyframesDriver=new M2}validateStyleProperty(t){return UM(t)}matchesElement(t,e){return!1}containsElement(t,e){return HM(t,e)}query(t,e,i){return zM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,o,u=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,o,u);const S={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(S.easing=o);const k={},U=u.filter(le=>le instanceof O2);a2(i,r)&&U.forEach(le=>{let Oe=le.currentSnapshot;Object.keys(Oe).forEach(Je=>k[Je]=Oe[Je])});const q=E2(t,e=l2(t,e=e.map(le=>e_(le,!1)),k));return new O2(t,e,S,q)}}function P2(){return ZL()&&Element.prototype.animate||{}}let n7=(()=>{class n extends ov{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?P_(e):e;return N2(this._renderer,null,i,"register",[r]),new r7(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class r7 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new s7(this._id,t,e||{},this._renderer)}}class s7{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return N2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function N2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const F2="@.disabled";let o7=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const f=null==u?void 0:u.parentNode(o);f&&u.removeChild(f,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(o);return S||(S=new L2("",o,this.engine),this._rendererCache.set(o,S)),S}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=S=>{Array.isArray(S)?S.forEach(m):this.engine.registerTrigger(u,f,e,S.name,S)};return i.data.animation.forEach(m),new a7(this,f,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,f]=o;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(SI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class L2{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==F2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class a7 extends L2{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==F2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let u7=(()=>{class n extends SI{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe),s.LFG(WM),s.LFG(tR))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const V2=new s.OlP("AnimationModuleType"),B2=[{provide:ov,useClass:n7},{provide:tR,useFactory:function(){return new gq}},{provide:SI,useClass:u7},{provide:s.FYo,useFactory:function(n,t,e){return new o7(n,t,e)},deps:[Qo,SI,s.R0b]}],U2=[{provide:WM,useFactory:function(){return"function"==typeof P2()?new e7:new M2}},{provide:V2,useValue:"BrowserAnimations"},...B2],p7=[{provide:WM,useClass:XL},{provide:V2,useValue:"NoopAnimations"},...B2];let g7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?p7:U2}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:U2,imports:[Ws]}),n})(),uR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii],Ud]}),n})(),H2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,$L,rw,uR]]}),n})(),V7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,hc,af,Mx],hc,Mx]}),n})(),rK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,hc,Mx],hc,Mx]}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,hc,uR,V7,$L,rw,tw,q8,rK,zG,af,U8]]}),n})(),sK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ii,rw,j2,H2,tw,AM,uR,af,SZ]]}),n})();class aK{constructor(t,e,i,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=i,this.subjectSelector=r}call(t,e){return e.subscribe(new lK(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class lK extends si.L{constructor(t,e,i,r,o){super(t),this.keySelector=e,this.elementSelector=i,this.durationSelector=r,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(i){return void this.error(i)}this._group(t,e)}_group(t,e){let i=this.groups;i||(i=this.groups=new Map);let o,r=i.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!r){r=this.subjectSelector?this.subjectSelector():new Bn.xQ,i.set(e,r);const u=new G2(e,r,this);if(this.destination.next(u),this.durationSelector){let f;try{f=this.durationSelector(new G2(e,r))}catch(m){return void this.error(m)}this.add(f.subscribe(new cK(e,r,this)))}}r.closed||r.next(o)}_error(t){const e=this.groups;e&&(e.forEach((i,r)=>{i.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((e,i)=>{e.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class cK extends si.L{constructor(t,e,i){super(e),this.key=t,this.group=e,this.parent=i}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class G2 extends Ai.y{constructor(t,e,i){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=i}_subscribe(t){const e=new ml.w,{refCountSubscription:i,groupSubject:r}=this;return i&&!i.closed&&e.add(new uK(i)),e.add(r.subscribe(t)),e}}class uK extends ml.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;!t.closed&&!this.closed&&(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var dK=O(655),dR=O(6148);class Px{constructor(t){return t}}const Z2="analytics",q2=Ht.nk.async,fK=(0,Ht.u3)(dR.IH,!0),pK=(0,Ht.u3)(dR.Kz,!0),gK=(0,Ht.u3)(dR.Iv,!0);let hR=(()=>{class n{constructor(e,i,r){let o;this.disposables=[],(0,Sc.KN)("angularfire",Ht.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(u=>{o=u})),q2().then(()=>{const u=r.get(Px);u?this.disposables=[o8(e).subscribe(f=>{gK(u,null==f?void 0:f.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(WS),s.LFG(s.R0b),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const K2="firebase_screen_id",fR="outlet",Nx="screen_class",Y2="screen_name";let IK=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const pR={},DK=n=>{const t=[n[Nx],n[fR]].join("#");if(pR.hasOwnProperty(t))return pR[t];{const e=IK++;return pR[t]=e,e}};let Q2=(()=>{class n{constructor(e,i,r,o,u,f){(0,Sc.KN)("angularfire",Ht.q4.full,"screen-tracking"),q2().then(()=>{const m=f.get(Px);!e||!m||o.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe(is(r=>r instanceof Xl)).pipe(Yi(r=>{var o;const f=(null===(o=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,q=>q.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===o?void 0:o.toString())||"",m=n.routerState.root.children.map(q=>q).find(q=>q.outlet===r.snapshot.outlet);if(!m)return(0,Jt.of)(null);let b=m;for(;b.firstChild;)b=b.firstChild;const S=b.pathFromRoot.map(q=>{var le;return null===(le=q.routeConfig)||void 0===le?void 0:le.path}).filter(q=>q).join("/")||"/",k={[Y2]:S,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:S,[fR]:r.snapshot.outlet};t&&(k.page_title=t.getTitle());let U=m.component;if(U){if(U===Xu){let q=r.snapshot;for(;q.firstChild;)q=q.firstChild;U=q.component}}else U=r.snapshot.component;if("string"==typeof U)return(0,Jt.of)(Object.assign(Object.assign({},k),{[Nx]:U}));if(U){const q=e.resolveComponentFactory(U);return(0,Jt.of)(Object.assign(Object.assign({},k),{[Nx]:q.selector}))}return(0,Jt.of)(null)}),is(r=>!!r),(0,un.U)(r=>Object.assign({firebase_screen_class:r[Nx],[K2]:DK(r)},r)),function(n,t,e,i){return r=>r.lift(new aK(n,void 0,void 0,void 0))}(r=>r[fR]),(0,or.zg)(r=>r.pipe(U_((o,u)=>JSON.stringify(o)===JSON.stringify(u)),ys(void 0),od(),(0,un.U)(([o,u])=>o?Object.assign({firebase_previous_class:o[Nx],firebase_previous_screen:o[Y2],firebase_previous_id:o[K2]},u):u)))))(e,i,r).pipe(Yi(b=>(0,dK.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),pK(m,"screen_view",b)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bi,8),s.LFG(Xo,8),s.LFG(s._Vd),s.LFG(s.R0b),s.LFG(hR,8),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gR=new s.OlP("angularfire2.analytics-instances");function MK(n){return(t,e)=>{if(!Ht.nk.sync())return null;const i=t.runOutsideAngular(()=>n(e));return new Px(i)}}const RK={provide:class{constructor(){return(0,Ht.vb)(Z2)}},deps:[[new s.FiY,gR]]},OK={provide:Px,useFactory:function(n,t){if(!Ht.nk.sync())return null;const e=(0,Ht.JM)(Z2,n,t);return e&&new Px(e)},deps:[[new s.FiY,gR],jp]};let PK=(()=>{class n{constructor(e,i){(0,Sc.KN)("angularfire",Ht.q4.full,"analytics")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q2,8),s.LFG(hR,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[OK,RK,{provide:s.ip1,useValue:Ht.nk.async,multi:!0}]}),n})();function NK(n,...t){return{ngModule:PK,providers:[{provide:gR,useFactory:MK(n),multi:!0,deps:[s.R0b,s.zs3,Ht.HU,Ub,...t]}]}}class mR{constructor(t){return t}}const J2="database",_R=new s.OlP("angularfire2.database-instances");function VK(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new mR(i)}}const BK={provide:class{constructor(){return(0,Ht.vb)(J2)}},deps:[[new s.FiY,_R]]},UK={provide:mR,useFactory:function(n,t){const e=(0,Ht.JM)(J2,n,t);return e&&new mR(e)},deps:[[new s.FiY,_R],jp]};let HK=(()=>{class n{constructor(){(0,Sc.KN)("angularfire",Ht.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[UK,BK]}),n})();function zK(n,...t){return{ngModule:HK,providers:[{provide:_R,useFactory:VK(n),multi:!0,deps:[s.R0b,s.zs3,Ht.HU,Ub,[new s.FiY,Xk],[new s.FiY,hy],...t]}]}}const WK=(0,Ht.u3)(p6,!0);class yR{constructor(t){return t}}const X2="firestore",vR=new s.OlP("angularfire2.firestore-instances");function GK(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new yR(i)}}const ZK={provide:class{constructor(){return(0,Ht.vb)(X2)}},deps:[[new s.FiY,vR]]},qK={provide:yR,useFactory:function(n,t){const e=(0,Ht.JM)(X2,n,t);return e&&new yR(e)},deps:[[new s.FiY,vR],jp]};let KK=(()=>{class n{constructor(){(0,Sc.KN)("angularfire",Ht.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qK,ZK]}),n})();function YK(n,...t){return{ngModule:KK,providers:[{provide:vR,useFactory:GK(n),multi:!0,deps:[s.R0b,s.zs3,Ht.HU,Ub,[new s.FiY,Xk],[new s.FiY,hy],...t]}]}}const QK=(0,Ht.u3)(p,!0);O(2833);const eV="@firebase/performance",bR="0.5.5",wR="FB-PERF-TRACE-MEASURE",oV="@firebase/performance/config",aV="@firebase/performance/configexpire",lV="Performance",qo=new J.LL("performance",lV,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),cf=new yo.Yd(lV);let CR,cV,uV,xR;cf.logLevel=yo.in.INFO;class So{constructor(t){if(this.window=t,!t)throw qo.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,i){!this.performance||!this.performance.measure||this.performance.measure(t,e,i)}getEntriesByType(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]}getEntriesByName(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,J.zI)()?!!(0,J.hl)()||(cf.info("IndexedDB is not supported by current browswer"),!1):(cf.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(t,e){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const o of r.getEntries())e(o)}).observe({entryTypes:[t]})}static getInstance(){return void 0===CR&&(CR=new So(cV)),CR}}function ER(){return uV}function dV(n,t){const e=n.length-t.length;if(e<0||e>1)throw qo.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),t.length>r&&i.push(t.charAt(r));return i.join("")}class kc{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=dV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=dV("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===xR&&(xR=new kc),xR}}var My=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(My||(My={})),My))();const sY=["firebase_","google_","ga_"],oY=new RegExp("^[a-zA-Z]\\w*$");function cY(){const n=So.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function hV(){switch(So.getInstance().document.visibilityState){case"visible":return My.VISIBLE;case"hidden":return My.HIDDEN;default:return My.UNKNOWN}}function uY(){const t=So.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function fV(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.appId;if(!e)throw qo.create("no app id");return e}const wY="Could not fetch config, will use default configs";function pV(n){if(!n)return n;const t=kc.getInstance(),e=n.entries||{};return t.loggingEnabled=void 0===e.fpr_enabled||"true"===String(e.fpr_enabled),e.fpr_log_source&&(t.logSource=Number(e.fpr_log_source)),e.fpr_log_endpoint_url&&(t.logEndPointUrl=e.fpr_log_endpoint_url),e.fpr_log_transport_key&&(t.transportKey=e.fpr_log_transport_key),void 0!==e.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate)),void 0!==e.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=gV(t.tracesSamplingRate),t.logNetworkAfterSampling=gV(t.networkRequestsSamplingRate),n}function gV(n){return Math.random()<=n}let SR,TR=1;function mV(n){return TR=2,SR=SR||function(n){return function(){const n=So.getInstance().document;return new Promise(t=>{if(n&&"complete"!==n.readyState){const e=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}().then(()=>function(n){const t=n.getId();return t.then(e=>{uV=e}),t}(n.installations)).then(t=>function(n,t){const e=function(){const n=So.getInstance().localStorage;if(!n)return;const t=n.getItem(aV);if(!t||!function(n){return Number(n)>Date.now()}(t))return;const e=n.getItem(oV);if(e)try{return JSON.parse(e)}catch(i){return}}();return e?(pV(e),Promise.resolve()):function(n,t){return function(n){const t=n.getToken();return t.then(e=>{}),t}(n.installations).then(e=>{const i=function(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.projectId;if(!e)throw qo.create("no project id");return e}(n.app),r=function(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.apiKey;if(!e)throw qo.create("no api key");return e}(n.app),u=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:fV(n.app),app_version:"0.5.5",sdk_version:"0.0.1"})});return fetch(u).then(f=>{if(f.ok)return f.json();throw qo.create("RC response not ok")})}).catch(()=>{cf.info(wY)})}(n,t).then(pV).then(i=>function(n){const t=So.getInstance().localStorage;!n||!t||(t.setItem(oV,JSON.stringify(n)),t.setItem(aV,String(Date.now()+60*kc.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(n,t)).then(()=>_V(),()=>_V())}(n),SR}function _V(){TR=3}let DR,AI=3,t_=[],vV=!1;function kI(n){setTimeout(()=>{if(0!==AI){if(!t_.length)return kI(1e4);!function(){const n=t_.splice(0,1e3),t=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function(n,t){return function(n){const t=kc.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(n)})}(n).then(e=>(e.ok||cf.info("Call to Firebase backend failed."),e.json())).then(e=>{const i=Number(e.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(t_=[...t,...t_],cf.info("Retry transport request later.")),AI=3,kI(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:kc.getInstance().logSource,log_event:t},n).catch(()=>{t_=[...n,...t_],AI--,cf.info(`Tries left: ${AI}.`),kI(1e4)})}()}},n)}function bV(n,t){DR||(DR=function(n){return(...t)=>{!function(n){if(!n.eventTime||!n.message)throw qo.create("invalid cc log");t_=[...t_,n]}({message:n(...t),eventTime:Date.now()})}}(FY)),DR(n,t)}function MI(n){const t=kc.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||!So.getInstance().requiredApisAvailable()||n.isAuto&&hV()!==My.VISIBLE||(3===TR?AR(n):mV(n.performanceController).then(()=>AR(n),()=>AR(n)))}function AR(n){if(!ER())return;const t=kc.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(()=>bV(n,1),0)}function FY(n,t){return 0===t?function(n){const t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:wV(n.performanceController.app),network_request_metric:t};return JSON.stringify(e)}(n):function(n){const t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(t.counters=n.counters);const e=n.getAttributes();0!==Object.keys(e).length&&(t.custom_attributes=e);const i={application_info:wV(n.performanceController.app),trace_metric:t};return JSON.stringify(i)}(n)}function wV(n){return{google_app_id:fV(n),app_instance_id:ER(),web_app_info:{sdk_version:"0.5.5",page_url:So.getInstance().getUrl(),service_worker_status:cY(),visibility_state:hV(),effective_connection_type:uY()},application_process_state:0}}const HY=["_fp","_fcp","_fid"];class n_{constructor(t,e,i=!1,r){this.performanceController=t,this.name=e,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=So.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${wR}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw qo.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw qo.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),MI(this)}record(t,e,i){if(t<=0)throw qo.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw qo.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Number(Math.floor(i.metrics[r])));MI(this)}incrementMetric(t,e=1){this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)}putMetric(t,e){if(!function(n,t){return!(0===n.length||n.length>100)&&(t&&t.startsWith("_wt_")&&HY.indexOf(n)>-1||!n.startsWith("_"))}(t,this.name))throw qo.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function(n){const t=Math.floor(n);return t<n&&cf.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(e)}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const i=function(n){return!(0===n.length||n.length>40||sY.some(e=>n.startsWith(e))||!n.match(oY))}(t),r=function(n){return 0!==n.length&&n.length<=100}(e);if(i&&r)this.customAttributes[t]=e;else{if(!i)throw qo.create("invalid attribute name",{attributeName:t});if(!r)throw qo.create("invalid attribute value",{attributeValue:e})}}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}static createOobTrace(t,e,i,r){const o=So.getInstance().getUrl();if(!o)return;const u=new n_(t,"_wt_"+o,!0),f=Math.floor(1e3*So.getInstance().getTimeOrigin());if(u.setStartTime(f),e&&e[0]&&(u.setDuration(Math.floor(1e3*e[0].duration)),u.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),u.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),u.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),i){const S=i.find(U=>"first-paint"===U.name);S&&S.startTime&&u.putMetric("_fp",Math.floor(1e3*S.startTime));const k=i.find(U=>"first-contentful-paint"===U.name);k&&k.startTime&&u.putMetric("_fcp",Math.floor(1e3*k.startTime)),r&&u.putMetric("_fid",Math.floor(1e3*r))}MI(u)}static createUserTimingTrace(t,e){MI(new n_(t,e,!1,e))}}function CV(n,t){const e=t;if(!e||void 0===e.responseStart)return;const i=So.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+i)),o=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,u=Math.floor(1e3*(e.responseEnd-e.startTime));!function(n){const t=kc.getInstance();if(!t.instrumentationEnabled)return;const e=n.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];e===i||e===r||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(()=>bV(n,0),0)}({performanceController:n,url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:u})}function EV(n){!ER()||(setTimeout(()=>function(n){const t=So.getInstance(),e=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");if(t.onFirstInputDelay){let r=setTimeout(()=>{n_.createOobTrace(n,e,i),r=void 0},5e3);t.onFirstInputDelay(o=>{r&&(clearTimeout(r),n_.createOobTrace(n,e,i,o))})}else n_.createOobTrace(n,e,i)}(n),0),setTimeout(()=>function(n){const t=So.getInstance(),e=t.getEntriesByType("resource");for(const i of e)CV(n,i);t.setupObserver("resource",i=>CV(n,i))}(n),0),setTimeout(()=>function(n){const t=So.getInstance(),e=t.getEntriesByType("measure");for(const i of e)xV(n,i);t.setupObserver("measure",i=>xV(n,i))}(n),0))}function xV(n,t){const e=t.name;e.substring(0,wR.length)!==wR&&n_.createUserTimingTrace(n,e)}class qY{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||(void 0!==(null==t?void 0:t.dataCollectionEnabled)&&(this.dataCollectionEnabled=t.dataCollectionEnabled),void 0!==(null==t?void 0:t.instrumentationEnabled)&&(this.instrumentationEnabled=t.instrumentationEnabled),So.getInstance().requiredApisAvailable()?(0,J.eu)().then(e=>{e&&(vV||(kI(5500),vV=!0),mV(this).then(()=>EV(this),()=>EV(this)),this.initialized=!0)}).catch(e=>{cf.info(`Environment doesn't support IndexedDB: ${e}`)}):cf.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){kc.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return kc.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){kc.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return kc.getInstance().dataCollectionEnabled}}function YY(n=(0,Jr.getApp)()){return n=(0,J.m9)(n),(0,Jr._getProvider)(n,"performance").getImmediate()}(0,Jr._registerComponent)(new Sl.wA("performance",(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==e.name)throw qo.create("FB not default");if("undefined"==typeof window)throw qo.create("no window");!function(n){cV=n}(window);const r=new qY(e,i);return r._init(t),r},"PUBLIC")),(0,Jr.registerVersion)(eV,bR),(0,Jr.registerVersion)(eV,bR,"esm2017");class kR{constructor(t){return t}}const TV="performance",MR=new s.OlP("angularfire2.performance-instances");function t9(n){return(t,e,i)=>{if(!qr(e))return null;const r=t.runOutsideAngular(()=>n(i));return new kR(r)}}const n9={provide:class{constructor(){return(0,Ht.vb)(TV)}},deps:[[new s.FiY,MR]]},r9={provide:kR,useFactory:function(n,t,e){if(!qr(e))return null;const i=(0,Ht.JM)(TV,n,t);return i&&new kR(i)},deps:[[new s.FiY,MR],jp,s.Lbi]};let s9=(()=>{class n{constructor(){(0,Sc.KN)("angularfire",Ht.q4.full,"perf")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[r9,n9]}),n})();function o9(n,...t){return{ngModule:s9,providers:[{provide:MR,useFactory:t9(n),multi:!0,deps:[s.R0b,s.Lbi,s.zs3,Ht.HU,Ub,...t]}]}}const a9=(0,Ht.u3)(YY,!0);let l9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[zZ]}),n.\u0275inj=s.cJS({providers:[Q2,hR],imports:[[Ws,NZ,ws.hO.initializeApp(zS_firebase),M3,K6,E3,g7,H2,sK,j2,DB(()=>AB(zS_firebase)),NK(()=>fK()),s8(()=>tM()),zK(()=>WK()),YK(()=>QK()),o9(()=>a9())]]}),n})();(0,s.G48)(),Gl().bootstrapModule(l9).catch(n=>console.error(n))},7466:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(8319),O(9493),O(7865),O(3057),function(){var T=s,X=T.lib.BlockCipher,ue=T.algo,Z=[],oe=[],N=[],W=[],R=[],M=[],L=[],V=[],z=[],ie=[];!function(){for(var $=[],K=0;K<256;K++)$[K]=K<128?K<<1:K<<1^283;var pe=0,_e=0;for(K=0;K<256;K++){var Ve=_e^_e<<1^_e<<2^_e<<3^_e<<4;Z[pe]=Ve=Ve>>>8^255&Ve^99,oe[Ve]=pe;var it,Re=$[pe],Xe=$[Re],me=$[Xe];N[pe]=(it=257*$[Ve]^16843008*Ve)<<24|it>>>8,W[pe]=it<<16|it>>>16,R[pe]=it<<8|it>>>24,M[pe]=it,L[Ve]=(it=16843009*me^65537*Xe^257*Re^16843008*pe)<<24|it>>>8,V[Ve]=it<<16|it>>>16,z[Ve]=it<<8|it>>>24,ie[Ve]=it,pe?(pe=Re^$[$[$[me^Re]]],_e^=$[$[_e]]):pe=_e=1}}();var se=[0,1,2,4,8,16,32,64,128,27,54],ee=ue.AES=X.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var K=this._keyPriorReset=this._key,pe=K.words,_e=K.sigBytes/4,Re=4*((this._nRounds=_e+6)+1),Xe=this._keySchedule=[],me=0;me<Re;me++)me<_e?Xe[me]=pe[me]:($=Xe[me-1],me%_e?_e>6&&me%_e==4&&($=Z[$>>>24]<<24|Z[$>>>16&255]<<16|Z[$>>>8&255]<<8|Z[255&$]):($=Z[($=$<<8|$>>>24)>>>24]<<24|Z[$>>>16&255]<<16|Z[$>>>8&255]<<8|Z[255&$],$^=se[me/_e|0]<<24),Xe[me]=Xe[me-_e]^$);for(var it=this._invKeySchedule=[],ve=0;ve<Re;ve++){if(me=Re-ve,ve%4)var $=Xe[me];else $=Xe[me-4];it[ve]=ve<4||me<=4?$:L[Z[$>>>24]]^V[Z[$>>>16&255]]^z[Z[$>>>8&255]]^ie[Z[255&$]]}}},encryptBlock:function($,K){this._doCryptBlock($,K,this._keySchedule,N,W,R,M,Z)},decryptBlock:function($,K){var pe=$[K+1];$[K+1]=$[K+3],$[K+3]=pe,this._doCryptBlock($,K,this._invKeySchedule,L,V,z,ie,oe),pe=$[K+1],$[K+1]=$[K+3],$[K+3]=pe},_doCryptBlock:function($,K,pe,_e,Ve,Re,Xe,me){for(var it=this._nRounds,ve=$[K]^pe[0],ae=$[K+1]^pe[1],ye=$[K+2]^pe[2],Ee=$[K+3]^pe[3],Ie=4,De=1;De<it;De++){var ct=_e[ve>>>24]^Ve[ae>>>16&255]^Re[ye>>>8&255]^Xe[255&Ee]^pe[Ie++],Tt=_e[ae>>>24]^Ve[ye>>>16&255]^Re[Ee>>>8&255]^Xe[255&ve]^pe[Ie++],zt=_e[ye>>>24]^Ve[Ee>>>16&255]^Re[ve>>>8&255]^Xe[255&ae]^pe[Ie++],Be=_e[Ee>>>24]^Ve[ve>>>16&255]^Re[ae>>>8&255]^Xe[255&ye]^pe[Ie++];ve=ct,ae=Tt,ye=zt,Ee=Be}ct=(me[ve>>>24]<<24|me[ae>>>16&255]<<16|me[ye>>>8&255]<<8|me[255&Ee])^pe[Ie++],Tt=(me[ae>>>24]<<24|me[ye>>>16&255]<<16|me[Ee>>>8&255]<<8|me[255&ve])^pe[Ie++],zt=(me[ye>>>24]<<24|me[Ee>>>16&255]<<16|me[ve>>>8&255]<<8|me[255&ae])^pe[Ie++],Be=(me[Ee>>>24]<<24|me[ve>>>16&255]<<16|me[ae>>>8&255]<<8|me[255&ye])^pe[Ie++],$[K]=ct,$[K+1]=Tt,$[K+2]=zt,$[K+3]=Be},keySize:8});T.AES=X._createHelper(ee)}(),s.AES)},3057:function(qe,Ae,O){var F,X,ue,Z,oe,N,R,L,V,ie,se,ee,K,_e,Re,Xe,it,ve,s;qe.exports=(s=O(7585),O(7865),void(s.lib.Cipher||(F=s,X=F.lib,ue=X.Base,Z=X.WordArray,oe=X.BufferedBlockAlgorithm,N=F.enc,R=N.Base64,L=F.algo.EvpKDF,V=X.Cipher=oe.extend({cfg:ue.extend(),createEncryptor:function(ae,ye){return this.create(this._ENC_XFORM_MODE,ae,ye)},createDecryptor:function(ae,ye){return this.create(this._DEC_XFORM_MODE,ae,ye)},init:function(ae,ye,Ee){this.cfg=this.cfg.extend(Ee),this._xformMode=ae,this._key=ye,this.reset()},reset:function(){oe.reset.call(this),this._doReset()},process:function(ae){return this._append(ae),this._process()},finalize:function(ae){return ae&&this._append(ae),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function ae(ye){return"string"==typeof ye?ve:Xe}return function(ye){return{encrypt:function(Ee,Ie,De){return ae(Ie).encrypt(ye,Ee,Ie,De)},decrypt:function(Ee,Ie,De){return ae(Ie).decrypt(ye,Ee,Ie,De)}}}}()}),X.StreamCipher=V.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),ie=F.mode={},se=X.BlockCipherMode=ue.extend({createEncryptor:function(ae,ye){return this.Encryptor.create(ae,ye)},createDecryptor:function(ae,ye){return this.Decryptor.create(ae,ye)},init:function(ae,ye){this._cipher=ae,this._iv=ye}}),ee=ie.CBC=function(){var ae=se.extend();function ye(Ee,Ie,De){var ct,Tt=this._iv;Tt?(ct=Tt,this._iv=undefined):ct=this._prevBlock;for(var zt=0;zt<De;zt++)Ee[Ie+zt]^=ct[zt]}return ae.Encryptor=ae.extend({processBlock:function(Ee,Ie){var De=this._cipher,ct=De.blockSize;ye.call(this,Ee,Ie,ct),De.encryptBlock(Ee,Ie),this._prevBlock=Ee.slice(Ie,Ie+ct)}}),ae.Decryptor=ae.extend({processBlock:function(Ee,Ie){var De=this._cipher,ct=De.blockSize,Tt=Ee.slice(Ie,Ie+ct);De.decryptBlock(Ee,Ie),ye.call(this,Ee,Ie,ct),this._prevBlock=Tt}}),ae}(),K=(F.pad={}).Pkcs7={pad:function(ae,ye){for(var Ee=4*ye,Ie=Ee-ae.sigBytes%Ee,De=Ie<<24|Ie<<16|Ie<<8|Ie,ct=[],Tt=0;Tt<Ie;Tt+=4)ct.push(De);var zt=Z.create(ct,Ie);ae.concat(zt)},unpad:function(ae){ae.sigBytes-=255&ae.words[ae.sigBytes-1>>>2]}},X.BlockCipher=V.extend({cfg:V.cfg.extend({mode:ee,padding:K}),reset:function(){var ae;V.reset.call(this);var ye=this.cfg,Ee=ye.iv,Ie=ye.mode;this._xformMode==this._ENC_XFORM_MODE?ae=Ie.createEncryptor:(ae=Ie.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ae?this._mode.init(this,Ee&&Ee.words):(this._mode=ae.call(Ie,this,Ee&&Ee.words),this._mode.__creator=ae)},_doProcessBlock:function(ae,ye){this._mode.processBlock(ae,ye)},_doFinalize:function(){var ae,ye=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ye.pad(this._data,this.blockSize),ae=this._process(!0)):(ae=this._process(!0),ye.unpad(ae)),ae},blockSize:4}),_e=X.CipherParams=ue.extend({init:function(ae){this.mixIn(ae)},toString:function(ae){return(ae||this.formatter).stringify(this)}}),Re=(F.format={}).OpenSSL={stringify:function(ae){var Ee=ae.ciphertext,Ie=ae.salt;return(Ie?Z.create([1398893684,1701076831]).concat(Ie).concat(Ee):Ee).toString(R)},parse:function(ae){var ye,Ee=R.parse(ae),Ie=Ee.words;return 1398893684==Ie[0]&&1701076831==Ie[1]&&(ye=Z.create(Ie.slice(2,4)),Ie.splice(0,4),Ee.sigBytes-=16),_e.create({ciphertext:Ee,salt:ye})}},Xe=X.SerializableCipher=ue.extend({cfg:ue.extend({format:Re}),encrypt:function(ae,ye,Ee,Ie){Ie=this.cfg.extend(Ie);var De=ae.createEncryptor(Ee,Ie),ct=De.finalize(ye),Tt=De.cfg;return _e.create({ciphertext:ct,key:Ee,iv:Tt.iv,algorithm:ae,mode:Tt.mode,padding:Tt.padding,blockSize:ae.blockSize,formatter:Ie.format})},decrypt:function(ae,ye,Ee,Ie){return Ie=this.cfg.extend(Ie),ye=this._parse(ye,Ie.format),ae.createDecryptor(Ee,Ie).finalize(ye.ciphertext)},_parse:function(ae,ye){return"string"==typeof ae?ye.parse(ae,this):ae}}),it=(F.kdf={}).OpenSSL={execute:function(ae,ye,Ee,Ie){Ie||(Ie=Z.random(8));var De=L.create({keySize:ye+Ee}).compute(ae,Ie),ct=Z.create(De.words.slice(ye),4*Ee);return De.sigBytes=4*ye,_e.create({key:De,iv:ct,salt:Ie})}},ve=X.PasswordBasedCipher=Xe.extend({cfg:Xe.cfg.extend({kdf:it}),encrypt:function(ae,ye,Ee,Ie){var De=(Ie=this.cfg.extend(Ie)).kdf.execute(Ee,ae.keySize,ae.ivSize);Ie.iv=De.iv;var ct=Xe.encrypt.call(this,ae,ye,De.key,Ie);return ct.mixIn(De),ct},decrypt:function(ae,ye,Ee,Ie){Ie=this.cfg.extend(Ie),ye=this._parse(ye,Ie.format);var De=Ie.kdf.execute(Ee,ae.keySize,ae.ivSize,ye.salt);return Ie.iv=De.iv,Xe.decrypt.call(this,ae,ye,De.key,Ie)}}))))},7585:function(qe,Ae,O){var s;qe.exports=(s=s||function(T,F){var X;if("undefined"!=typeof window&&window.crypto&&(X=window.crypto),"undefined"!=typeof self&&self.crypto&&(X=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(X=globalThis.crypto),!X&&"undefined"!=typeof window&&window.msCrypto&&(X=window.msCrypto),!X&&"undefined"!=typeof global&&global.crypto&&(X=global.crypto),!X)try{X=O(2480)}catch($){}var ue=function(){if(X){if("function"==typeof X.getRandomValues)try{return X.getRandomValues(new Uint32Array(1))[0]}catch($){}if("function"==typeof X.randomBytes)try{return X.randomBytes(4).readInt32LE()}catch($){}}throw new Error("Native crypto module could not be used to get secure random number.")},Z=Object.create||function(){function $(){}return function(K){var pe;return $.prototype=K,pe=new $,$.prototype=null,pe}}(),oe={},N=oe.lib={},W=N.Base={extend:function($){var K=Z(this);return $&&K.mixIn($),(!K.hasOwnProperty("init")||this.init===K.init)&&(K.init=function(){K.$super.init.apply(this,arguments)}),K.init.prototype=K,K.$super=this,K},create:function(){var $=this.extend();return $.init.apply($,arguments),$},init:function(){},mixIn:function($){for(var K in $)$.hasOwnProperty(K)&&(this[K]=$[K]);$.hasOwnProperty("toString")&&(this.toString=$.toString)},clone:function(){return this.init.prototype.extend(this)}},R=N.WordArray=W.extend({init:function($,K){$=this.words=$||[],this.sigBytes=null!=K?K:4*$.length},toString:function($){return($||L).stringify(this)},concat:function($){var K=this.words,pe=$.words,_e=this.sigBytes,Ve=$.sigBytes;if(this.clamp(),_e%4)for(var Re=0;Re<Ve;Re++)K[_e+Re>>>2]|=(pe[Re>>>2]>>>24-Re%4*8&255)<<24-(_e+Re)%4*8;else for(var me=0;me<Ve;me+=4)K[_e+me>>>2]=pe[me>>>2];return this.sigBytes+=Ve,this},clamp:function(){var $=this.words,K=this.sigBytes;$[K>>>2]&=4294967295<<32-K%4*8,$.length=T.ceil(K/4)},clone:function(){var $=W.clone.call(this);return $.words=this.words.slice(0),$},random:function($){for(var K=[],pe=0;pe<$;pe+=4)K.push(ue());return new R.init(K,$)}}),M=oe.enc={},L=M.Hex={stringify:function($){for(var K=$.words,pe=$.sigBytes,_e=[],Ve=0;Ve<pe;Ve++){var Re=K[Ve>>>2]>>>24-Ve%4*8&255;_e.push((Re>>>4).toString(16)),_e.push((15&Re).toString(16))}return _e.join("")},parse:function($){for(var K=$.length,pe=[],_e=0;_e<K;_e+=2)pe[_e>>>3]|=parseInt($.substr(_e,2),16)<<24-_e%8*4;return new R.init(pe,K/2)}},V=M.Latin1={stringify:function($){for(var K=$.words,pe=$.sigBytes,_e=[],Ve=0;Ve<pe;Ve++)_e.push(String.fromCharCode(K[Ve>>>2]>>>24-Ve%4*8&255));return _e.join("")},parse:function($){for(var K=$.length,pe=[],_e=0;_e<K;_e++)pe[_e>>>2]|=(255&$.charCodeAt(_e))<<24-_e%4*8;return new R.init(pe,K)}},z=M.Utf8={stringify:function($){try{return decodeURIComponent(escape(V.stringify($)))}catch(K){throw new Error("Malformed UTF-8 data")}},parse:function($){return V.parse(unescape(encodeURIComponent($)))}},ie=N.BufferedBlockAlgorithm=W.extend({reset:function(){this._data=new R.init,this._nDataBytes=0},_append:function($){"string"==typeof $&&($=z.parse($)),this._data.concat($),this._nDataBytes+=$.sigBytes},_process:function($){var K,pe=this._data,_e=pe.words,Ve=pe.sigBytes,Re=this.blockSize,me=Ve/(4*Re),it=(me=$?T.ceil(me):T.max((0|me)-this._minBufferSize,0))*Re,ve=T.min(4*it,Ve);if(it){for(var ae=0;ae<it;ae+=Re)this._doProcessBlock(_e,ae);K=_e.splice(0,it),pe.sigBytes-=ve}return new R.init(K,ve)},clone:function(){var $=W.clone.call(this);return $._data=this._data.clone(),$},_minBufferSize:0}),ee=(N.Hasher=ie.extend({cfg:W.extend(),init:function($){this.cfg=this.cfg.extend($),this.reset()},reset:function(){ie.reset.call(this),this._doReset()},update:function($){return this._append($),this._process(),this},finalize:function($){return $&&this._append($),this._doFinalize()},blockSize:16,_createHelper:function($){return function(K,pe){return new $.init(pe).finalize(K)}},_createHmacHelper:function($){return function(K,pe){return new ee.HMAC.init($,pe).finalize(K)}}}),oe.algo={});return oe}(Math),s)},8319:function(qe,Ae,O){var s,X;qe.exports=(s=O(7585),X=s.lib.WordArray,s.enc.Base64={stringify:function(N){var W=N.words,R=N.sigBytes,M=this._map;N.clamp();for(var L=[],V=0;V<R;V+=3)for(var ee=(W[V>>>2]>>>24-V%4*8&255)<<16|(W[V+1>>>2]>>>24-(V+1)%4*8&255)<<8|W[V+2>>>2]>>>24-(V+2)%4*8&255,$=0;$<4&&V+.75*$<R;$++)L.push(M.charAt(ee>>>6*(3-$)&63));var K=M.charAt(64);if(K)for(;L.length%4;)L.push(K);return L.join("")},parse:function(N){var W=N.length,R=this._map,M=this._reverseMap;if(!M){M=this._reverseMap=[];for(var L=0;L<R.length;L++)M[R.charCodeAt(L)]=L}var V=R.charAt(64);if(V){var z=N.indexOf(V);-1!==z&&(W=z)}return function(N,W,R){for(var M=[],L=0,V=0;V<W;V++)if(V%4){var z=R[N.charCodeAt(V-1)]<<V%4*2,ie=R[N.charCodeAt(V)]>>>6-V%4*2;M[L>>>2]|=(z|ie)<<24-L%4*8,L++}return X.create(M,L)}(N,W,M)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},s.enc.Base64)},4410:function(qe,Ae,O){var s,X;qe.exports=(s=O(7585),X=s.lib.WordArray,s.enc.Base64url={stringify:function(N,W=!0){var R=N.words,M=N.sigBytes,L=W?this._safe_map:this._map;N.clamp();for(var V=[],z=0;z<M;z+=3)for(var $=(R[z>>>2]>>>24-z%4*8&255)<<16|(R[z+1>>>2]>>>24-(z+1)%4*8&255)<<8|R[z+2>>>2]>>>24-(z+2)%4*8&255,K=0;K<4&&z+.75*K<M;K++)V.push(L.charAt($>>>6*(3-K)&63));var pe=L.charAt(64);if(pe)for(;V.length%4;)V.push(pe);return V.join("")},parse:function(N,W=!0){var R=N.length,M=W?this._safe_map:this._map,L=this._reverseMap;if(!L){L=this._reverseMap=[];for(var V=0;V<M.length;V++)L[M.charCodeAt(V)]=V}var z=M.charAt(64);if(z){var ie=N.indexOf(z);-1!==ie&&(R=ie)}return function(N,W,R){for(var M=[],L=0,V=0;V<W;V++)if(V%4){var z=R[N.charCodeAt(V-1)]<<V%4*2,ie=R[N.charCodeAt(V)]>>>6-V%4*2;M[L>>>2]|=(z|ie)<<24-L%4*8,L++}return X.create(M,L)}(N,R,L)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},s.enc.Base64url)},9012:function(qe,Ae,O){var s;qe.exports=(s=O(7585),function(){var X=s.lib.WordArray,ue=s.enc;function oe(N){return N<<8&4278255360|N>>>8&16711935}ue.Utf16=ue.Utf16BE={stringify:function(N){for(var W=N.words,R=N.sigBytes,M=[],L=0;L<R;L+=2)M.push(String.fromCharCode(W[L>>>2]>>>16-L%4*8&65535));return M.join("")},parse:function(N){for(var W=N.length,R=[],M=0;M<W;M++)R[M>>>1]|=N.charCodeAt(M)<<16-M%2*16;return X.create(R,2*W)}},ue.Utf16LE={stringify:function(N){for(var W=N.words,R=N.sigBytes,M=[],L=0;L<R;L+=2){var V=oe(W[L>>>2]>>>16-L%4*8&65535);M.push(String.fromCharCode(V))}return M.join("")},parse:function(N){for(var W=N.length,R=[],M=0;M<W;M++)R[M>>>1]|=oe(N.charCodeAt(M)<<16-M%2*16);return X.create(R,2*W)}}}(),s.enc.Utf16)},7865:function(qe,Ae,O){var T,F,X,ue,Z,N,s;qe.exports=(s=O(7585),O(5162),O(3764),ue=(F=(T=s).lib).WordArray,N=(Z=T.algo).EvpKDF=(X=F.Base).extend({cfg:X.extend({keySize:4,hasher:Z.MD5,iterations:1}),init:function(W){this.cfg=this.cfg.extend(W)},compute:function(W,R){for(var M,L=this.cfg,V=L.hasher.create(),z=ue.create(),ie=z.words,se=L.keySize,ee=L.iterations;ie.length<se;){M&&V.update(M),M=V.update(W).finalize(R),V.reset();for(var $=1;$<ee;$++)M=V.finalize(M),V.reset();z.concat(M)}return z.sigBytes=4*se,z}}),T.EvpKDF=function(W,R,M){return N.create(M).compute(W,R)},s.EvpKDF)},1847:function(qe,Ae,O){var s,ue,oe;qe.exports=(s=O(7585),O(3057),ue=s.lib.CipherParams,oe=s.enc.Hex,s.format.Hex={stringify:function(R){return R.ciphertext.toString(oe)},parse:function(R){var M=oe.parse(R);return ue.create({ciphertext:M})}},s.format.Hex)},3764:function(qe,Ae,O){var s,Z;qe.exports=(s=O(7585),Z=s.enc.Utf8,void(s.algo.HMAC=s.lib.Base.extend({init:function(W,R){W=this._hasher=new W.init,"string"==typeof R&&(R=Z.parse(R));var M=W.blockSize,L=4*M;R.sigBytes>L&&(R=W.finalize(R)),R.clamp();for(var V=this._oKey=R.clone(),z=this._iKey=R.clone(),ie=V.words,se=z.words,ee=0;ee<M;ee++)ie[ee]^=1549556828,se[ee]^=909522486;V.sigBytes=z.sigBytes=L,this.reset()},reset:function(){var W=this._hasher;W.reset(),W.update(this._iKey)},update:function(W){return this._hasher.update(W),this},finalize:function(W){var R=this._hasher,M=R.finalize(W);return R.reset(),R.finalize(this._oKey.clone().concat(M))}})))},7206:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(401),O(7412),O(9012),O(8319),O(4410),O(9493),O(5162),O(1817),O(8769),O(3351),O(6787),O(1971),O(4973),O(3764),O(8812),O(7865),O(3057),O(4424),O(6635),O(3592),O(9354),O(7934),O(4413),O(4630),O(187),O(1691),O(3237),O(1847),O(7466),O(7243),O(486),O(8182),O(3544),s)},7412:function(qe,Ae,O){var s;qe.exports=(s=O(7585),function(){if("function"==typeof ArrayBuffer){var X=s.lib.WordArray,ue=X.init,Z=X.init=function(oe){if(oe instanceof ArrayBuffer&&(oe=new Uint8Array(oe)),(oe instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&oe instanceof Uint8ClampedArray||oe instanceof Int16Array||oe instanceof Uint16Array||oe instanceof Int32Array||oe instanceof Uint32Array||oe instanceof Float32Array||oe instanceof Float64Array)&&(oe=new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength)),oe instanceof Uint8Array){for(var N=oe.byteLength,W=[],R=0;R<N;R++)W[R>>>2]|=oe[R]<<24-R%4*8;ue.call(this,W,N)}else ue.apply(this,arguments)};Z.prototype=X}}(),s.lib.WordArray)},9493:function(qe,Ae,O){var s;qe.exports=(s=O(7585),function(T){var F=s,X=F.lib,ue=X.WordArray,Z=X.Hasher,oe=F.algo,N=[];!function(){for(var z=0;z<64;z++)N[z]=4294967296*T.abs(T.sin(z+1))|0}();var W=oe.MD5=Z.extend({_doReset:function(){this._hash=new ue.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(z,ie){for(var se=0;se<16;se++){var ee=ie+se,$=z[ee];z[ee]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8)}var K=this._hash.words,pe=z[ie+0],_e=z[ie+1],Ve=z[ie+2],Re=z[ie+3],Xe=z[ie+4],me=z[ie+5],it=z[ie+6],ve=z[ie+7],ae=z[ie+8],ye=z[ie+9],Ee=z[ie+10],Ie=z[ie+11],De=z[ie+12],ct=z[ie+13],Tt=z[ie+14],zt=z[ie+15],Be=K[0],He=K[1],Ze=K[2],et=K[3];Be=R(Be,He,Ze,et,pe,7,N[0]),et=R(et,Be,He,Ze,_e,12,N[1]),Ze=R(Ze,et,Be,He,Ve,17,N[2]),He=R(He,Ze,et,Be,Re,22,N[3]),Be=R(Be,He,Ze,et,Xe,7,N[4]),et=R(et,Be,He,Ze,me,12,N[5]),Ze=R(Ze,et,Be,He,it,17,N[6]),He=R(He,Ze,et,Be,ve,22,N[7]),Be=R(Be,He,Ze,et,ae,7,N[8]),et=R(et,Be,He,Ze,ye,12,N[9]),Ze=R(Ze,et,Be,He,Ee,17,N[10]),He=R(He,Ze,et,Be,Ie,22,N[11]),Be=R(Be,He,Ze,et,De,7,N[12]),et=R(et,Be,He,Ze,ct,12,N[13]),Ze=R(Ze,et,Be,He,Tt,17,N[14]),Be=M(Be,He=R(He,Ze,et,Be,zt,22,N[15]),Ze,et,_e,5,N[16]),et=M(et,Be,He,Ze,it,9,N[17]),Ze=M(Ze,et,Be,He,Ie,14,N[18]),He=M(He,Ze,et,Be,pe,20,N[19]),Be=M(Be,He,Ze,et,me,5,N[20]),et=M(et,Be,He,Ze,Ee,9,N[21]),Ze=M(Ze,et,Be,He,zt,14,N[22]),He=M(He,Ze,et,Be,Xe,20,N[23]),Be=M(Be,He,Ze,et,ye,5,N[24]),et=M(et,Be,He,Ze,Tt,9,N[25]),Ze=M(Ze,et,Be,He,Re,14,N[26]),He=M(He,Ze,et,Be,ae,20,N[27]),Be=M(Be,He,Ze,et,ct,5,N[28]),et=M(et,Be,He,Ze,Ve,9,N[29]),Ze=M(Ze,et,Be,He,ve,14,N[30]),Be=L(Be,He=M(He,Ze,et,Be,De,20,N[31]),Ze,et,me,4,N[32]),et=L(et,Be,He,Ze,ae,11,N[33]),Ze=L(Ze,et,Be,He,Ie,16,N[34]),He=L(He,Ze,et,Be,Tt,23,N[35]),Be=L(Be,He,Ze,et,_e,4,N[36]),et=L(et,Be,He,Ze,Xe,11,N[37]),Ze=L(Ze,et,Be,He,ve,16,N[38]),He=L(He,Ze,et,Be,Ee,23,N[39]),Be=L(Be,He,Ze,et,ct,4,N[40]),et=L(et,Be,He,Ze,pe,11,N[41]),Ze=L(Ze,et,Be,He,Re,16,N[42]),He=L(He,Ze,et,Be,it,23,N[43]),Be=L(Be,He,Ze,et,ye,4,N[44]),et=L(et,Be,He,Ze,De,11,N[45]),Ze=L(Ze,et,Be,He,zt,16,N[46]),Be=V(Be,He=L(He,Ze,et,Be,Ve,23,N[47]),Ze,et,pe,6,N[48]),et=V(et,Be,He,Ze,ve,10,N[49]),Ze=V(Ze,et,Be,He,Tt,15,N[50]),He=V(He,Ze,et,Be,me,21,N[51]),Be=V(Be,He,Ze,et,De,6,N[52]),et=V(et,Be,He,Ze,Re,10,N[53]),Ze=V(Ze,et,Be,He,Ee,15,N[54]),He=V(He,Ze,et,Be,_e,21,N[55]),Be=V(Be,He,Ze,et,ae,6,N[56]),et=V(et,Be,He,Ze,zt,10,N[57]),Ze=V(Ze,et,Be,He,it,15,N[58]),He=V(He,Ze,et,Be,ct,21,N[59]),Be=V(Be,He,Ze,et,Xe,6,N[60]),et=V(et,Be,He,Ze,Ie,10,N[61]),Ze=V(Ze,et,Be,He,Ve,15,N[62]),He=V(He,Ze,et,Be,ye,21,N[63]),K[0]=K[0]+Be|0,K[1]=K[1]+He|0,K[2]=K[2]+Ze|0,K[3]=K[3]+et|0},_doFinalize:function(){var z=this._data,ie=z.words,se=8*this._nDataBytes,ee=8*z.sigBytes;ie[ee>>>5]|=128<<24-ee%32;var $=T.floor(se/4294967296),K=se;ie[15+(ee+64>>>9<<4)]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),ie[14+(ee+64>>>9<<4)]=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),z.sigBytes=4*(ie.length+1),this._process();for(var pe=this._hash,_e=pe.words,Ve=0;Ve<4;Ve++){var Re=_e[Ve];_e[Ve]=16711935&(Re<<8|Re>>>24)|4278255360&(Re<<24|Re>>>8)}return pe},clone:function(){var z=Z.clone.call(this);return z._hash=this._hash.clone(),z}});function R(z,ie,se,ee,$,K,pe){var _e=z+(ie&se|~ie&ee)+$+pe;return(_e<<K|_e>>>32-K)+ie}function M(z,ie,se,ee,$,K,pe){var _e=z+(ie&ee|se&~ee)+$+pe;return(_e<<K|_e>>>32-K)+ie}function L(z,ie,se,ee,$,K,pe){var _e=z+(ie^se^ee)+$+pe;return(_e<<K|_e>>>32-K)+ie}function V(z,ie,se,ee,$,K,pe){var _e=z+(se^(ie|~ee))+$+pe;return(_e<<K|_e>>>32-K)+ie}F.MD5=Z._createHelper(W),F.HmacMD5=Z._createHmacHelper(W)}(Math),s.MD5)},4424:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.mode.CFB=function(){var T=s.lib.BlockCipherMode.extend();function F(X,ue,Z,oe){var N,W=this._iv;W?(N=W.slice(0),this._iv=void 0):N=this._prevBlock,oe.encryptBlock(N,0);for(var R=0;R<Z;R++)X[ue+R]^=N[R]}return T.Encryptor=T.extend({processBlock:function(X,ue){var Z=this._cipher,oe=Z.blockSize;F.call(this,X,ue,oe,Z),this._prevBlock=X.slice(ue,ue+oe)}}),T.Decryptor=T.extend({processBlock:function(X,ue){var Z=this._cipher,oe=Z.blockSize,N=X.slice(ue,ue+oe);F.call(this,X,ue,oe,Z),this._prevBlock=N}}),T}(),s.mode.CFB)},3592:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.mode.CTRGladman=function(){var T=s.lib.BlockCipherMode.extend();function F(Z){if(255==(Z>>24&255)){var oe=Z>>16&255,N=Z>>8&255,W=255&Z;255===oe?(oe=0,255===N?(N=0,255===W?W=0:++W):++N):++oe,Z=0,Z+=oe<<16,Z+=N<<8,Z+=W}else Z+=1<<24;return Z}var ue=T.Encryptor=T.extend({processBlock:function(Z,oe){var N=this._cipher,W=N.blockSize,R=this._iv,M=this._counter;R&&(M=this._counter=R.slice(0),this._iv=void 0),function(Z){0===(Z[0]=F(Z[0]))&&(Z[1]=F(Z[1]))}(M);var L=M.slice(0);N.encryptBlock(L,0);for(var V=0;V<W;V++)Z[oe+V]^=L[V]}});return T.Decryptor=ue,T}(),s.mode.CTRGladman)},6635:function(qe,Ae,O){var T,F,s;qe.exports=(s=O(7585),O(3057),s.mode.CTR=(F=(T=s.lib.BlockCipherMode.extend()).Encryptor=T.extend({processBlock:function(X,ue){var Z=this._cipher,oe=Z.blockSize,N=this._iv,W=this._counter;N&&(W=this._counter=N.slice(0),this._iv=void 0);var R=W.slice(0);Z.encryptBlock(R,0),W[oe-1]=W[oe-1]+1|0;for(var M=0;M<oe;M++)X[ue+M]^=R[M]}}),T.Decryptor=F,T),s.mode.CTR)},7934:function(qe,Ae,O){var T,s;qe.exports=(s=O(7585),O(3057),s.mode.ECB=((T=s.lib.BlockCipherMode.extend()).Encryptor=T.extend({processBlock:function(F,X){this._cipher.encryptBlock(F,X)}}),T.Decryptor=T.extend({processBlock:function(F,X){this._cipher.decryptBlock(F,X)}}),T),s.mode.ECB)},9354:function(qe,Ae,O){var T,F,s;qe.exports=(s=O(7585),O(3057),s.mode.OFB=(F=(T=s.lib.BlockCipherMode.extend()).Encryptor=T.extend({processBlock:function(X,ue){var Z=this._cipher,oe=Z.blockSize,N=this._iv,W=this._keystream;N&&(W=this._keystream=N.slice(0),this._iv=void 0),Z.encryptBlock(W,0);for(var R=0;R<oe;R++)X[ue+R]^=W[R]}}),T.Decryptor=F,T),s.mode.OFB)},4413:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.pad.AnsiX923={pad:function(T,F){var X=T.sigBytes,ue=4*F,Z=ue-X%ue,oe=X+Z-1;T.clamp(),T.words[oe>>>2]|=Z<<24-oe%4*8,T.sigBytes+=Z},unpad:function(T){T.sigBytes-=255&T.words[T.sigBytes-1>>>2]}},s.pad.Ansix923)},4630:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.pad.Iso10126={pad:function(T,F){var X=4*F,ue=X-T.sigBytes%X;T.concat(s.lib.WordArray.random(ue-1)).concat(s.lib.WordArray.create([ue<<24],1))},unpad:function(T){T.sigBytes-=255&T.words[T.sigBytes-1>>>2]}},s.pad.Iso10126)},187:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.pad.Iso97971={pad:function(T,F){T.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(T,F)},unpad:function(T){s.pad.ZeroPadding.unpad(T),T.sigBytes--}},s.pad.Iso97971)},3237:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding)},1691:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(3057),s.pad.ZeroPadding={pad:function(T,F){var X=4*F;T.clamp(),T.sigBytes+=X-(T.sigBytes%X||X)},unpad:function(T){var F=T.words,X=T.sigBytes-1;for(X=T.sigBytes-1;X>=0;X--)if(F[X>>>2]>>>24-X%4*8&255){T.sigBytes=X+1;break}}},s.pad.ZeroPadding)},8812:function(qe,Ae,O){var T,F,X,ue,Z,N,W,s;qe.exports=(s=O(7585),O(5162),O(3764),ue=(F=(T=s).lib).WordArray,N=(Z=T.algo).HMAC,W=Z.PBKDF2=(X=F.Base).extend({cfg:X.extend({keySize:4,hasher:Z.SHA1,iterations:1}),init:function(R){this.cfg=this.cfg.extend(R)},compute:function(R,M){for(var L=this.cfg,V=N.create(L.hasher,R),z=ue.create(),ie=ue.create([1]),se=z.words,ee=ie.words,$=L.keySize,K=L.iterations;se.length<$;){var pe=V.update(M).finalize(ie);V.reset();for(var _e=pe.words,Ve=_e.length,Re=pe,Xe=1;Xe<K;Xe++){Re=V.finalize(Re),V.reset();for(var me=Re.words,it=0;it<Ve;it++)_e[it]^=me[it]}z.concat(pe),ee[0]++}return z.sigBytes=4*$,z}}),T.PBKDF2=function(R,M,L){return W.create(L).compute(R,M)},s.PBKDF2)},3544:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(8319),O(9493),O(7865),O(3057),function(){var T=s,X=T.lib.StreamCipher,Z=[],oe=[],N=[],W=T.algo.RabbitLegacy=X.extend({_doReset:function(){var M=this._key.words,L=this.cfg.iv,V=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],z=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];this._b=0;for(var ie=0;ie<4;ie++)R.call(this);for(ie=0;ie<8;ie++)z[ie]^=V[ie+4&7];if(L){var se=L.words,ee=se[0],$=se[1],K=16711935&(ee<<8|ee>>>24)|4278255360&(ee<<24|ee>>>8),pe=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),_e=K>>>16|4294901760&pe,Ve=pe<<16|65535&K;for(z[0]^=K,z[1]^=_e,z[2]^=pe,z[3]^=Ve,z[4]^=K,z[5]^=_e,z[6]^=pe,z[7]^=Ve,ie=0;ie<4;ie++)R.call(this)}},_doProcessBlock:function(M,L){var V=this._X;R.call(this),Z[0]=V[0]^V[5]>>>16^V[3]<<16,Z[1]=V[2]^V[7]>>>16^V[5]<<16,Z[2]=V[4]^V[1]>>>16^V[7]<<16,Z[3]=V[6]^V[3]>>>16^V[1]<<16;for(var z=0;z<4;z++)Z[z]=16711935&(Z[z]<<8|Z[z]>>>24)|4278255360&(Z[z]<<24|Z[z]>>>8),M[L+z]^=Z[z]},blockSize:4,ivSize:2});function R(){for(var M=this._X,L=this._C,V=0;V<8;V++)oe[V]=L[V];for(L[0]=L[0]+1295307597+this._b|0,L[1]=L[1]+3545052371+(L[0]>>>0<oe[0]>>>0?1:0)|0,L[2]=L[2]+886263092+(L[1]>>>0<oe[1]>>>0?1:0)|0,L[3]=L[3]+1295307597+(L[2]>>>0<oe[2]>>>0?1:0)|0,L[4]=L[4]+3545052371+(L[3]>>>0<oe[3]>>>0?1:0)|0,L[5]=L[5]+886263092+(L[4]>>>0<oe[4]>>>0?1:0)|0,L[6]=L[6]+1295307597+(L[5]>>>0<oe[5]>>>0?1:0)|0,L[7]=L[7]+3545052371+(L[6]>>>0<oe[6]>>>0?1:0)|0,this._b=L[7]>>>0<oe[7]>>>0?1:0,V=0;V<8;V++){var z=M[V]+L[V],ie=65535&z,se=z>>>16;N[V]=((ie*ie>>>17)+ie*se>>>15)+se*se^((4294901760&z)*z|0)+((65535&z)*z|0)}M[0]=N[0]+(N[7]<<16|N[7]>>>16)+(N[6]<<16|N[6]>>>16)|0,M[1]=N[1]+(N[0]<<8|N[0]>>>24)+N[7]|0,M[2]=N[2]+(N[1]<<16|N[1]>>>16)+(N[0]<<16|N[0]>>>16)|0,M[3]=N[3]+(N[2]<<8|N[2]>>>24)+N[1]|0,M[4]=N[4]+(N[3]<<16|N[3]>>>16)+(N[2]<<16|N[2]>>>16)|0,M[5]=N[5]+(N[4]<<8|N[4]>>>24)+N[3]|0,M[6]=N[6]+(N[5]<<16|N[5]>>>16)+(N[4]<<16|N[4]>>>16)|0,M[7]=N[7]+(N[6]<<8|N[6]>>>24)+N[5]|0}T.RabbitLegacy=X._createHelper(W)}(),s.RabbitLegacy)},8182:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(8319),O(9493),O(7865),O(3057),function(){var T=s,X=T.lib.StreamCipher,Z=[],oe=[],N=[],W=T.algo.Rabbit=X.extend({_doReset:function(){for(var M=this._key.words,L=this.cfg.iv,V=0;V<4;V++)M[V]=16711935&(M[V]<<8|M[V]>>>24)|4278255360&(M[V]<<24|M[V]>>>8);var z=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],ie=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];for(this._b=0,V=0;V<4;V++)R.call(this);for(V=0;V<8;V++)ie[V]^=z[V+4&7];if(L){var se=L.words,ee=se[0],$=se[1],K=16711935&(ee<<8|ee>>>24)|4278255360&(ee<<24|ee>>>8),pe=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),_e=K>>>16|4294901760&pe,Ve=pe<<16|65535&K;for(ie[0]^=K,ie[1]^=_e,ie[2]^=pe,ie[3]^=Ve,ie[4]^=K,ie[5]^=_e,ie[6]^=pe,ie[7]^=Ve,V=0;V<4;V++)R.call(this)}},_doProcessBlock:function(M,L){var V=this._X;R.call(this),Z[0]=V[0]^V[5]>>>16^V[3]<<16,Z[1]=V[2]^V[7]>>>16^V[5]<<16,Z[2]=V[4]^V[1]>>>16^V[7]<<16,Z[3]=V[6]^V[3]>>>16^V[1]<<16;for(var z=0;z<4;z++)Z[z]=16711935&(Z[z]<<8|Z[z]>>>24)|4278255360&(Z[z]<<24|Z[z]>>>8),M[L+z]^=Z[z]},blockSize:4,ivSize:2});function R(){for(var M=this._X,L=this._C,V=0;V<8;V++)oe[V]=L[V];for(L[0]=L[0]+1295307597+this._b|0,L[1]=L[1]+3545052371+(L[0]>>>0<oe[0]>>>0?1:0)|0,L[2]=L[2]+886263092+(L[1]>>>0<oe[1]>>>0?1:0)|0,L[3]=L[3]+1295307597+(L[2]>>>0<oe[2]>>>0?1:0)|0,L[4]=L[4]+3545052371+(L[3]>>>0<oe[3]>>>0?1:0)|0,L[5]=L[5]+886263092+(L[4]>>>0<oe[4]>>>0?1:0)|0,L[6]=L[6]+1295307597+(L[5]>>>0<oe[5]>>>0?1:0)|0,L[7]=L[7]+3545052371+(L[6]>>>0<oe[6]>>>0?1:0)|0,this._b=L[7]>>>0<oe[7]>>>0?1:0,V=0;V<8;V++){var z=M[V]+L[V],ie=65535&z,se=z>>>16;N[V]=((ie*ie>>>17)+ie*se>>>15)+se*se^((4294901760&z)*z|0)+((65535&z)*z|0)}M[0]=N[0]+(N[7]<<16|N[7]>>>16)+(N[6]<<16|N[6]>>>16)|0,M[1]=N[1]+(N[0]<<8|N[0]>>>24)+N[7]|0,M[2]=N[2]+(N[1]<<16|N[1]>>>16)+(N[0]<<16|N[0]>>>16)|0,M[3]=N[3]+(N[2]<<8|N[2]>>>24)+N[1]|0,M[4]=N[4]+(N[3]<<16|N[3]>>>16)+(N[2]<<16|N[2]>>>16)|0,M[5]=N[5]+(N[4]<<8|N[4]>>>24)+N[3]|0,M[6]=N[6]+(N[5]<<16|N[5]>>>16)+(N[4]<<16|N[4]>>>16)|0,M[7]=N[7]+(N[6]<<8|N[6]>>>24)+N[5]|0}T.Rabbit=X._createHelper(W)}(),s.Rabbit)},486:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(8319),O(9493),O(7865),O(3057),function(){var T=s,X=T.lib.StreamCipher,ue=T.algo,Z=ue.RC4=X.extend({_doReset:function(){for(var W=this._key,R=W.words,M=W.sigBytes,L=this._S=[],V=0;V<256;V++)L[V]=V;V=0;for(var z=0;V<256;V++){var ie=V%M,ee=L[V];L[V]=L[z=(z+L[V]+(R[ie>>>2]>>>24-ie%4*8&255))%256],L[z]=ee}this._i=this._j=0},_doProcessBlock:function(W,R){W[R]^=oe.call(this)},keySize:8,ivSize:0});function oe(){for(var W=this._S,R=this._i,M=this._j,L=0,V=0;V<4;V++){var z=W[R=(R+1)%256];W[R]=W[M=(M+W[R])%256],W[M]=z,L|=W[(W[R]+W[M])%256]<<24-8*V}return this._i=R,this._j=M,L}T.RC4=X._createHelper(Z);var N=ue.RC4Drop=Z.extend({cfg:Z.cfg.extend({drop:192}),_doReset:function(){Z._doReset.call(this);for(var W=this.cfg.drop;W>0;W--)oe.call(this)}});T.RC4Drop=X._createHelper(N)}(),s.RC4)},4973:function(qe,Ae,O){var s;qe.exports=(s=O(7585),function(T){var F=s,X=F.lib,ue=X.WordArray,Z=X.Hasher,oe=F.algo,N=ue.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),W=ue.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),R=ue.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),M=ue.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),L=ue.create([0,1518500249,1859775393,2400959708,2840853838]),V=ue.create([1352829926,1548603684,1836072691,2053994217,0]),z=oe.RIPEMD160=Z.extend({_doReset:function(){this._hash=ue.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_e,Ve){for(var Re=0;Re<16;Re++){var Xe=Ve+Re,me=_e[Xe];_e[Xe]=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8)}var ct,Tt,zt,Be,He,Ze,et,Sn,sn,Nt,St,it=this._hash.words,ve=L.words,ae=V.words,ye=N.words,Ee=W.words,Ie=R.words,De=M.words;for(Ze=ct=it[0],et=Tt=it[1],Sn=zt=it[2],sn=Be=it[3],Nt=He=it[4],Re=0;Re<80;Re+=1)St=ct+_e[Ve+ye[Re]]|0,St+=Re<16?ie(Tt,zt,Be)+ve[0]:Re<32?se(Tt,zt,Be)+ve[1]:Re<48?ee(Tt,zt,Be)+ve[2]:Re<64?$(Tt,zt,Be)+ve[3]:K(Tt,zt,Be)+ve[4],St=(St=pe(St|=0,Ie[Re]))+He|0,ct=He,He=Be,Be=pe(zt,10),zt=Tt,Tt=St,St=Ze+_e[Ve+Ee[Re]]|0,St+=Re<16?K(et,Sn,sn)+ae[0]:Re<32?$(et,Sn,sn)+ae[1]:Re<48?ee(et,Sn,sn)+ae[2]:Re<64?se(et,Sn,sn)+ae[3]:ie(et,Sn,sn)+ae[4],St=(St=pe(St|=0,De[Re]))+Nt|0,Ze=Nt,Nt=sn,sn=pe(Sn,10),Sn=et,et=St;St=it[1]+zt+sn|0,it[1]=it[2]+Be+Nt|0,it[2]=it[3]+He+Ze|0,it[3]=it[4]+ct+et|0,it[4]=it[0]+Tt+Sn|0,it[0]=St},_doFinalize:function(){var _e=this._data,Ve=_e.words,Re=8*this._nDataBytes,Xe=8*_e.sigBytes;Ve[Xe>>>5]|=128<<24-Xe%32,Ve[14+(Xe+64>>>9<<4)]=16711935&(Re<<8|Re>>>24)|4278255360&(Re<<24|Re>>>8),_e.sigBytes=4*(Ve.length+1),this._process();for(var me=this._hash,it=me.words,ve=0;ve<5;ve++){var ae=it[ve];it[ve]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}return me},clone:function(){var _e=Z.clone.call(this);return _e._hash=this._hash.clone(),_e}});function ie(_e,Ve,Re){return _e^Ve^Re}function se(_e,Ve,Re){return _e&Ve|~_e&Re}function ee(_e,Ve,Re){return(_e|~Ve)^Re}function $(_e,Ve,Re){return _e&Re|Ve&~Re}function K(_e,Ve,Re){return _e^(Ve|~Re)}function pe(_e,Ve){return _e<<Ve|_e>>>32-Ve}F.RIPEMD160=Z._createHelper(z),F.HmacRIPEMD160=Z._createHmacHelper(z)}(Math),s.RIPEMD160)},5162:function(qe,Ae,O){var T,F,X,ue,oe,N,s;qe.exports=(s=O(7585),X=(F=(T=s).lib).WordArray,oe=[],N=T.algo.SHA1=(ue=F.Hasher).extend({_doReset:function(){this._hash=new X.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(W,R){for(var M=this._hash.words,L=M[0],V=M[1],z=M[2],ie=M[3],se=M[4],ee=0;ee<80;ee++){if(ee<16)oe[ee]=0|W[R+ee];else{var $=oe[ee-3]^oe[ee-8]^oe[ee-14]^oe[ee-16];oe[ee]=$<<1|$>>>31}var K=(L<<5|L>>>27)+se+oe[ee];K+=ee<20?1518500249+(V&z|~V&ie):ee<40?1859775393+(V^z^ie):ee<60?(V&z|V&ie|z&ie)-1894007588:(V^z^ie)-899497514,se=ie,ie=z,z=V<<30|V>>>2,V=L,L=K}M[0]=M[0]+L|0,M[1]=M[1]+V|0,M[2]=M[2]+z|0,M[3]=M[3]+ie|0,M[4]=M[4]+se|0},_doFinalize:function(){var W=this._data,R=W.words,M=8*this._nDataBytes,L=8*W.sigBytes;return R[L>>>5]|=128<<24-L%32,R[14+(L+64>>>9<<4)]=Math.floor(M/4294967296),R[15+(L+64>>>9<<4)]=M,W.sigBytes=4*R.length,this._process(),this._hash},clone:function(){var W=ue.clone.call(this);return W._hash=this._hash.clone(),W}}),T.SHA1=ue._createHelper(N),T.HmacSHA1=ue._createHmacHelper(N),s.SHA1)},8769:function(qe,Ae,O){var T,X,ue,Z,oe,s;qe.exports=(s=O(7585),O(1817),X=(T=s).lib.WordArray,oe=(ue=T.algo).SHA224=(Z=ue.SHA256).extend({_doReset:function(){this._hash=new X.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var N=Z._doFinalize.call(this);return N.sigBytes-=4,N}}),T.SHA224=Z._createHelper(oe),T.HmacSHA224=Z._createHmacHelper(oe),s.SHA224)},1817:function(qe,Ae,O){var s;qe.exports=(s=O(7585),function(T){var F=s,X=F.lib,ue=X.WordArray,Z=X.Hasher,oe=F.algo,N=[],W=[];!function(){function L(se){for(var ee=T.sqrt(se),$=2;$<=ee;$++)if(!(se%$))return!1;return!0}function V(se){return 4294967296*(se-(0|se))|0}for(var z=2,ie=0;ie<64;)L(z)&&(ie<8&&(N[ie]=V(T.pow(z,.5))),W[ie]=V(T.pow(z,1/3)),ie++),z++}();var R=[],M=oe.SHA256=Z.extend({_doReset:function(){this._hash=new ue.init(N.slice(0))},_doProcessBlock:function(L,V){for(var z=this._hash.words,ie=z[0],se=z[1],ee=z[2],$=z[3],K=z[4],pe=z[5],_e=z[6],Ve=z[7],Re=0;Re<64;Re++){if(Re<16)R[Re]=0|L[V+Re];else{var Xe=R[Re-15],it=R[Re-2];R[Re]=((Xe<<25|Xe>>>7)^(Xe<<14|Xe>>>18)^Xe>>>3)+R[Re-7]+((it<<15|it>>>17)^(it<<13|it>>>19)^it>>>10)+R[Re-16]}var ye=ie&se^ie&ee^se&ee,De=Ve+((K<<26|K>>>6)^(K<<21|K>>>11)^(K<<7|K>>>25))+(K&pe^~K&_e)+W[Re]+R[Re];Ve=_e,_e=pe,pe=K,K=$+De|0,$=ee,ee=se,se=ie,ie=De+(((ie<<30|ie>>>2)^(ie<<19|ie>>>13)^(ie<<10|ie>>>22))+ye)|0}z[0]=z[0]+ie|0,z[1]=z[1]+se|0,z[2]=z[2]+ee|0,z[3]=z[3]+$|0,z[4]=z[4]+K|0,z[5]=z[5]+pe|0,z[6]=z[6]+_e|0,z[7]=z[7]+Ve|0},_doFinalize:function(){var L=this._data,V=L.words,z=8*this._nDataBytes,ie=8*L.sigBytes;return V[ie>>>5]|=128<<24-ie%32,V[14+(ie+64>>>9<<4)]=T.floor(z/4294967296),V[15+(ie+64>>>9<<4)]=z,L.sigBytes=4*V.length,this._process(),this._hash},clone:function(){var L=Z.clone.call(this);return L._hash=this._hash.clone(),L}});F.SHA256=Z._createHelper(M),F.HmacSHA256=Z._createHmacHelper(M)}(Math),s.SHA256)},1971:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(401),function(T){var F=s,X=F.lib,ue=X.WordArray,Z=X.Hasher,N=F.x64.Word,W=F.algo,R=[],M=[],L=[];!function(){for(var ie=1,se=0,ee=0;ee<24;ee++){R[ie+5*se]=(ee+1)*(ee+2)/2%64;var K=(2*ie+3*se)%5;ie=se%5,se=K}for(ie=0;ie<5;ie++)for(se=0;se<5;se++)M[ie+5*se]=se+(2*ie+3*se)%5*5;for(var pe=1,_e=0;_e<24;_e++){for(var Ve=0,Re=0,Xe=0;Xe<7;Xe++){if(1&pe){var me=(1<<Xe)-1;me<32?Re^=1<<me:Ve^=1<<me-32}128&pe?pe=pe<<1^113:pe<<=1}L[_e]=N.create(Ve,Re)}}();var V=[];!function(){for(var ie=0;ie<25;ie++)V[ie]=N.create()}();var z=W.SHA3=Z.extend({cfg:Z.cfg.extend({outputLength:512}),_doReset:function(){for(var ie=this._state=[],se=0;se<25;se++)ie[se]=new N.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(ie,se){for(var ee=this._state,$=this.blockSize/2,K=0;K<$;K++){var pe=ie[se+2*K],_e=ie[se+2*K+1];pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),(Ve=ee[K]).high^=_e=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),Ve.low^=pe}for(var Re=0;Re<24;Re++){for(var Xe=0;Xe<5;Xe++){for(var me=0,it=0,ve=0;ve<5;ve++)me^=(Ve=ee[Xe+5*ve]).high,it^=Ve.low;var ae=V[Xe];ae.high=me,ae.low=it}for(Xe=0;Xe<5;Xe++){var ye=V[(Xe+4)%5],Ee=V[(Xe+1)%5],Ie=Ee.high,De=Ee.low;for(me=ye.high^(Ie<<1|De>>>31),it=ye.low^(De<<1|Ie>>>31),ve=0;ve<5;ve++)(Ve=ee[Xe+5*ve]).high^=me,Ve.low^=it}for(var ct=1;ct<25;ct++){var Tt=(Ve=ee[ct]).high,zt=Ve.low,Be=R[ct];Be<32?(me=Tt<<Be|zt>>>32-Be,it=zt<<Be|Tt>>>32-Be):(me=zt<<Be-32|Tt>>>64-Be,it=Tt<<Be-32|zt>>>64-Be);var He=V[M[ct]];He.high=me,He.low=it}var Ze=V[0],et=ee[0];for(Ze.high=et.high,Ze.low=et.low,Xe=0;Xe<5;Xe++)for(ve=0;ve<5;ve++){var Sn=V[ct=Xe+5*ve],sn=V[(Xe+1)%5+5*ve],Nt=V[(Xe+2)%5+5*ve];(Ve=ee[ct]).high=Sn.high^~sn.high&Nt.high,Ve.low=Sn.low^~sn.low&Nt.low}var Ve,St=L[Re];(Ve=ee[0]).high^=St.high,Ve.low^=St.low}},_doFinalize:function(){var ie=this._data,se=ie.words,$=8*ie.sigBytes,K=32*this.blockSize;se[$>>>5]|=1<<24-$%32,se[(T.ceil(($+1)/K)*K>>>5)-1]|=128,ie.sigBytes=4*se.length,this._process();for(var pe=this._state,_e=this.cfg.outputLength/8,Ve=_e/8,Re=[],Xe=0;Xe<Ve;Xe++){var me=pe[Xe],it=me.high,ve=me.low;it=16711935&(it<<8|it>>>24)|4278255360&(it<<24|it>>>8),Re.push(ve=16711935&(ve<<8|ve>>>24)|4278255360&(ve<<24|ve>>>8)),Re.push(it)}return new ue.init(Re,_e)},clone:function(){for(var ie=Z.clone.call(this),se=ie._state=this._state.slice(0),ee=0;ee<25;ee++)se[ee]=se[ee].clone();return ie}});F.SHA3=Z._createHelper(z),F.HmacSHA3=Z._createHmacHelper(z)}(Math),s.SHA3)},6787:function(qe,Ae,O){var T,F,X,ue,Z,oe,N,s;qe.exports=(s=O(7585),O(401),O(3351),X=(F=(T=s).x64).Word,ue=F.WordArray,N=(Z=T.algo).SHA384=(oe=Z.SHA512).extend({_doReset:function(){this._hash=new ue.init([new X.init(3418070365,3238371032),new X.init(1654270250,914150663),new X.init(2438529370,812702999),new X.init(355462360,4144912697),new X.init(1731405415,4290775857),new X.init(2394180231,1750603025),new X.init(3675008525,1694076839),new X.init(1203062813,3204075428)])},_doFinalize:function(){var W=oe._doFinalize.call(this);return W.sigBytes-=16,W}}),T.SHA384=oe._createHelper(N),T.HmacSHA384=oe._createHmacHelper(N),s.SHA384)},3351:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(401),function(){var T=s,X=T.lib.Hasher,ue=T.x64,Z=ue.Word,oe=ue.WordArray,N=T.algo;function W(){return Z.create.apply(Z,arguments)}var R=[W(1116352408,3609767458),W(1899447441,602891725),W(3049323471,3964484399),W(3921009573,2173295548),W(961987163,4081628472),W(1508970993,3053834265),W(2453635748,2937671579),W(2870763221,3664609560),W(3624381080,2734883394),W(310598401,1164996542),W(607225278,1323610764),W(1426881987,3590304994),W(1925078388,4068182383),W(2162078206,991336113),W(2614888103,633803317),W(3248222580,3479774868),W(3835390401,2666613458),W(4022224774,944711139),W(264347078,2341262773),W(604807628,2007800933),W(770255983,1495990901),W(1249150122,1856431235),W(1555081692,3175218132),W(1996064986,2198950837),W(2554220882,3999719339),W(2821834349,766784016),W(2952996808,2566594879),W(3210313671,3203337956),W(3336571891,1034457026),W(3584528711,2466948901),W(113926993,3758326383),W(338241895,168717936),W(666307205,1188179964),W(773529912,1546045734),W(1294757372,1522805485),W(1396182291,2643833823),W(1695183700,2343527390),W(1986661051,1014477480),W(2177026350,1206759142),W(2456956037,344077627),W(2730485921,1290863460),W(2820302411,3158454273),W(3259730800,3505952657),W(3345764771,106217008),W(3516065817,3606008344),W(3600352804,1432725776),W(4094571909,1467031594),W(275423344,851169720),W(430227734,3100823752),W(506948616,1363258195),W(659060556,3750685593),W(883997877,3785050280),W(958139571,3318307427),W(1322822218,3812723403),W(1537002063,2003034995),W(1747873779,3602036899),W(1955562222,1575990012),W(2024104815,1125592928),W(2227730452,2716904306),W(2361852424,442776044),W(2428436474,593698344),W(2756734187,3733110249),W(3204031479,2999351573),W(3329325298,3815920427),W(3391569614,3928383900),W(3515267271,566280711),W(3940187606,3454069534),W(4118630271,4000239992),W(116418474,1914138554),W(174292421,2731055270),W(289380356,3203993006),W(460393269,320620315),W(685471733,587496836),W(852142971,1086792851),W(1017036298,365543100),W(1126000580,2618297676),W(1288033470,3409855158),W(1501505948,4234509866),W(1607167915,987167468),W(1816402316,1246189591)],M=[];!function(){for(var V=0;V<80;V++)M[V]=W()}();var L=N.SHA512=X.extend({_doReset:function(){this._hash=new oe.init([new Z.init(1779033703,4089235720),new Z.init(3144134277,2227873595),new Z.init(1013904242,4271175723),new Z.init(2773480762,1595750129),new Z.init(1359893119,2917565137),new Z.init(2600822924,725511199),new Z.init(528734635,4215389547),new Z.init(1541459225,327033209)])},_doProcessBlock:function(V,z){for(var ie=this._hash.words,se=ie[0],ee=ie[1],$=ie[2],K=ie[3],pe=ie[4],_e=ie[5],Ve=ie[6],Re=ie[7],Xe=se.high,me=se.low,it=ee.high,ve=ee.low,ae=$.high,ye=$.low,Ee=K.high,Ie=K.low,De=pe.high,ct=pe.low,Tt=_e.high,zt=_e.low,Be=Ve.high,He=Ve.low,Ze=Re.high,et=Re.low,Sn=Xe,sn=me,Nt=it,St=ve,bn=ae,zn=ye,Ni=Ee,pi=Ie,Wn=De,Xn=ct,Kn=Tt,jn=zt,Mi=Be,ci=He,Bt=Ze,on=et,Vn=0;Vn<80;Vn++){var fn,Rt,Ut=M[Vn];if(Vn<16)Rt=Ut.high=0|V[z+2*Vn],fn=Ut.low=0|V[z+2*Vn+1];else{var vn=M[Vn-15],en=vn.high,ti=vn.low,bt=(ti>>>1|en<<31)^(ti>>>8|en<<24)^(ti>>>7|en<<25),It=M[Vn-2],gi=It.high,Ji=It.low,En=(Ji>>>19|gi<<13)^(Ji<<3|gi>>>29)^(Ji>>>6|gi<<26),Dn=M[Vn-7],he=M[Vn-16],tt=he.low;Ut.high=Rt=(Rt=(Rt=((en>>>1|ti<<31)^(en>>>8|ti<<24)^en>>>7)+Dn.high+((fn=bt+Dn.low)>>>0<bt>>>0?1:0))+((gi>>>19|Ji<<13)^(gi<<3|Ji>>>29)^gi>>>6)+((fn+=En)>>>0<En>>>0?1:0))+he.high+((fn+=tt)>>>0<tt>>>0?1:0),Ut.low=fn}var ze,Ne=Wn&Kn^~Wn&Mi,Dt=Xn&jn^~Xn&ci,ke=Sn&Nt^Sn&bn^Nt&bn,wt=(sn>>>28|Sn<<4)^(sn<<30|Sn>>>2)^(sn<<25|Sn>>>7),Te=R[Vn],ge=Te.low,_t=Bt+((Wn>>>14|Xn<<18)^(Wn>>>18|Xn<<14)^(Wn<<23|Xn>>>9))+((ze=on+((Xn>>>14|Wn<<18)^(Xn>>>18|Wn<<14)^(Xn<<23|Wn>>>9)))>>>0<on>>>0?1:0),Yt=wt+(sn&St^sn&zn^St&zn);Bt=Mi,on=ci,Mi=Kn,ci=jn,Kn=Wn,jn=Xn,Wn=Ni+(_t=(_t=(_t=_t+Ne+((ze+=Dt)>>>0<Dt>>>0?1:0))+Te.high+((ze+=ge)>>>0<ge>>>0?1:0))+Rt+((ze+=fn)>>>0<fn>>>0?1:0))+((Xn=pi+ze|0)>>>0<pi>>>0?1:0)|0,Ni=bn,pi=zn,bn=Nt,zn=St,Nt=Sn,St=sn,Sn=_t+(((Sn>>>28|sn<<4)^(Sn<<30|sn>>>2)^(Sn<<25|sn>>>7))+ke+(Yt>>>0<wt>>>0?1:0))+((sn=ze+Yt|0)>>>0<ze>>>0?1:0)|0}me=se.low=me+sn,se.high=Xe+Sn+(me>>>0<sn>>>0?1:0),ve=ee.low=ve+St,ee.high=it+Nt+(ve>>>0<St>>>0?1:0),ye=$.low=ye+zn,$.high=ae+bn+(ye>>>0<zn>>>0?1:0),Ie=K.low=Ie+pi,K.high=Ee+Ni+(Ie>>>0<pi>>>0?1:0),ct=pe.low=ct+Xn,pe.high=De+Wn+(ct>>>0<Xn>>>0?1:0),zt=_e.low=zt+jn,_e.high=Tt+Kn+(zt>>>0<jn>>>0?1:0),He=Ve.low=He+ci,Ve.high=Be+Mi+(He>>>0<ci>>>0?1:0),et=Re.low=et+on,Re.high=Ze+Bt+(et>>>0<on>>>0?1:0)},_doFinalize:function(){var V=this._data,z=V.words,ie=8*this._nDataBytes,se=8*V.sigBytes;return z[se>>>5]|=128<<24-se%32,z[30+(se+128>>>10<<5)]=Math.floor(ie/4294967296),z[31+(se+128>>>10<<5)]=ie,V.sigBytes=4*z.length,this._process(),this._hash.toX32()},clone:function(){var V=X.clone.call(this);return V._hash=this._hash.clone(),V},blockSize:32});T.SHA512=X._createHelper(L),T.HmacSHA512=X._createHmacHelper(L)}(),s.SHA512)},7243:function(qe,Ae,O){var s;qe.exports=(s=O(7585),O(8319),O(9493),O(7865),O(3057),function(){var T=s,F=T.lib,X=F.WordArray,ue=F.BlockCipher,Z=T.algo,oe=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],N=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],W=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],R=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],M=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],L=Z.DES=ue.extend({_doReset:function(){for(var ee=this._key.words,$=[],K=0;K<56;K++){var pe=oe[K]-1;$[K]=ee[pe>>>5]>>>31-pe%32&1}for(var _e=this._subKeys=[],Ve=0;Ve<16;Ve++){var Re=_e[Ve]=[],Xe=W[Ve];for(K=0;K<24;K++)Re[K/6|0]|=$[(N[K]-1+Xe)%28]<<31-K%6,Re[4+(K/6|0)]|=$[28+(N[K+24]-1+Xe)%28]<<31-K%6;for(Re[0]=Re[0]<<1|Re[0]>>>31,K=1;K<7;K++)Re[K]=Re[K]>>>4*(K-1)+3;Re[7]=Re[7]<<5|Re[7]>>>27}var me=this._invSubKeys=[];for(K=0;K<16;K++)me[K]=_e[15-K]},encryptBlock:function(se,ee){this._doCryptBlock(se,ee,this._subKeys)},decryptBlock:function(se,ee){this._doCryptBlock(se,ee,this._invSubKeys)},_doCryptBlock:function(se,ee,$){this._lBlock=se[ee],this._rBlock=se[ee+1],V.call(this,4,252645135),V.call(this,16,65535),z.call(this,2,858993459),z.call(this,8,16711935),V.call(this,1,1431655765);for(var K=0;K<16;K++){for(var pe=$[K],_e=this._lBlock,Ve=this._rBlock,Re=0,Xe=0;Xe<8;Xe++)Re|=R[Xe][((Ve^pe[Xe])&M[Xe])>>>0];this._lBlock=Ve,this._rBlock=_e^Re}var me=this._lBlock;this._lBlock=this._rBlock,this._rBlock=me,V.call(this,1,1431655765),z.call(this,8,16711935),z.call(this,2,858993459),V.call(this,16,65535),V.call(this,4,252645135),se[ee]=this._lBlock,se[ee+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function V(se,ee){var $=(this._lBlock>>>se^this._rBlock)&ee;this._rBlock^=$,this._lBlock^=$<<se}function z(se,ee){var $=(this._rBlock>>>se^this._lBlock)&ee;this._lBlock^=$,this._rBlock^=$<<se}T.DES=ue._createHelper(L);var ie=Z.TripleDES=ue.extend({_doReset:function(){var ee=this._key.words;if(2!==ee.length&&4!==ee.length&&ee.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var $=ee.slice(0,2),K=ee.length<4?ee.slice(0,2):ee.slice(2,4),pe=ee.length<6?ee.slice(0,2):ee.slice(4,6);this._des1=L.createEncryptor(X.create($)),this._des2=L.createEncryptor(X.create(K)),this._des3=L.createEncryptor(X.create(pe))},encryptBlock:function(se,ee){this._des1.encryptBlock(se,ee),this._des2.decryptBlock(se,ee),this._des3.encryptBlock(se,ee)},decryptBlock:function(se,ee){this._des3.decryptBlock(se,ee),this._des2.encryptBlock(se,ee),this._des1.decryptBlock(se,ee)},keySize:6,ivSize:2,blockSize:2});T.TripleDES=ue._createHelper(ie)}(),s.TripleDES)},401:function(qe,Ae,O){var X,ue,Z,oe,s;qe.exports=(s=O(7585),ue=(X=s.lib).Base,Z=X.WordArray,(oe=s.x64={}).Word=ue.extend({init:function(R,M){this.high=R,this.low=M}}),oe.WordArray=ue.extend({init:function(R,M){R=this.words=R||[],this.sigBytes=null!=M?M:8*R.length},toX32:function(){for(var R=this.words,M=R.length,L=[],V=0;V<M;V++){var z=R[V];L.push(z.high),L.push(z.low)}return Z.create(L,this.sigBytes)},clone:function(){for(var R=ue.clone.call(this),M=R.words=this.words.slice(0),L=M.length,V=0;V<L;V++)M[V]=M[V].clone();return R}}),s)},6148:(qe,Ae,O)=>{"use strict";O.d(Ae,{IH:()=>gi,Gb:()=>Hi,Kz:()=>we,Iv:()=>gr});var s=O(5861),T=O(9681),F=O(1877),X=O(2090),ue=O(4859);O(2833);const oe="analytics",N="firebase_id",W="origin",M="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L="https://www.googletagmanager.com/gtag/js",V=new F.Yd("@firebase/analytics");function z(ke){return Promise.all(ke.map(Ge=>Ge.catch(ht=>ht)))}function ie(ke,Ge){const ht=document.createElement("script");ht.src=`${L}?l=${ke}&id=${Ge}`,ht.async=!0,document.head.appendChild(ht)}function ee(ke,Ge,ht,wt,Et,vt){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(ke,Ge,ht,wt,Et,vt){const Te=wt[Et];try{if(Te)yield Ge[Te];else{const ge=(yield z(ht)).find(ze=>ze.measurementId===Et);ge&&(yield Ge[ge.appId])}}catch(fe){V.error(fe)}ke("config",Et,vt)})).apply(this,arguments)}function K(ke,Ge,ht,wt,Et){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(ke,Ge,ht,wt,Et){try{let vt=[];if(Et&&Et.send_to){let Te=Et.send_to;Array.isArray(Te)||(Te=[Te]);const fe=yield z(ht);for(const ge of Te){const ze=fe.find(Yt=>Yt.measurementId===ge),_t=ze&&Ge[ze.appId];if(!_t){vt=[];break}vt.push(_t)}}0===vt.length&&(vt=Object.values(Ge)),yield Promise.all(vt),ke("event",wt,Et||{})}catch(vt){V.error(vt)}})).apply(this,arguments)}function Re(){const ke=window.document.getElementsByTagName("script");for(const Ge of Object.values(ke))if(Ge.src&&Ge.src.includes(L))return Ge;return null}const me=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ye=new class{constructor(Ge={},ht=1e3){this.throttleMetadata=Ge,this.intervalMillis=ht}getThrottleMetadata(Ge){return this.throttleMetadata[Ge]}setThrottleMetadata(Ge,ht){this.throttleMetadata[Ge]=ht}deleteThrottleMetadata(Ge){delete this.throttleMetadata[Ge]}};function Ee(ke){return new Headers({Accept:"application/json","x-goog-api-key":ke})}function Ie(ke){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(ke){var Ge;const{appId:ht,apiKey:wt}=ke,Et={method:"GET",headers:Ee(wt)},vt=M.replace("{app-id}",ht),Te=yield fetch(vt,Et);if(200!==Te.status&&304!==Te.status){let fe="";try{const ge=yield Te.json();(null===(Ge=ge.error)||void 0===Ge?void 0:Ge.message)&&(fe=ge.error.message)}catch(ge){}throw me.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:fe})}return Te.json()})).apply(this,arguments)}function ct(ke){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(ke,Ge=ye,ht){const{appId:wt,apiKey:Et,measurementId:vt}=ke.options;if(!wt)throw me.create("no-app-id");if(!Et){if(vt)return{measurementId:vt,appId:wt};throw me.create("no-api-key")}const Te=Ge.getThrottleMetadata(wt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fe=new et;return setTimeout((0,s.Z)(function*(){fe.abort()}),void 0!==ht?ht:6e4),zt({appId:wt,apiKey:Et,measurementId:vt},Te,fe,Ge)})).apply(this,arguments)}function zt(ke,Ge,ht){return Be.apply(this,arguments)}function Be(){return(Be=(0,s.Z)(function*(ke,{throttleEndTimeMillis:Ge,backoffCount:ht},wt,Et=ye){const{appId:vt,measurementId:Te}=ke;try{yield He(wt,Ge)}catch(fe){if(Te)return V.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${fe.message}]`),{appId:vt,measurementId:Te};throw fe}try{const fe=yield Ie(ke);return Et.deleteThrottleMetadata(vt),fe}catch(fe){if(!Ze(fe)){if(Et.deleteThrottleMetadata(vt),Te)return V.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${fe.message}]`),{appId:vt,measurementId:Te};throw fe}const ge=503===Number(fe.customData.httpStatus)?(0,X.$s)(ht,Et.intervalMillis,30):(0,X.$s)(ht,Et.intervalMillis),ze={throttleEndTimeMillis:Date.now()+ge,backoffCount:ht+1};return Et.setThrottleMetadata(vt,ze),V.debug(`Calling attemptFetch again in ${ge} millis`),zt(ke,ze,wt,Et)}})).apply(this,arguments)}function He(ke,Ge){return new Promise((ht,wt)=>{const Et=Math.max(Ge-Date.now(),0),vt=setTimeout(ht,Et);ke.addEventListener(()=>{clearTimeout(vt),wt(me.create("fetch-throttle",{throttleEndTimeMillis:Ge}))})})}function Ze(ke){if(!(ke instanceof X.ZR&&ke.customData))return!1;const Ge=Number(ke.customData.httpStatus);return 429===Ge||500===Ge||503===Ge||504===Ge}class et{constructor(){this.listeners=[]}addEventListener(Ge){this.listeners.push(Ge)}abort(){this.listeners.forEach(Ge=>Ge())}}function Sn(){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(){if(!(0,X.hl)())return V.warn(me.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(ke){return V.warn(me.create("indexeddb-unavailable",{errorInfo:ke}).message),!1}return!0})).apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(ke,Ge,ht,wt,Et,vt,Te){var fe;const ge=ct(ke);ge.then(Qt=>{ht[Qt.measurementId]=Qt.appId,ke.options.measurementId&&Qt.measurementId!==ke.options.measurementId&&V.warn(`The measurement ID in the local Firebase config (${ke.options.measurementId}) does not match the measurement ID fetched from the server (${Qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qt=>V.error(Qt)),Ge.push(ge);const ze=Sn().then(Qt=>{if(Qt)return wt.getId()}),[_t,Yt]=yield Promise.all([ge,ze]);Re()||ie(vt,_t.measurementId),Et("js",new Date);const gn=null!==(fe=null==Te?void 0:Te.config)&&void 0!==fe?fe:{};return gn[W]="firebase",gn.update=!0,null!=Yt&&(gn[N]=Yt),Et("config",_t.measurementId,gn),_t.measurementId})).apply(this,arguments)}class bn{constructor(Ge){this.app=Ge}_delete(){return delete zn[this.app.options.appId],Promise.resolve()}}let zn={},Ni=[];const pi={};let Kn,jn,Wn="dataLayer",Mi=!1;function on(ke,Ge,ht){!function(){const ke=[];if((0,X.ru)()&&ke.push("This is a browser extension environment."),(0,X.zI)()||ke.push("Cookies are not available."),ke.length>0){const Ge=ke.map((wt,Et)=>`(${Et+1}) ${wt}`).join(" "),ht=me.create("invalid-analytics-context",{errorInfo:Ge});V.warn(ht.message)}}();const wt=ke.options.appId;if(!wt)throw me.create("no-app-id");if(!ke.options.apiKey){if(!ke.options.measurementId)throw me.create("no-api-key");V.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ke.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zn[wt])throw me.create("already-exists",{id:wt});if(!Mi){!function(ke){let Ge=[];Array.isArray(window[ke])?Ge=window[ke]:window[ke]=Ge}(Wn);const{wrappedGtag:vt,gtagCore:Te}=function(ke,Ge,ht,wt,Et){let vt=function(...Te){window[wt].push(arguments)};return window[Et]&&"function"==typeof window[Et]&&(vt=window[Et]),window[Et]=function(ke,Ge,ht,wt){function vt(){return(vt=(0,s.Z)(function*(Te,fe,ge){try{"event"===Te?yield K(ke,Ge,ht,fe,ge):"config"===Te?yield ee(ke,Ge,ht,wt,fe,ge):ke("set",fe)}catch(ze){V.error(ze)}})).apply(this,arguments)}return function(Te,fe,ge){return vt.apply(this,arguments)}}(vt,ke,Ge,ht),{gtagCore:vt,wrappedGtag:window[Et]}}(zn,Ni,pi,Wn,"gtag");jn=vt,Kn=Te,Mi=!0}return zn[wt]=function(ke,Ge,ht,wt,Et,vt,Te){return St.apply(this,arguments)}(ke,Ni,pi,Ge,Kn,Wn,ht),new bn(ke)}function fn(){return(fn=(0,s.Z)(function*(ke,Ge,ht,wt,Et){if(Et&&Et.global)ke("event",ht,wt);else{const vt=yield Ge;ke("event",ht,Object.assign(Object.assign({},wt),{send_to:vt}))}})).apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(ke,Ge,ht,wt){if(wt&&wt.global)return ke("set",{user_id:ht}),Promise.resolve();ke("config",yield Ge,{update:!0,user_id:ht})})).apply(this,arguments)}function gi(ke=(0,T.getApp)()){ke=(0,X.m9)(ke);const Ge=(0,T._getProvider)(ke,oe);return Ge.isInitialized()?Ge.getImmediate():function(ke,Ge={}){const ht=(0,T._getProvider)(ke,oe);if(ht.isInitialized()){const Et=ht.getImmediate();if((0,X.vZ)(Ge,ht.getOptions()))return Et;throw me.create("already-initialized")}return ht.initialize({options:Ge})}(ke)}function Hi(){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(ke){return!1}})).apply(this,arguments)}function gr(ke,Ge,ht){ke=(0,X.m9)(ke),function(ke,Ge,ht,wt){return en.apply(this,arguments)}(jn,zn[ke.app.options.appId],Ge,ht).catch(wt=>V.error(wt))}function we(ke,Ge,ht,wt){ke=(0,X.m9)(ke),function(ke,Ge,ht,wt,Et){return fn.apply(this,arguments)}(jn,zn[ke.app.options.appId],Ge,ht,wt).catch(Et=>V.error(Et))}const tt="@firebase/analytics";(0,T._registerComponent)(new ue.wA(oe,(Ge,{options:ht})=>on(Ge.getProvider("app").getImmediate(),Ge.getProvider("installations-internal").getImmediate(),ht),"PUBLIC")),(0,T._registerComponent)(new ue.wA("analytics-internal",function(Ge){try{const ht=Ge.getProvider(oe).getImmediate();return{logEvent:(wt,Et,vt)=>we(ht,wt,Et,vt)}}catch(ht){throw me.create("interop-component-reg-failed",{reason:ht})}},"PRIVATE")),(0,T.registerVersion)(tt,"0.7.5"),(0,T.registerVersion)(tt,"0.7.5","esm2017")},5867:(qe,Ae,O)=>{"use strict";O.d(Ae,{Mq:()=>s.getApp,C6:()=>s.getApps,ZF:()=>s.initializeApp,KN:()=>s.registerVersion});var s=O(9681);(0,s.registerVersion)("firebase","9.6.2","app")},127:(qe,Ae,O)=>{"use strict";O.d(Ae,{Z:()=>s.Z});var s=O(3942);s.Z.registerVersion("firebase","9.6.2","app-compat")},5881:(qe,Ae,O)=>{"use strict";O.r(Ae);var s=O(5861),T=O(3942),F=O(4074),X=O(2090),oe=(O(9681),O(1877),O(4859));function N(){return window}function M(){return(M=(0,s.Z)(function*(Te,fe,ge){var ze;const{BuildInfo:_t}=N();(0,F.ap)(fe.sessionId,"AuthEvent did not contain a session ID");const Yt=yield $(fe.sessionId),gn={};return(0,F.aq)()?gn.ibi=_t.packageName:(0,F.ar)()?gn.apn=_t.packageName:(0,F.as)(Te,"operation-not-supported-in-this-environment"),_t.displayName&&(gn.appDisplayName=_t.displayName),gn.sessionId=Yt,(0,F.at)(Te,ge,fe.type,void 0,null!==(ze=fe.eventId)&&void 0!==ze?ze:void 0,gn)})).apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(Te){const{BuildInfo:fe}=N(),ge={};(0,F.aq)()?ge.iosBundleId=fe.packageName:(0,F.ar)()?ge.androidPackageName=fe.packageName:(0,F.as)(Te,"operation-not-supported-in-this-environment"),yield(0,F.au)(Te,ge)})).apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(Te,fe,ge){const{cordova:ze}=N();let _t=()=>{};try{yield new Promise((Yt,gn)=>{let Qt=null;function mi(){var Fn;Yt();const Lr=null===(Fn=ze.plugins.browsertab)||void 0===Fn?void 0:Fn.close;"function"==typeof Lr&&Lr(),"function"==typeof(null==ge?void 0:ge.close)&&ge.close()}function ei(){Qt||(Qt=window.setTimeout(()=>{gn((0,F.av)(Te,"redirect-cancelled-by-user"))},2e3))}function ui(){"visible"===(null==document?void 0:document.visibilityState)&&ei()}fe.addPassiveListener(mi),document.addEventListener("resume",ei,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",ui,!1),_t=()=>{fe.removePassiveListener(mi),document.removeEventListener("resume",ei,!1),document.removeEventListener("visibilitychange",ui,!1),Qt&&window.clearTimeout(Qt)}})}finally{_t()}})).apply(this,arguments)}function $(Te){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(Te){const fe=pe(Te),ge=yield crypto.subtle.digest("SHA-256",fe);return Array.from(new Uint8Array(ge)).map(_t=>_t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pe(Te){if((0,F.ap)(/[0-9a-zA-Z]+/.test(Te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Te);const fe=new ArrayBuffer(Te.length),ge=new Uint8Array(fe);for(let ze=0;ze<Te.length;ze++)ge[ze]=Te.charCodeAt(ze);return ge}class Ve extends F.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(fe=>{this.resolveInialized=fe})}addPassiveListener(fe){this.passiveListeners.add(fe)}removePassiveListener(fe){this.passiveListeners.delete(fe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(fe){return this.resolveInialized(),this.passiveListeners.forEach(ge=>ge(fe)),super.onEvent(fe)}initialized(){var fe=this;return(0,s.Z)(function*(){yield fe.initPromise})()}}function me(Te){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(Te){const fe=yield ye()._get(Ee(Te));return fe&&(yield ye()._remove(Ee(Te))),fe})).apply(this,arguments)}function ae(){const Te=[],fe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ge=0;ge<20;ge++){const ze=Math.floor(Math.random()*fe.length);Te.push(fe.charAt(ze))}return Te.join("")}function ye(){return(0,F.ax)(F.b)}function Ee(Te){return(0,F.ay)("authEvent",Te.config.apiKey,Te.name)}function ct(Te){if(!(null==Te?void 0:Te.includes("?")))return{};const[fe,...ge]=Te.split("?");return(0,X.zd)(ge.join("?"))}function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.av)("no-auth-event")}}function Nt(){var Te;return(null===(Te=null==self?void 0:self.location)||void 0===Te?void 0:Te.protocol)||null}function bn(Te=(0,X.z$)()){return!("file:"!==Nt()&&"ionic:"!==Nt()||!Te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){try{const Te=self.localStorage,fe=F.aG();if(Te)return Te.setItem(fe,"1"),Te.removeItem(fe),!function(Te=(0,X.z$)()){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)||function(Te=(0,X.z$)()){return/Edge\/\d+/.test(Te)}(Te)}()||(0,X.hl)()}catch(Te){return Kn()&&(0,X.hl)()}return!1}function Kn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return("http:"===Nt()||"https:"===Nt()||(0,X.ru)()||bn())&&!((0,X.b$)()||(0,X.UG)())&&Xn()&&!Kn()}function Mi(){return bn()&&"undefined"!=typeof document}function Bt(){return(Bt=(0,s.Z)(function*(){return!!Mi()&&new Promise(Te=>{const fe=setTimeout(()=>{Te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(fe),Te(!0)})})})).apply(this,arguments)}const on={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=F.aw,fn="persistence";function Ut(Te){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(Te){yield Te._initializationPromise;const fe=ti(),ge=F.ay(fn,Te.config.apiKey,Te.name);(null==fe?void 0:fe.sessionStorage)&&fe.sessionStorage.setItem(ge,Te._getPersistence())})).apply(this,arguments)}function ti(){return"undefined"!=typeof window?window:null}const Cn=F.aw;class bt{constructor(){this.browserResolver=F.ax(F.k),this.cordovaResolver=F.ax(class{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aA}_initialize(fe){var ge=this;return(0,s.Z)(function*(){const ze=fe._key();let _t=ge.eventManagers.get(ze);return _t||(_t=new Ve(fe),ge.eventManagers.set(ze,_t),ge.attachCallbackListeners(fe,_t)),_t})()}_openPopup(fe){(0,F.as)(fe,"operation-not-supported-in-this-environment")}_openRedirect(fe,ge,ze,_t){var Yt=this;return(0,s.Z)(function*(){!function(Te){var fe,ge,ze,_t,Yt,gn,Qt,mi,ei,ui;const Fn=N();(0,F.aw)("function"==typeof(null===(fe=null==Fn?void 0:Fn.universalLinks)||void 0===fe?void 0:fe.subscribe),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aw)(void 0!==(null===(ge=null==Fn?void 0:Fn.BuildInfo)||void 0===ge?void 0:ge.packageName),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aw)("function"==typeof(null===(Yt=null===(_t=null===(ze=null==Fn?void 0:Fn.cordova)||void 0===ze?void 0:ze.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===Yt?void 0:Yt.openUrl),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aw)("function"==typeof(null===(mi=null===(Qt=null===(gn=null==Fn?void 0:Fn.cordova)||void 0===gn?void 0:gn.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===mi?void 0:mi.isAvailable),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aw)("function"==typeof(null===(ui=null===(ei=null==Fn?void 0:Fn.cordova)||void 0===ei?void 0:ei.InAppBrowser)||void 0===ui?void 0:ui.open),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(fe);const gn=yield Yt._initialize(fe);yield gn.initialized(),gn.resetRedirect(),(0,F.aB)(),yield Yt._originValidation(fe);const Qt=function(Te,fe,ge=null){return{type:fe,eventId:ge,urlResponse:null,sessionId:ae(),postBody:null,tenantId:Te.tenantId,error:(0,F.av)(Te,"no-auth-event")}}(fe,ze,_t);yield function(Te,fe){return ye()._set(Ee(Te),fe)}(fe,Qt);const mi=yield function(Te,fe,ge){return M.apply(this,arguments)}(fe,Qt,ge),ei=yield function(Te){const{cordova:fe}=N();return new Promise(ge=>{fe.plugins.browsertab.isAvailable(ze=>{let _t=null;ze?fe.plugins.browsertab.openUrl(Te):_t=fe.InAppBrowser.open(Te,(0,F.ao)()?"_blank":"_system","location=yes"),ge(_t)})})}(mi);return function(Te,fe,ge){return se.apply(this,arguments)}(fe,gn,ei)})()}_isIframeWebStorageSupported(fe,ge){throw new Error("Method not implemented.")}_originValidation(fe){const ge=fe._key();return this.originValidationPromises[ge]||(this.originValidationPromises[ge]=function(Te){return V.apply(this,arguments)}(fe)),this.originValidationPromises[ge]}attachCallbackListeners(fe,ge){const{universalLinks:ze,handleOpenURL:_t,BuildInfo:Yt}=N(),gn=setTimeout((0,s.Z)(function*(){yield me(fe),ge.onEvent(He())}),500),Qt=function(){var ui=(0,s.Z)(function*(Fn){clearTimeout(gn);const Lr=yield me(fe);let Vr=null;Lr&&(null==Fn?void 0:Fn.url)&&(Vr=function(Te,fe){var ge,ze;const _t=function(Te){const fe=ct(Te),ge=fe.link?decodeURIComponent(fe.link):void 0,ze=ct(ge).link,_t=fe.deep_link_id?decodeURIComponent(fe.deep_link_id):void 0;return ct(_t).link||_t||ze||ge||Te}(fe);if(_t.includes("/__/auth/callback")){const Yt=ct(_t),gn=Yt.firebaseError?function(Te){try{return JSON.parse(Te)}catch(fe){return null}}(decodeURIComponent(Yt.firebaseError)):null,Qt=null===(ze=null===(ge=null==gn?void 0:gn.code)||void 0===ge?void 0:ge.split("auth/"))||void 0===ze?void 0:ze[1],mi=Qt?(0,F.av)(Qt):null;return mi?{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,error:mi,urlResponse:null,sessionId:null,postBody:null}:{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,sessionId:Te.sessionId,urlResponse:_t,postBody:null}}return null}(Lr,Fn.url)),ge.onEvent(Vr||He())});return function(Lr){return ui.apply(this,arguments)}}();void 0!==ze&&"function"==typeof ze.subscribe&&ze.subscribe(null,Qt);const mi=_t,ei=`${Yt.packageName.toLowerCase()}://`;N().handleOpenURL=function(){var ui=(0,s.Z)(function*(Fn){if(Fn.toLowerCase().startsWith(ei)&&Qt({url:Fn}),"function"==typeof mi)try{mi(Fn)}catch(Lr){console.error(Lr)}});return function(Fn){return ui.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aA}_initialize(fe){var ge=this;return(0,s.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._initialize(fe)})()}_openPopup(fe,ge,ze,_t){var Yt=this;return(0,s.Z)(function*(){return yield Yt.selectUnderlyingResolver(),Yt.assertedUnderlyingResolver._openPopup(fe,ge,ze,_t)})()}_openRedirect(fe,ge,ze,_t){var Yt=this;return(0,s.Z)(function*(){return yield Yt.selectUnderlyingResolver(),Yt.assertedUnderlyingResolver._openRedirect(fe,ge,ze,_t)})()}_isIframeWebStorageSupported(fe,ge){this.assertedUnderlyingResolver._isIframeWebStorageSupported(fe,ge)}_originValidation(fe){return this.assertedUnderlyingResolver._originValidation(fe)}get _shouldInitProactively(){return Mi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var fe=this;return(0,s.Z)(function*(){if(fe.underlyingResolver)return;const ge=yield function(){return Bt.apply(this,arguments)}();fe.underlyingResolver=ge?fe.cordovaResolver:fe.browserResolver})()}}function It(Te){return Te.unwrap()}function Ji(Te){return En(Te)}function En(Te){const{_tokenResponse:fe}=Te instanceof X.ZR?Te.customData:Te;if(!fe)return null;if(!(Te instanceof X.ZR)&&"temporaryProof"in fe&&"phoneNumber"in fe)return F.P.credentialFromResult(Te);const ge=fe.providerId;if(!ge||ge===F.o.PASSWORD)return null;let ze;switch(ge){case F.o.GOOGLE:ze=F.N;break;case F.o.FACEBOOK:ze=F.M;break;case F.o.GITHUB:ze=F.Q;break;case F.o.TWITTER:ze=F.V;break;default:const{oauthIdToken:_t,oauthAccessToken:Yt,oauthTokenSecret:gn,pendingToken:Qt,nonce:mi}=fe;return Yt||gn||_t||Qt?Qt?ge.startsWith("saml.")?F.aJ._create(ge,Qt):F.I._fromParams({providerId:ge,signInMethod:ge,pendingToken:Qt,idToken:_t,accessToken:Yt}):new F.T(ge).credential({idToken:_t,accessToken:Yt,rawNonce:mi}):null}return Te instanceof X.ZR?ze.credentialFromError(Te):ze.credentialFromResult(Te)}function Dn(Te,fe){return fe.catch(ge=>{throw ge instanceof X.ZR&&function(Te,fe){var ge;const ze=null===(ge=fe.customData)||void 0===ge?void 0:ge._tokenResponse;if("auth/multi-factor-auth-required"===fe.code)fe.resolver=new he(Te,F.am(Te,fe));else if(ze){const _t=En(fe),Yt=fe;_t&&(Yt.credential=_t,Yt.tenantId=ze.tenantId||void 0,Yt.email=ze.email||void 0,Yt.phoneNumber=ze.phoneNumber||void 0)}}(Te,ge),ge}).then(ge=>{const _t=ge.user;return{operationType:ge.operationType,credential:Ji(ge),additionalUserInfo:F.ak(ge),user:we.getOrCreate(_t)}})}function gr(Te,fe){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(Te,fe){const ge=yield fe;return{verificationId:ge.verificationId,confirm:ze=>Dn(Te,ge.confirm(ze))}})).apply(this,arguments)}class he{constructor(fe,ge){this.resolver=ge,this.auth=fe.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(fe){return Dn(It(this.auth),this.resolver.resolveSignIn(fe))}}class we{constructor(fe){this._delegate=fe,this.multiFactor=F.an(fe)}static getOrCreate(fe){return we.USER_MAP.has(fe)||we.USER_MAP.set(fe,new we(fe)),we.USER_MAP.get(fe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(fe){return this._delegate.getIdTokenResult(fe)}getIdToken(fe){return this._delegate.getIdToken(fe)}linkAndRetrieveDataWithCredential(fe){return this.linkWithCredential(fe)}linkWithCredential(fe){var ge=this;return(0,s.Z)(function*(){return Dn(ge.auth,F.Y(ge._delegate,fe))})()}linkWithPhoneNumber(fe,ge){var ze=this;return(0,s.Z)(function*(){return gr(ze.auth,F.l(ze._delegate,fe,ge))})()}linkWithPopup(fe){var ge=this;return(0,s.Z)(function*(){return Dn(ge.auth,F.d(ge._delegate,fe,bt))})()}linkWithRedirect(fe){var ge=this;return(0,s.Z)(function*(){return yield Ut(F.aC(ge.auth)),F.g(ge._delegate,fe,bt)})()}reauthenticateAndRetrieveDataWithCredential(fe){return this.reauthenticateWithCredential(fe)}reauthenticateWithCredential(fe){var ge=this;return(0,s.Z)(function*(){return Dn(ge.auth,F.Z(ge._delegate,fe))})()}reauthenticateWithPhoneNumber(fe,ge){return gr(this.auth,F.r(this._delegate,fe,ge))}reauthenticateWithPopup(fe){return Dn(this.auth,F.e(this._delegate,fe,bt))}reauthenticateWithRedirect(fe){var ge=this;return(0,s.Z)(function*(){return yield Ut(F.aC(ge.auth)),F.h(ge._delegate,fe,bt)})()}sendEmailVerification(fe){return F.aa(this._delegate,fe)}unlink(fe){var ge=this;return(0,s.Z)(function*(){return yield F.aj(ge._delegate,fe),ge})()}updateEmail(fe){return F.af(this._delegate,fe)}updatePassword(fe){return F.ag(this._delegate,fe)}updatePhoneNumber(fe){return F.u(this._delegate,fe)}updateProfile(fe){return F.ae(this._delegate,fe)}verifyBeforeUpdateEmail(fe,ge){return F.ab(this._delegate,fe,ge)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}we.USER_MAP=new WeakMap;const tt=F.aw;let Ne=(()=>{class Te{constructor(ge,ze){if(this.app=ge,ze.isInitialized())return this._delegate=ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_t}=ge.options;tt(_t,"invalid-api-key",{appName:ge.name}),tt(_t,"invalid-api-key",{appName:ge.name});const Yt="undefined"!=typeof window?bt:void 0;this._delegate=ze.initialize({options:{persistence:ke(_t,ge.name),popupRedirectResolver:Yt}}),this._delegate._updateErrorMap(F.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?we.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ge){this._delegate.languageCode=ge}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ge){this._delegate.tenantId=ge}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ge,ze){F.E(this._delegate,ge,ze)}applyActionCode(ge){return F.a1(this._delegate,ge)}checkActionCode(ge){return F.a2(this._delegate,ge)}confirmPasswordReset(ge,ze){return F.a0(this._delegate,ge,ze)}createUserWithEmailAndPassword(ge,ze){var _t=this;return(0,s.Z)(function*(){return Dn(_t._delegate,F.a4(_t._delegate,ge,ze))})()}fetchProvidersForEmail(ge){return this.fetchSignInMethodsForEmail(ge)}fetchSignInMethodsForEmail(ge){return F.a9(this._delegate,ge)}isSignInWithEmailLink(ge){return F.a7(this._delegate,ge)}getRedirectResult(){var ge=this;return(0,s.Z)(function*(){tt(jn(),ge._delegate,"operation-not-supported-in-this-environment");const ze=yield F.j(ge._delegate,bt);return ze?Dn(ge._delegate,Promise.resolve(ze)):{credential:null,user:null}})()}addFrameworkForLogging(ge){!function(Te,fe){(0,F.aC)(Te)._logFramework(fe)}(this._delegate,ge)}onAuthStateChanged(ge,ze,_t){const{next:Yt,error:gn,complete:Qt}=Dt(ge,ze,_t);return this._delegate.onAuthStateChanged(Yt,gn,Qt)}onIdTokenChanged(ge,ze,_t){const{next:Yt,error:gn,complete:Qt}=Dt(ge,ze,_t);return this._delegate.onIdTokenChanged(Yt,gn,Qt)}sendSignInLinkToEmail(ge,ze){return F.a6(this._delegate,ge,ze)}sendPasswordResetEmail(ge,ze){return F.$(this._delegate,ge,ze||void 0)}setPersistence(ge){var ze=this;return(0,s.Z)(function*(){let _t;switch(function(Te,fe){Vn(Object.values(on).includes(fe),Te,"invalid-persistence-type"),(0,X.b$)()?Vn(fe!==on.SESSION,Te,"unsupported-persistence-type"):(0,X.UG)()?Vn(fe===on.NONE,Te,"unsupported-persistence-type"):Kn()?Vn(fe===on.NONE||fe===on.LOCAL&&(0,X.hl)(),Te,"unsupported-persistence-type"):Vn(fe===on.NONE||Xn(),Te,"unsupported-persistence-type")}(ze._delegate,ge),ge){case on.SESSION:_t=F.a;break;case on.LOCAL:_t=(yield F.ax(F.i)._isAvailable())?F.i:F.b;break;case on.NONE:_t=F.K;break;default:return F.as("argument-error",{appName:ze._delegate.name})}return ze._delegate.setPersistence(_t)})()}signInAndRetrieveDataWithCredential(ge){return this.signInWithCredential(ge)}signInAnonymously(){return Dn(this._delegate,F.W(this._delegate))}signInWithCredential(ge){return Dn(this._delegate,F.X(this._delegate,ge))}signInWithCustomToken(ge){return Dn(this._delegate,F._(this._delegate,ge))}signInWithEmailAndPassword(ge,ze){return Dn(this._delegate,F.a5(this._delegate,ge,ze))}signInWithEmailLink(ge,ze){return Dn(this._delegate,F.a8(this._delegate,ge,ze))}signInWithPhoneNumber(ge,ze){return gr(this._delegate,F.s(this._delegate,ge,ze))}signInWithPopup(ge){var ze=this;return(0,s.Z)(function*(){return tt(jn(),ze._delegate,"operation-not-supported-in-this-environment"),Dn(ze._delegate,F.c(ze._delegate,ge,bt))})()}signInWithRedirect(ge){var ze=this;return(0,s.Z)(function*(){return tt(jn(),ze._delegate,"operation-not-supported-in-this-environment"),yield Ut(ze._delegate),F.f(ze._delegate,ge,bt)})()}updateCurrentUser(ge){return this._delegate.updateCurrentUser(ge)}verifyPasswordResetCode(ge){return F.a3(this._delegate,ge)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Te.Persistence=on,Te})();function Dt(Te,fe,ge){let ze=Te;"function"!=typeof Te&&({next:ze,error:fe,complete:ge}=Te);const _t=ze;return{next:gn=>_t(gn&&we.getOrCreate(gn)),error:fe,complete:ge}}function ke(Te,fe){const ge=function(Te,fe){const ge=ti();if(!(null==ge?void 0:ge.sessionStorage))return[];const ze=F.ay(fn,Te,fe);switch(ge.sessionStorage.getItem(ze)){case on.NONE:return[F.K];case on.LOCAL:return[F.i,F.a];case on.SESSION:return[F.a];default:return[]}}(Te,fe);if("undefined"!=typeof self&&!ge.includes(F.i)&&ge.push(F.i),"undefined"!=typeof window)for(const ze of[F.b,F.a])ge.includes(ze)||ge.push(ze);return ge.includes(F.K)||ge.push(F.K),ge}class Ge{constructor(){this.providerId="phone",this._delegate=new F.P(It(T.Z.auth()))}static credential(fe,ge){return F.P.credential(fe,ge)}verifyPhoneNumber(fe,ge){return this._delegate.verifyPhoneNumber(fe,ge)}unwrap(){return this._delegate}}Ge.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Ge.PROVIDER_ID=F.P.PROVIDER_ID;const ht=F.aw;var Te;(Te=T.Z).INTERNAL.registerComponent(new oe.wA("auth-compat",fe=>{const ge=fe.getProvider("app-compat").getImmediate(),ze=fe.getProvider("auth");return new Ne(ge,ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.L,FacebookAuthProvider:F.M,GithubAuthProvider:F.Q,GoogleAuthProvider:F.N,OAuthProvider:F.T,SAMLAuthProvider:F.U,PhoneAuthProvider:Ge,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:class{constructor(fe,ge,ze=T.Z.app()){var _t;ht(null===(_t=ze.options)||void 0===_t?void 0:_t.apiKey,"invalid-api-key",{appName:ze.name}),this._delegate=new F.R(fe,ge,ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:F.V,Auth:Ne,AuthCredential:F.G,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Te.registerVersion("@firebase/auth-compat","0.2.5")},2940:function(qe,Ae){!function(O){"use strict";function s(ee){return Array.prototype.slice.call(ee)}function T(ee){return new Promise(function($,K){ee.onsuccess=function(){$(ee.result)},ee.onerror=function(){K(ee.error)}})}function F(ee,$,K){var pe,_e=new Promise(function(Ve,Re){T(pe=ee[$].apply(ee,K)).then(Ve,Re)});return _e.request=pe,_e}function X(ee,$,K){var pe=F(ee,$,K);return pe.then(function(_e){if(_e)return new R(_e,pe.request)})}function ue(ee,$,K){K.forEach(function(pe){Object.defineProperty(ee.prototype,pe,{get:function(){return this[$][pe]},set:function(_e){this[$][pe]=_e}})})}function Z(ee,$,K,pe){pe.forEach(function(_e){_e in K.prototype&&(ee.prototype[_e]=function(){return F(this[$],_e,arguments)})})}function oe(ee,$,K,pe){pe.forEach(function(_e){_e in K.prototype&&(ee.prototype[_e]=function(){return this[$][_e].apply(this[$],arguments)})})}function N(ee,$,K,pe){pe.forEach(function(_e){_e in K.prototype&&(ee.prototype[_e]=function(){return X(this[$],_e,arguments)})})}function W(ee){this._index=ee}function R(ee,$){this._cursor=ee,this._request=$}function M(ee){this._store=ee}function L(ee){this._tx=ee,this.complete=new Promise(function($,K){ee.oncomplete=function(){$()},ee.onerror=function(){K(ee.error)},ee.onabort=function(){K(ee.error)}})}function V(ee,$,K){this._db=ee,this.oldVersion=$,this.transaction=new L(K)}function z(ee){this._db=ee}ue(W,"_index",["name","keyPath","multiEntry","unique"]),Z(W,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),N(W,"_index",IDBIndex,["openCursor","openKeyCursor"]),ue(R,"_cursor",["direction","key","primaryKey","value"]),Z(R,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ee){ee in IDBCursor.prototype&&(R.prototype[ee]=function(){var $=this,K=arguments;return Promise.resolve().then(function(){return $._cursor[ee].apply($._cursor,K),T($._request).then(function(pe){if(pe)return new R(pe,$._request)})})})}),M.prototype.createIndex=function(){return new W(this._store.createIndex.apply(this._store,arguments))},M.prototype.index=function(){return new W(this._store.index.apply(this._store,arguments))},ue(M,"_store",["name","keyPath","indexNames","autoIncrement"]),Z(M,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),N(M,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(M,"_store",IDBObjectStore,["deleteIndex"]),L.prototype.objectStore=function(){return new M(this._tx.objectStore.apply(this._tx,arguments))},ue(L,"_tx",["objectStoreNames","mode"]),oe(L,"_tx",IDBTransaction,["abort"]),V.prototype.createObjectStore=function(){return new M(this._db.createObjectStore.apply(this._db,arguments))},ue(V,"_db",["name","version","objectStoreNames"]),oe(V,"_db",IDBDatabase,["deleteObjectStore","close"]),z.prototype.transaction=function(){return new L(this._db.transaction.apply(this._db,arguments))},ue(z,"_db",["name","version","objectStoreNames"]),oe(z,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ee){[M,W].forEach(function($){ee in $.prototype&&($.prototype[ee.replace("open","iterate")]=function(){var K=s(arguments),pe=K[K.length-1],_e=this._store||this._index,Ve=_e[ee].apply(_e,K.slice(0,-1));Ve.onsuccess=function(){pe(Ve.result)}})})}),[W,M].forEach(function(ee){ee.prototype.getAll||(ee.prototype.getAll=function($,K){var pe=this,_e=[];return new Promise(function(Ve){pe.iterateCursor($,function(Re){Re?(_e.push(Re.value),void 0===K||_e.length!=K?Re.continue():Ve(_e)):Ve(_e)})})})}),O.openDb=function(ee,$,K){var pe=F(indexedDB,"open",[ee,$]),_e=pe.request;return _e&&(_e.onupgradeneeded=function(Ve){K&&K(new V(_e.result,Ve.oldVersion,_e.transaction))}),pe.then(function(Ve){return new z(Ve)})},O.deleteDb=function(ee){return F(indexedDB,"deleteDatabase",[ee])},Object.defineProperty(O,"__esModule",{value:!0})}(Ae)},7489:function(qe,Ae,O){var s;qe=O.nmd(qe),function(){var T,Z="Expected a function",N="__lodash_hash_undefined__",R="__lodash_placeholder__",ct=1/0,Tt=9007199254740991,He=4294967295,Sn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],sn="[object Arguments]",Nt="[object Array]",bn="[object Boolean]",zn="[object Date]",pi="[object Error]",Wn="[object Function]",Xn="[object GeneratorFunction]",Kn="[object Map]",jn="[object Number]",ci="[object Object]",Bt="[object Promise]",Vn="[object RegExp]",fn="[object Set]",Rt="[object String]",Ut="[object Symbol]",en="[object WeakMap]",Cn="[object ArrayBuffer]",bt="[object DataView]",It="[object Float32Array]",gi="[object Float64Array]",Ji="[object Int8Array]",Hi="[object Int16Array]",En="[object Int32Array]",Dn="[object Uint8Array]",gr="[object Uint8ClampedArray]",be="[object Uint16Array]",he="[object Uint32Array]",we=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,Ne=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dt=/&(?:amp|lt|gt|quot|#39);/g,ke=/[&<>"']/g,Ge=RegExp(Dt.source),ht=RegExp(ke.source),wt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,vt=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fe=/^\w*$/,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,_t=RegExp(ze.source),Yt=/^\s+/,gn=/\s/,Qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mi=/\{\n\/\* \[wrapped with (.+)\] \*/,ei=/,? & /,ui=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fn=/[()=,{}\[\]\/\s]/,Lr=/\\(\\)?/g,Vr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Do=/\w*$/,no=/^[-+]0x[0-9a-f]+$/i,zi=/^0b[01]+$/i,sr=/^\[object .+?Constructor\]$/,Ar=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,Ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot=/($^)/,Lt=/['\n\r\u2028\u2029\\]/g,ni="\\ud800-\\udfff",Ds="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",io="\\u2700-\\u27bf",xn="a-z\\xdf-\\xf6\\xf8-\\xff",_r="A-Z\\xc0-\\xd6\\xd8-\\xde",el="\\ufe0e\\ufe0f",Si="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ii="["+ni+"]",Rc="["+Si+"]",ro="["+Ds+"]",As="\\d+",Zr="["+io+"]",Su="["+xn+"]",so="[^"+ni+Si+As+io+xn+_r+"]",tl="\\ud83c[\\udffb-\\udfff]",yr="[^"+ni+"]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",Br="[\\ud800-\\udbff][\\udc00-\\udfff]",nl="["+_r+"]",df="(?:"+Su+"|"+so+")",Iu="(?:"+nl+"|"+so+")",Oc="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Du="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Au="(?:"+ro+"|"+tl+")?",ku="["+el+"]?",il=ku+Au+"(?:\\u200d(?:"+[yr,oo,Br].join("|")+")"+ku+Au+")*",o_="(?:"+[Zr,oo,Br].join("|")+")"+il,Kp="(?:"+[yr+ro+"?",ro,oo,Br,ii].join("|")+")",Nc=RegExp("['\u2019]","g"),hf=RegExp(ro,"g"),Ko=RegExp(tl+"(?="+tl+")|"+Kp+il,"g"),Ao=RegExp([nl+"?"+Su+"+"+Oc+"(?="+[Rc,nl,"$"].join("|")+")",Iu+"+"+Du+"(?="+[Rc,nl+df,"$"].join("|")+")",nl+"?"+df+"+"+Oc,nl+"+"+Du,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",As,o_].join("|"),"g"),rl=RegExp("[\\u200d"+ni+Ds+el+"]"),$l=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ba=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fc=-1,ri={};ri[It]=ri[gi]=ri[Ji]=ri[Hi]=ri[En]=ri[Dn]=ri[gr]=ri[be]=ri[he]=!0,ri[sn]=ri[Nt]=ri[Cn]=ri[bn]=ri[bt]=ri[zn]=ri[pi]=ri[Wn]=ri[Kn]=ri[jn]=ri[ci]=ri[Vn]=ri[fn]=ri[Rt]=ri[en]=!1;var vi={};vi[sn]=vi[Nt]=vi[Cn]=vi[bt]=vi[bn]=vi[zn]=vi[It]=vi[gi]=vi[Ji]=vi[Hi]=vi[En]=vi[Kn]=vi[jn]=vi[ci]=vi[Vn]=vi[fn]=vi[Rt]=vi[Ut]=vi[Dn]=vi[gr]=vi[be]=vi[he]=!0,vi[pi]=vi[Wn]=vi[en]=!1;var Lc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ff=parseFloat,Vc=parseInt,qr="object"==typeof global&&global&&global.Object===Object&&global,ns="object"==typeof self&&self&&self.Object===Object&&self,kr=qr||ns||Function("return this")(),ko=Ae&&!Ae.nodeType&&Ae,lo=ko&&qe&&!qe.nodeType&&qe,Mu=lo&&lo.exports===ko,sl=Mu&&qr.process,vr=function(){try{return lo&&lo.require&&lo.require("util").types||sl&&sl.binding&&sl.binding("util")}catch(rt){}}(),Di=vr&&vr.isArrayBuffer,co=vr&&vr.isDate,Ru=vr&&vr.isMap,Fi=vr&&vr.isRegExp,Ca=vr&&vr.isSet,ol=vr&&vr.isTypedArray;function br(Me,rt,Ke){switch(Ke.length){case 0:return Me.call(rt);case 1:return Me.call(rt,Ke[0]);case 2:return Me.call(rt,Ke[0],Ke[1]);case 3:return Me.call(rt,Ke[0],Ke[1],Ke[2])}return Me.apply(rt,Ke)}function Ur(Me,rt,Ke,Wt){for(var An=-1,bi=null==Me?0:Me.length;++An<bi;){var Ki=Me[An];rt(Wt,Ki,Ke(Ki),Me)}return Wt}function Q(Me,rt){for(var Ke=-1,Wt=null==Me?0:Me.length;++Ke<Wt&&!1!==rt(Me[Ke],Ke,Me););return Me}function te(Me,rt){for(var Ke=null==Me?0:Me.length;Ke--&&!1!==rt(Me[Ke],Ke,Me););return Me}function Se(Me,rt){for(var Ke=-1,Wt=null==Me?0:Me.length;++Ke<Wt;)if(!rt(Me[Ke],Ke,Me))return!1;return!0}function $e(Me,rt){for(var Ke=-1,Wt=null==Me?0:Me.length,An=0,bi=[];++Ke<Wt;){var Ki=Me[Ke];rt(Ki,Ke,Me)&&(bi[An++]=Ki)}return bi}function gt(Me,rt){return!(null==Me||!Me.length)&&ho(Me,rt,0)>-1}function Ft(Me,rt,Ke){for(var Wt=-1,An=null==Me?0:Me.length;++Wt<An;)if(Ke(rt,Me[Wt]))return!0;return!1}function At(Me,rt){for(var Ke=-1,Wt=null==Me?0:Me.length,An=Array(Wt);++Ke<Wt;)An[Ke]=rt(Me[Ke],Ke,Me);return An}function Gn(Me,rt){for(var Ke=-1,Wt=rt.length,An=Me.length;++Ke<Wt;)Me[An+Ke]=rt[Ke];return Me}function mn(Me,rt,Ke,Wt){var An=-1,bi=null==Me?0:Me.length;for(Wt&&bi&&(Ke=Me[++An]);++An<bi;)Ke=rt(Ke,Me[An],An,Me);return Ke}function qi(Me,rt,Ke,Wt){var An=null==Me?0:Me.length;for(Wt&&An&&(Ke=Me[--An]);An--;)Ke=rt(Ke,Me[An],An,Me);return Ke}function Pt(Me,rt){for(var Ke=-1,Wt=null==Me?0:Me.length;++Ke<Wt;)if(rt(Me[Ke],Ke,Me))return!0;return!1}var Hs=ll("length");function al(Me,rt,Ke){var Wt;return Ke(Me,function(An,bi,Ki){if(rt(An,bi,Ki))return Wt=bi,!1}),Wt}function uo(Me,rt,Ke,Wt){for(var An=Me.length,bi=Ke+(Wt?1:-1);Wt?bi--:++bi<An;)if(rt(Me[bi],bi,Me))return bi;return-1}function ho(Me,rt,Ke){return rt==rt?function(Me,rt,Ke){for(var Wt=Ke-1,An=Me.length;++Wt<An;)if(Me[Wt]===rt)return Wt;return-1}(Me,rt,Ke):uo(Me,ut,Ke)}function Mo(Me,rt,Ke,Wt){for(var An=Ke-1,bi=Me.length;++An<bi;)if(Wt(Me[An],rt))return An;return-1}function ut(Me){return Me!=Me}function Ln(Me,rt){var Ke=null==Me?0:Me.length;return Ke?ks(Me,rt)/Ke:NaN}function ll(Me){return function(rt){return null==rt?T:rt[Me]}}function Wi(Me){return function(rt){return null==Me?T:Me[rt]}}function Yp(Me,rt,Ke,Wt,An){return An(Me,function(bi,Ki,Yn){Ke=Wt?(Wt=!1,bi):rt(Ke,bi,Ki,Yn)}),Ke}function ks(Me,rt){for(var Ke,Wt=-1,An=Me.length;++Wt<An;){var bi=rt(Me[Wt]);bi!==T&&(Ke=Ke===T?bi:Ke+bi)}return Ke}function jl(Me,rt){for(var Ke=-1,Wt=Array(Me);++Ke<Me;)Wt[Ke]=rt(Ke);return Wt}function a_(Me){return Me&&Me.slice(0,jd(Me)+1).replace(Yt,"")}function _s(Me){return function(rt){return Me(rt)}}function Bc(Me,rt){return At(rt,function(Ke){return Me[Ke]})}function Ea(Me,rt){return Me.has(rt)}function Hr(Me,rt){for(var Ke=-1,Wt=Me.length;++Ke<Wt&&ho(rt,Me[Ke],0)>-1;);return Ke}function Jo(Me,rt){for(var Ke=Me.length;Ke--&&ho(rt,Me[Ke],0)>-1;);return Ke}function Ou(Me,rt){for(var Ke=Me.length,Wt=0;Ke--;)Me[Ke]===rt&&++Wt;return Wt}var Uc=Wi({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ro=Wi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function l_(Me){return"\\"+Lc[Me]}function Hc(Me){return rl.test(Me)}function Gl(Me){var rt=-1,Ke=Array(Me.size);return Me.forEach(function(Wt,An){Ke[++rt]=[An,Wt]}),Ke}function mf(Me,rt){return function(Ke){return Me(rt(Ke))}}function Ws(Me,rt){for(var Ke=-1,Wt=Me.length,An=0,bi=[];++Ke<Wt;){var Ki=Me[Ke];(Ki===rt||Ki===R)&&(Me[Ke]=R,bi[An++]=Ke)}return bi}function _f(Me){var rt=-1,Ke=Array(Me.size);return Me.forEach(function(Wt){Ke[++rt]=Wt}),Ke}function Xo(Me){return Hc(Me)?function(Me){for(var rt=Ko.lastIndex=0;Ko.test(Me);)++rt;return rt}(Me):Hs(Me)}function Kr(Me){return Hc(Me)?function(Me){return Me.match(Ko)||[]}(Me):function(Me){return Me.split("")}(Me)}function jd(Me){for(var rt=Me.length;rt--&&gn.test(Me.charAt(rt)););return rt}var yf=Wi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$i=function Me(rt){var d,Ke=(rt=null==rt?kr:$i.defaults(kr.Object(),rt,$i.pick(kr,ba))).Array,Wt=rt.Date,An=rt.Error,bi=rt.Function,Ki=rt.Math,Yn=rt.Object,Zl=rt.RegExp,Xp=rt.String,fo=rt.TypeError,Gd=Ke.prototype,Oo=Yn.prototype,Pu=rt["__core-js_shared__"],vf=bi.prototype.toString,Qn=Oo.hasOwnProperty,bf=0,c_=(d=/[^.]+$/.exec(Pu&&Pu.keys&&Pu.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",wf=Oo.toString,Ny=vf.call(Yn),Vx=kr._,Li=Zl("^"+vf.call(Qn).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=Mu?rt.Buffer:T,Bn=rt.Symbol,ul=rt.Uint8Array,Ms=Jt?Jt.allocUnsafe:T,po=mf(Yn.getPrototypeOf,Yn),ea=Yn.create,si=Oo.propertyIsEnumerable,ta=Gd.splice,zc=Bn?Bn.isConcatSpreadable:T,dl=Bn?Bn.iterator:T,Ai=Bn?Bn.toStringTag:T,Wc=function(){try{var d=ru(Yn,"defineProperty");return d({},"",{}),d}catch(g){}}(),eg=rt.clearTimeout!==kr.clearTimeout&&rt.clearTimeout,Cf=Wt&&Wt.now!==kr.Date.now&&Wt.now,u_=rt.setTimeout!==kr.setTimeout&&rt.setTimeout,Po=Ki.ceil,Kl=Ki.floor,hl=Yn.getOwnPropertySymbols,na=Jt?Jt.isBuffer:T,fl=rt.isFinite,Ef=Gd.join,Nu=mf(Yn.keys,Yn),Ei=Ki.max,zr=Ki.min,Zd=Wt.now,un=rt.parseInt,$s=Ki.random,Yi=Gd.reverse,$c=ru(rt,"DataView"),jc=ru(rt,"Map"),xf=ru(rt,"Promise"),pl=ru(rt,"Set"),js=ru(rt,"WeakMap"),gl=ru(Yn,"create"),Gc=js&&new js,ys={},Gs=Bi($c),Zc=Bi(jc),qc=Bi(xf),is=Bi(pl),Tf=Bi(js),xa=Bn?Bn.prototype:T,ia=xa?xa.valueOf:T,qd=xa?xa.toString:T;function G(d){if(nr(d)&&!Rn(d)&&!(d instanceof Jn)){if(d instanceof Zs)return d;if(Qn.call(d,"__wrapped__"))return Ma(d)}return new Zs(d)}var or=function(){function d(){}return function(g){if(!cr(g))return{};if(ea)return ea(g);d.prototype=g;var w=new d;return d.prototype=T,w}}();function Yl(){}function Zs(d,g){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=T}function Jn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function No(d){var g=-1,w=null==d?0:d.length;for(this.clear();++g<w;){var A=d[g];this.set(A[0],A[1])}}function Ta(d){var g=-1,w=null==d?0:d.length;for(this.clear();++g<w;){var A=d[g];this.set(A[0],A[1])}}function ra(d){var g=-1,w=null==d?0:d.length;for(this.clear();++g<w;){var A=d[g];this.set(A[0],A[1])}}function ar(d){var g=-1,w=null==d?0:d.length;for(this.__data__=new ra;++g<w;)this.add(d[g])}function sa(d){var g=this.__data__=new Ta(d);this.size=g.size}function Xd(d,g){var w=Rn(d),A=!w&&ld(d),B=!w&&!A&&kl(d),Y=!w&&!A&&!B&&Ml(d),de=w||A||B||Y,xe=de?jl(d.length,Xp):[],Pe=xe.length;for(var nt in d)(g||Qn.call(d,nt))&&(!de||!("length"==nt||B&&("offset"==nt||"parent"==nt)||Y&&("buffer"==nt||"byteLength"==nt||"byteOffset"==nt)||dc(nt,Pe)))&&xe.push(nt);return xe}function Af(d){var g=d.length;return g?d[ac(0,g-1)]:T}function Xl(d,g){return sd(ss(d),rs(g,0,d.length))}function Bu(d){return sd(ss(d))}function Un(d,g,w){(w!==T&&!Qs(d[g],w)||w===T&&!(g in d))&&oa(d,g,w)}function Lo(d,g,w){var A=d[g];(!Qn.call(d,g)||!Qs(A,w)||w===T&&!(g in d))&&oa(d,g,w)}function qs(d,g){for(var w=d.length;w--;)if(Qs(d[w][0],g))return w;return-1}function ec(d,g,w,A){return Yr(d,function(B,Y,de){g(A,B,w(B),de)}),A}function eh(d,g){return d&&bl(g,$r(g),d)}function oa(d,g,w){"__proto__"==g&&Wc?Wc(d,g,{configurable:!0,enumerable:!0,value:w,writable:!0}):d[g]=w}function th(d,g){for(var w=-1,A=g.length,B=Ke(A),Y=null==d;++w<A;)B[w]=Y?T:cp(d,g[w]);return B}function rs(d,g,w){return d==d&&(w!==T&&(d=d<=w?d:w),g!==T&&(d=d>=g?d:g)),d}function Mr(d,g,w,A,B,Y){var de,xe=1&g,Pe=2&g,nt=4&g;if(w&&(de=B?w(d,A,B,Y):w(d)),de!==T)return de;if(!cr(d))return d;var at=Rn(d);if(at){if(de=function(d){var g=d.length,w=new d.constructor(g);return g&&"string"==typeof d[0]&&Qn.call(d,"index")&&(w.index=d.index,w.input=d.input),w}(d),!xe)return ss(d,de)}else{var ft=Or(d),Ot=ft==Wn||ft==Xn;if(kl(d))return Yu(d,xe);if(ft==ci||ft==sn||Ot&&!B){if(de=Pe||Ot?{}:jy(d),!xe)return Pe?function(d,g){return bl(d,Wy(d),g)}(d,function(d,g){return d&&bl(g,cs(g),d)}(de,d)):function(d,g){return bl(d,x_(d),g)}(d,eh(de,d))}else{if(!vi[ft])return B?d:{};de=function(d,g,w){var A=d.constructor;switch(g){case Cn:return ka(d);case bn:case zn:return new A(+d);case bt:return function(d,g){var w=g?ka(d.buffer):d.buffer;return new d.constructor(w,d.byteOffset,d.byteLength)}(d,w);case It:case gi:case Ji:case Hi:case En:case Dn:case gr:case be:case he:return Rr(d,w);case Kn:return new A;case jn:case Rt:return new A(d);case Vn:return function(d){var g=new d.constructor(d.source,Do.exec(d));return g.lastIndex=d.lastIndex,g}(d);case fn:return new A;case Ut:return function(d){return ia?Yn(ia.call(d)):{}}(d)}}(d,ft,xe)}}Y||(Y=new sa);var Gt=Y.get(d);if(Gt)return Gt;Y.set(d,de),ap(d)?d.forEach(function(an){de.add(Mr(an,g,w,an,d,Y))}):bh(d)&&d.forEach(function(an,Zn){de.set(Zn,Mr(an,g,w,Zn,d,Y))});var Xt=at?T:(nt?Pe?E_:C_:Pe?cs:$r)(d);return Q(Xt||d,function(an,Zn){Xt&&(an=d[Zn=an]),Lo(de,Zn,Mr(an,g,w,Zn,d,Y))}),de}function Mf(d,g,w){var A=w.length;if(null==d)return!A;for(d=Yn(d);A--;){var B=w[A],de=d[B];if(de===T&&!(B in d)||!(0,g[B])(de))return!1}return!0}function Er(d,g,w){if("function"!=typeof d)throw new fo(Z);return Gf(function(){d.apply(T,w)},g)}function tr(d,g,w,A){var B=-1,Y=gt,de=!0,xe=d.length,Pe=[],nt=g.length;if(!xe)return Pe;w&&(g=At(g,_s(w))),A?(Y=Ft,de=!1):g.length>=200&&(Y=Ea,de=!1,g=new ar(g));e:for(;++B<xe;){var at=d[B],ft=null==w?at:w(at);if(at=A||0!==at?at:0,de&&ft==ft){for(var Ot=nt;Ot--;)if(g[Ot]===ft)continue e;Pe.push(at)}else Y(g,ft,A)||Pe.push(at)}return Pe}G.templateSettings={escape:wt,evaluate:Et,interpolate:vt,variable:"",imports:{_:G}},(G.prototype=Yl.prototype).constructor=G,(Zs.prototype=or(Yl.prototype)).constructor=Zs,(Jn.prototype=or(Yl.prototype)).constructor=Jn,No.prototype.clear=function(){this.__data__=gl?gl(null):{},this.size=0},No.prototype.delete=function(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g},No.prototype.get=function(d){var g=this.__data__;if(gl){var w=g[d];return w===N?T:w}return Qn.call(g,d)?g[d]:T},No.prototype.has=function(d){var g=this.__data__;return gl?g[d]!==T:Qn.call(g,d)},No.prototype.set=function(d,g){var w=this.__data__;return this.size+=this.has(d)?0:1,w[d]=gl&&g===T?N:g,this},Ta.prototype.clear=function(){this.__data__=[],this.size=0},Ta.prototype.delete=function(d){var g=this.__data__,w=qs(g,d);return!(w<0||(w==g.length-1?g.pop():ta.call(g,w,1),--this.size,0))},Ta.prototype.get=function(d){var g=this.__data__,w=qs(g,d);return w<0?T:g[w][1]},Ta.prototype.has=function(d){return qs(this.__data__,d)>-1},Ta.prototype.set=function(d,g){var w=this.__data__,A=qs(w,d);return A<0?(++this.size,w.push([d,g])):w[A][1]=g,this},ra.prototype.clear=function(){this.size=0,this.__data__={hash:new No,map:new(jc||Ta),string:new No}},ra.prototype.delete=function(d){var g=gg(this,d).delete(d);return this.size-=g?1:0,g},ra.prototype.get=function(d){return gg(this,d).get(d)},ra.prototype.has=function(d){return gg(this,d).has(d)},ra.prototype.set=function(d,g){var w=gg(this,d),A=w.size;return w.set(d,g),this.size+=w.size==A?0:1,this},ar.prototype.add=ar.prototype.push=function(d){return this.__data__.set(d,N),this},ar.prototype.has=function(d){return this.__data__.has(d)},sa.prototype.clear=function(){this.__data__=new Ta,this.size=0},sa.prototype.delete=function(d){var g=this.__data__,w=g.delete(d);return this.size=g.size,w},sa.prototype.get=function(d){return this.__data__.get(d)},sa.prototype.has=function(d){return this.__data__.has(d)},sa.prototype.set=function(d,g){var w=this.__data__;if(w instanceof Ta){var A=w.__data__;if(!jc||A.length<199)return A.push([d,g]),this.size=++w.size,this;w=this.__data__=new ra(A)}return w.set(d,g),this.size=w.size,this};var Yr=Vy(Qr),Yc=Vy(nc,!0);function Uu(d,g){var w=!0;return Yr(d,function(A,B,Y){return w=!!g(A,B,Y)}),w}function tc(d,g,w){for(var A=-1,B=d.length;++A<B;){var Y=d[A],de=g(Y);if(null!=de&&(xe===T?de==de&&!vo(de):w(de,xe)))var xe=de,Pe=Y}return Pe}function ih(d,g){var w=[];return Yr(d,function(A,B,Y){g(A,B,Y)&&w.push(A)}),w}function Qi(d,g,w,A,B){var Y=-1,de=d.length;for(w||(w=S_),B||(B=[]);++Y<de;){var xe=d[Y];g>0&&w(xe)?g>1?Qi(xe,g-1,w,A,B):Gn(B,xe):A||(B[B.length]=xe)}return B}var Vo=uh(),rh=uh(!0);function Qr(d,g){return d&&Vo(d,g,$r)}function nc(d,g){return d&&rh(d,g,$r)}function go(d,g){return $e(g,function(w){return lu(d[w])})}function Tn(d,g){for(var w=0,A=(g=ca(g,d)).length;null!=d&&w<A;)d=d[xl(g[w++])];return w&&w==A?d:T}function aa(d,g,w){var A=g(d);return Rn(d)?A:Gn(A,w(d))}function Wr(d){return null==d?d===T?"[object Undefined]":"[object Null]":Ai&&Ai in Yn(d)?function(d){var g=Qn.call(d,Ai),w=d[Ai];try{d[Ai]=T;var A=!0}catch(Y){}var B=wf.call(d);return A&&(g?d[Ai]=w:delete d[Ai]),B}(d):function(d){return wf.call(d)}(d)}function Sa(d,g){return d>g}function p_(d,g){return null!=d&&Qn.call(d,g)}function ic(d,g){return null!=d&&g in Yn(d)}function Rf(d,g,w){for(var A=w?Ft:gt,B=d[0].length,Y=d.length,de=Y,xe=Ke(Y),Pe=1/0,nt=[];de--;){var at=d[de];de&&g&&(at=At(at,_s(g))),Pe=zr(at.length,Pe),xe[de]=!w&&(g||B>=120&&at.length>=120)?new ar(de&&at):T}at=d[0];var ft=-1,Ot=xe[0];e:for(;++ft<B&&nt.length<Pe;){var Gt=at[ft],Qe=g?g(Gt):Gt;if(Gt=w||0!==Gt?Gt:0,!(Ot?Ea(Ot,Qe):A(nt,Qe,w))){for(de=Y;--de;){var Xt=xe[de];if(!(Xt?Ea(Xt,Qe):A(d[de],Qe,w)))continue e}Ot&&Ot.push(Qe),nt.push(Gt)}}return nt}function Bo(d,g,w){var A=null==(d=qy(d,g=ca(g,d)))?d:d[xl(Oa(g))];return null==A?T:br(A,d,w)}function Pf(d){return nr(d)&&Wr(d)==sn}function rc(d,g,w,A,B){return d===g||(null==d||null==g||!nr(d)&&!nr(g)?d!=d&&g!=g:function(d,g,w,A,B,Y){var de=Rn(d),xe=Rn(g),Pe=de?Nt:Or(d),nt=xe?Nt:Or(g),at=(Pe=Pe==sn?ci:Pe)==ci,ft=(nt=nt==sn?ci:nt)==ci,Ot=Pe==nt;if(Ot&&kl(d)){if(!kl(g))return!1;de=!0,at=!1}if(Ot&&!at)return Y||(Y=new sa),de||Ml(d)?pg(d,g,w,A,B,Y):function(d,g,w,A,B,Y,de){switch(w){case bt:if(d.byteLength!=g.byteLength||d.byteOffset!=g.byteOffset)return!1;d=d.buffer,g=g.buffer;case Cn:return!(d.byteLength!=g.byteLength||!Y(new ul(d),new ul(g)));case bn:case zn:case jn:return Qs(+d,+g);case pi:return d.name==g.name&&d.message==g.message;case Vn:case Rt:return d==g+"";case Kn:var xe=Gl;case fn:if(xe||(xe=_f),d.size!=g.size&&!(1&A))return!1;var nt=de.get(d);if(nt)return nt==g;A|=2,de.set(d,g);var at=pg(xe(d),xe(g),A,B,Y,de);return de.delete(d),at;case Ut:if(ia)return ia.call(d)==ia.call(g)}return!1}(d,g,Pe,w,A,B,Y);if(!(1&w)){var Gt=at&&Qn.call(d,"__wrapped__"),Qe=ft&&Qn.call(g,"__wrapped__");if(Gt||Qe){var Xt=Gt?d.value():d,an=Qe?g.value():g;return Y||(Y=new sa),B(Xt,an,w,A,Y)}}return!!Ot&&(Y||(Y=new sa),function(d,g,w,A,B,Y){var de=1&w,xe=C_(d),Pe=xe.length;if(Pe!=C_(g).length&&!de)return!1;for(var ft=Pe;ft--;){var Ot=xe[ft];if(!(de?Ot in g:Qn.call(g,Ot)))return!1}var Gt=Y.get(d),Qe=Y.get(g);if(Gt&&Qe)return Gt==g&&Qe==d;var Xt=!0;Y.set(d,g),Y.set(g,d);for(var an=de;++ft<Pe;){var Zn=d[Ot=xe[ft]],yt=g[Ot];if(A)var Kt=de?A(yt,Zn,Ot,g,d,Y):A(Zn,yt,Ot,d,g,Y);if(!(Kt===T?Zn===yt||B(Zn,yt,w,A,Y):Kt)){Xt=!1;break}an||(an="constructor"==Ot)}if(Xt&&!an){var Ls=d.constructor,xt=g.constructor;Ls!=xt&&"constructor"in d&&"constructor"in g&&!("function"==typeof Ls&&Ls instanceof Ls&&"function"==typeof xt&&xt instanceof xt)&&(Xt=!1)}return Y.delete(d),Y.delete(g),Xt}(d,g,w,A,B,Y))}(d,g,w,A,rc,B))}function Jc(d,g,w,A){var B=w.length,Y=B,de=!A;if(null==d)return!Y;for(d=Yn(d);B--;){var xe=w[B];if(de&&xe[2]?xe[1]!==d[xe[0]]:!(xe[0]in d))return!1}for(;++B<Y;){var Pe=(xe=w[B])[0],nt=d[Pe],at=xe[1];if(de&&xe[2]){if(nt===T&&!(Pe in d))return!1}else{var ft=new sa;if(A)var Ot=A(nt,at,Pe,d,g,ft);if(!(Ot===T?rc(at,nt,3,A,ft):Ot))return!1}}return!0}function sc(d){return!(!cr(d)||function(d){return!!c_&&c_ in d}(d))&&(lu(d)?Li:sr).test(Bi(d))}function Wu(d){return"function"==typeof d?d:null==d?Js:"object"==typeof d?Rn(d)?ah(d[0],d[1]):ju(d):im(d)}function $u(d){if(!id(d))return Nu(d);var g=[];for(var w in Yn(d))Qn.call(d,w)&&"constructor"!=w&&g.push(w);return g}function oh(d,g){return d<g}function Nf(d,g){var w=-1,A=Fs(d)?Ke(d.length):[];return Yr(d,function(B,Y,de){A[++w]=g(B,Y,de)}),A}function ju(d){var g=nd(d);return 1==g.length&&g[0][2]?rd(g[0][0],g[0][1]):function(w){return w===d||Jc(w,d,g)}}function ah(d,g){return su(d)&&pw(g)?rd(xl(d),g):function(w){var A=cp(w,d);return A===T&&A===g?Qg(w,d):rc(g,A,3)}}function Xc(d,g,w,A,B){d!==g&&Vo(g,function(Y,de){if(B||(B=new sa),cr(Y))!function(d,g,w,A,B,Y,de){var xe=jf(d,w),Pe=jf(g,w),nt=de.get(Pe);if(nt)Un(d,w,nt);else{var at=Y?Y(xe,Pe,w+"",d,g,de):T,ft=at===T;if(ft){var Ot=Rn(Pe),Gt=!Ot&&kl(Pe),Qe=!Ot&&!Gt&&Ml(Pe);at=Pe,Ot||Gt||Qe?Rn(xe)?at=xe:lr(xe)?at=ss(xe):Gt?(ft=!1,at=Yu(Pe,!0)):Qe?(ft=!1,at=Rr(Pe,!0)):at=[]:cd(Pe)||ld(Pe)?(at=xe,ld(xe)?at=Zg(xe):(!cr(xe)||lu(xe))&&(at=jy(Pe))):ft=!1}ft&&(de.set(Pe,at),B(at,Pe,A,Y,de),de.delete(Pe)),Un(d,w,at)}}(d,g,de,w,Xc,A,B);else{var xe=A?A(jf(d,de),Y,de+"",d,g,B):T;xe===T&&(xe=Y),Un(d,de,xe)}},cs)}function oc(d,g){var w=d.length;if(w)return dc(g+=g<0?w:0,w)?d[g]:T}function Gu(d,g,w){g=g.length?At(g,function(Y){return Rn(Y)?function(de){return Tn(de,1===Y.length?Y[0]:Y)}:Y}):[Js];var A=-1;return g=At(g,_s(_n())),function(Me,rt){var Ke=Me.length;for(Me.sort(function(Y,de){return function(d,g,w){for(var A=-1,B=d.criteria,Y=g.criteria,de=B.length,xe=w.length;++A<de;){var Pe=Ly(B[A],Y[A]);if(Pe)return A>=xe?Pe:Pe*("desc"==w[A]?-1:1)}return d.index-g.index}(Y,de,w)});Ke--;)Me[Ke]=Me[Ke].value;return Me}(Nf(d,function(Y,de,xe){return{criteria:At(g,function(nt){return nt(Y)}),index:++A,value:Y}}))}function yl(d,g,w){for(var A=-1,B=g.length,Y={};++A<B;){var de=g[A],xe=Tn(d,de);w(xe,de)&&qu(Y,ca(de,d),xe)}return Y}function lh(d,g,w,A){var B=A?Mo:ho,Y=-1,de=g.length,xe=d;for(d===g&&(g=ss(g)),w&&(xe=At(d,_s(w)));++Y<de;)for(var Pe=0,nt=g[Y],at=w?w(nt):nt;(Pe=B(xe,at,Pe,A))>-1;)xe!==d&&ta.call(xe,Pe,1),ta.call(d,Pe,1);return d}function y_(d,g){for(var w=d?g.length:0,A=w-1;w--;){var B=g[w];if(w==A||B!==Y){var Y=B;dc(B)?ta.call(d,B,1):$n(d,B)}}return d}function ac(d,g){return d+Kl($s()*(g-d+1))}function Zu(d,g){var w="";if(!d||g<1||g>Tt)return w;do{g%2&&(w+=d),(g=Kl(g/2))&&(d+=d)}while(g);return w}function kn(d,g){return yg(Zy(d,g,Js),d+"")}function Ff(d){return Af(Xr(d))}function Lf(d,g){var w=Xr(d);return sd(w,rs(g,0,w.length))}function qu(d,g,w,A){if(!cr(d))return d;for(var B=-1,Y=(g=ca(g,d)).length,de=Y-1,xe=d;null!=xe&&++B<Y;){var Pe=xl(g[B]),nt=w;if("__proto__"===Pe||"constructor"===Pe||"prototype"===Pe)return d;if(B!=de){var at=xe[Pe];(nt=A?A(at,Pe,xe):T)===T&&(nt=cr(at)?at:dc(g[B+1])?[]:{})}Lo(xe,Pe,nt),xe=xe[Pe]}return d}var eu=Gc?function(d,g){return Gc.set(d,g),d}:Js,E=Wc?function(d,g){return Wc(d,"toString",{configurable:!0,enumerable:!1,value:Ui(g),writable:!0})}:Js;function y(d){return sd(Xr(d))}function v(d,g,w){var A=-1,B=d.length;g<0&&(g=-g>B?0:B+g),(w=w>B?B:w)<0&&(w+=B),B=g>w?0:w-g>>>0,g>>>=0;for(var Y=Ke(B);++A<B;)Y[A]=d[A+g];return Y}function I(d,g){var w;return Yr(d,function(A,B,Y){return!(w=g(A,B,Y))}),!!w}function H(d,g,w){var A=0,B=null==d?A:d.length;if("number"==typeof g&&g==g&&B<=2147483647){for(;A<B;){var Y=A+B>>>1,de=d[Y];null!==de&&!vo(de)&&(w?de<=g:de<g)?A=Y+1:B=Y}return B}return ne(d,g,Js,w)}function ne(d,g,w,A){var B=0,Y=null==d?0:d.length;if(0===Y)return 0;for(var de=(g=w(g))!=g,xe=null===g,Pe=vo(g),nt=g===T;B<Y;){var at=Kl((B+Y)/2),ft=w(d[at]),Ot=ft!==T,Gt=null===ft,Qe=ft==ft,Xt=vo(ft);if(de)var an=A||Qe;else an=nt?Qe&&(A||Ot):xe?Qe&&Ot&&(A||!Gt):Pe?Qe&&Ot&&!Gt&&(A||!Xt):!Gt&&!Xt&&(A?ft<=g:ft<g);an?B=at+1:Y=at}return zr(Y,4294967294)}function We(d,g){for(var w=-1,A=d.length,B=0,Y=[];++w<A;){var de=d[w],xe=g?g(de):de;if(!w||!Qs(xe,Pe)){var Pe=xe;Y[B++]=0===de?0:de}}return Y}function pt(d){return"number"==typeof d?d:vo(d)?NaN:+d}function kt(d){if("string"==typeof d)return d;if(Rn(d))return At(d,kt)+"";if(vo(d))return qd?qd.call(d):"";var g=d+"";return"0"==g&&1/d==-ct?"-0":g}function tn(d,g,w){var A=-1,B=gt,Y=d.length,de=!0,xe=[],Pe=xe;if(w)de=!1,B=Ft;else if(Y>=200){var nt=g?null:hg(d);if(nt)return _f(nt);de=!1,B=Ea,Pe=new ar}else Pe=g?[]:xe;e:for(;++A<Y;){var at=d[A],ft=g?g(at):at;if(at=w||0!==at?at:0,de&&ft==ft){for(var Ot=Pe.length;Ot--;)if(Pe[Ot]===ft)continue e;g&&Pe.push(ft),xe.push(at)}else B(Pe,ft,w)||(Pe!==xe&&Pe.push(ft),xe.push(at))}return xe}function $n(d,g){return null==(d=qy(d,g=ca(g,d)))||delete d[xl(Oa(g))]}function ji(d,g,w,A){return qu(d,g,w(Tn(d,g)),A)}function vs(d,g,w,A){for(var B=d.length,Y=A?B:-1;(A?Y--:++Y<B)&&g(d[Y],Y,d););return w?v(d,A?0:Y,A?Y+1:B):v(d,A?Y+1:0,A?B:Y)}function mo(d,g){var w=d;return w instanceof Jn&&(w=w.value()),mn(g,function(A,B){return B.func.apply(B.thisArg,Gn([A],B.args))},w)}function Uo(d,g,w){var A=d.length;if(A<2)return A?tn(d[0]):[];for(var B=-1,Y=Ke(A);++B<A;)for(var de=d[B],xe=-1;++xe<A;)xe!=B&&(Y[B]=tr(Y[B]||de,d[xe],g,w));return tn(Qi(Y,1),g,w)}function og(d,g,w){for(var A=-1,B=d.length,Y=g.length,de={};++A<B;)w(de,d[A],A<Y?g[A]:T);return de}function tu(d){return lr(d)?d:[]}function Ku(d){return"function"==typeof d?d:Js}function ca(d,g){return Rn(d)?d:su(d,g)?[d]:Ky(oi(d))}var ch=kn;function Aa(d,g,w){var A=d.length;return w=w===T?A:w,!g&&w>=A?d:v(d,g,w)}var Vf=eg||function(d){return kr.clearTimeout(d)};function Yu(d,g){if(g)return d.slice();var w=d.length,A=Ms?Ms(w):new d.constructor(w);return d.copy(A),A}function ka(d){var g=new d.constructor(d.byteLength);return new ul(g).set(new ul(d)),g}function Rr(d,g){var w=g?ka(d.buffer):d.buffer;return new d.constructor(w,d.byteOffset,d.length)}function Ly(d,g){if(d!==g){var w=d!==T,A=null===d,B=d==d,Y=vo(d),de=g!==T,xe=null===g,Pe=g==g,nt=vo(g);if(!xe&&!nt&&!Y&&d>g||Y&&de&&Pe&&!xe&&!nt||A&&de&&Pe||!w&&Pe||!B)return 1;if(!A&&!Y&&!nt&&d<g||nt&&w&&B&&!A&&!Y||xe&&w&&B||!de&&B||!Pe)return-1}return 0}function ag(d,g,w,A){for(var B=-1,Y=d.length,de=w.length,xe=-1,Pe=g.length,nt=Ei(Y-de,0),at=Ke(Pe+nt),ft=!A;++xe<Pe;)at[xe]=g[xe];for(;++B<de;)(ft||B<Y)&&(at[w[B]]=d[B]);for(;nt--;)at[xe++]=d[B++];return at}function Ju(d,g,w,A){for(var B=-1,Y=d.length,de=-1,xe=w.length,Pe=-1,nt=g.length,at=Ei(Y-xe,0),ft=Ke(at+nt),Ot=!A;++B<at;)ft[B]=d[B];for(var Gt=B;++Pe<nt;)ft[Gt+Pe]=g[Pe];for(;++de<xe;)(Ot||B<Y)&&(ft[Gt+w[de]]=d[B++]);return ft}function ss(d,g){var w=-1,A=d.length;for(g||(g=Ke(A));++w<A;)g[w]=d[w];return g}function bl(d,g,w,A){var B=!w;w||(w={});for(var Y=-1,de=g.length;++Y<de;){var xe=g[Y],Pe=A?A(w[xe],d[xe],xe,w,d):T;Pe===T&&(Pe=d[xe]),B?oa(w,xe,Pe):Lo(w,xe,Pe)}return w}function cg(d,g){return function(w,A){var B=Rn(w)?Ur:ec,Y=g?g():{};return B(w,d,_n(A,2),Y)}}function Xu(d){return kn(function(g,w){var A=-1,B=w.length,Y=B>1?w[B-1]:T,de=B>2?w[2]:T;for(Y=d.length>3&&"function"==typeof Y?(B--,Y):T,de&&Rs(w[0],w[1],de)&&(Y=B<3?T:Y,B=1),g=Yn(g);++A<B;){var xe=w[A];xe&&d(g,xe,A,Y)}return g})}function Vy(d,g){return function(w,A){if(null==w)return w;if(!Fs(w))return d(w,A);for(var B=w.length,Y=g?B:-1,de=Yn(w);(g?Y--:++Y<B)&&!1!==A(de[Y],Y,de););return w}}function uh(d){return function(g,w,A){for(var B=-1,Y=Yn(g),de=A(g),xe=de.length;xe--;){var Pe=de[d?xe:++B];if(!1===w(Y[Pe],Pe,Y))break}return g}}function dh(d){return function(g){var w=Hc(g=oi(g))?Kr(g):T,A=w?w[0]:g.charAt(0),B=w?Aa(w,1).join(""):g.slice(1);return A[d]()+B}}function os(d){return function(g){return mn(bc(Ow(g).replace(Nc,"")),d,"")}}function ed(d){return function(){var g=arguments;switch(g.length){case 0:return new d;case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3]);case 5:return new d(g[0],g[1],g[2],g[3],g[4]);case 6:return new d(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new d(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var w=or(d.prototype),A=d.apply(w,g);return cr(A)?A:w}}function cc(d){return function(g,w,A){var B=Yn(g);if(!Fs(g)){var Y=_n(w,3);g=$r(g),w=function(xe){return Y(B[xe],xe,B)}}var de=d(g,w,A);return de>-1?B[Y?g[de]:de]:T}}function td(d){return ua(function(g){var w=g.length,A=w,B=Zs.prototype.thru;for(d&&g.reverse();A--;){var Y=g[A];if("function"!=typeof Y)throw new fo(Z);if(B&&!de&&"wrapper"==zf(Y))var de=new Zs([],!0)}for(A=de?A:w;++A<w;){var xe=zf(Y=g[A]),Pe="wrapper"==xe?fh(Y):T;de=Pe&&Wf(Pe[0])&&424==Pe[1]&&!Pe[4].length&&1==Pe[9]?de[zf(Pe[0])].apply(de,Pe[3]):1==Y.length&&Wf(Y)?de[xe]():de.thru(Y)}return function(){var nt=arguments,at=nt[0];if(de&&1==nt.length&&Rn(at))return de.plant(at).value();for(var ft=0,Ot=w?g[ft].apply(this,nt):at;++ft<w;)Ot=g[ft].call(this,Ot);return Ot}})}function ug(d,g,w,A,B,Y,de,xe,Pe,nt){var at=128&g,ft=1&g,Ot=2&g,Gt=24&g,Qe=512&g,Xt=Ot?T:ed(d);return function an(){for(var Zn=arguments.length,yt=Ke(Zn),Kt=Zn;Kt--;)yt[Kt]=arguments[Kt];if(Gt)var Ls=wl(an),xt=Ou(yt,Ls);if(A&&(yt=ag(yt,A,B,Gt)),Y&&(yt=Ju(yt,Y,de,Gt)),Zn-=xt,Gt&&Zn<nt){var je=Ws(yt,Ls);return w_(d,g,ug,an.placeholder,w,yt,je,xe,Pe,nt-Zn)}var dt=ft?w:this,Ri=Ot?dt[d]:d;return Zn=yt.length,xe?yt=mw(yt,xe):Qe&&Zn>1&&yt.reverse(),at&&Pe<Zn&&(yt.length=Pe),this&&this!==kr&&this instanceof an&&(Ri=Xt||ed(Ri)),Ri.apply(dt,yt)}}function By(d,g){return function(w,A){return function(d,g,w,A){return Qr(d,function(B,Y,de){g(A,w(B),Y,de)}),A}(w,d,g(A),{})}}function Uf(d,g){return function(w,A){var B;if(w===T&&A===T)return g;if(w!==T&&(B=w),A!==T){if(B===T)return A;"string"==typeof w||"string"==typeof A?(w=kt(w),A=kt(A)):(w=pt(w),A=pt(A)),B=d(w,A)}return B}}function b_(d){return ua(function(g){return g=At(g,_s(_n())),kn(function(w){var A=this;return d(g,function(B){return br(B,A,w)})})})}function nu(d,g){var w=(g=g===T?" ":kt(g)).length;if(w<2)return w?Zu(g,d):g;var A=Zu(g,Po(d/Xo(g)));return Hc(g)?Aa(Kr(A),0,d).join(""):A.slice(0,d)}function dg(d){return function(g,w,A){return A&&"number"!=typeof A&&Rs(g,w,A)&&(w=A=T),g=Rl(g),w===T?(w=g,g=0):w=Rl(w),function(d,g,w,A){for(var B=-1,Y=Ei(Po((g-d)/(w||1)),0),de=Ke(Y);Y--;)de[A?Y:++B]=d,d+=w;return de}(g,w,A=A===T?g<w?1:-1:Rl(A),d)}}function iu(d){return function(g,w){return"string"==typeof g&&"string"==typeof w||(g=ls(g),w=ls(w)),d(g,w)}}function w_(d,g,w,A,B,Y,de,xe,Pe,nt){var at=8&g;g|=at?32:64,4&(g&=~(at?64:32))||(g&=-4);var Xt=[d,g,B,at?Y:T,at?de:T,at?T:Y,at?T:de,xe,Pe,nt],an=w.apply(T,Xt);return Wf(d)&&D_(an,Xt),an.placeholder=A,vg(an,d,g)}function hh(d){var g=Ki[d];return function(w,A){if(w=ls(w),(A=null==A?0:zr(On(A),292))&&fl(w)){var B=(oi(w)+"e").split("e");return+((B=(oi(g(B[0]+"e"+(+B[1]+A)))+"e").split("e"))[0]+"e"+(+B[1]-A))}return g(w)}}var hg=pl&&1/_f(new pl([,-0]))[1]==ct?function(d){return new pl(d)}:pp;function Hy(d){return function(g){var w=Or(g);return w==Kn?Gl(g):w==fn?function(Me){var rt=-1,Ke=Array(Me.size);return Me.forEach(function(Wt){Ke[++rt]=[Wt,Wt]}),Ke}(g):function(Me,rt){return At(rt,function(Ke){return[Ke,Me[Ke]]})}(g,d(g))}}function uc(d,g,w,A,B,Y,de,xe){var Pe=2&g;if(!Pe&&"function"!=typeof d)throw new fo(Z);var nt=A?A.length:0;if(nt||(g&=-97,A=B=T),de=de===T?de:Ei(On(de),0),xe=xe===T?xe:On(xe),nt-=B?B.length:0,64&g){var at=A,ft=B;A=B=T}var Ot=Pe?T:fh(d),Gt=[d,g,w,A,B,at,ft,Y,de,xe];if(Ot&&function(d,g){var w=d[1],A=g[1],B=w|A;if(!(B<131||(128==A&&8==w||128==A&&256==w&&d[7].length<=g[8]||384==A&&g[7].length<=g[8]&&8==w)))return d;1&A&&(d[2]=g[2],B|=1&w?0:4);var xe=g[3];if(xe){var Pe=d[3];d[3]=Pe?ag(Pe,xe,g[4]):xe,d[4]=Pe?Ws(d[3],R):g[4]}(xe=g[5])&&(d[5]=(Pe=d[5])?Ju(Pe,xe,g[6]):xe,d[6]=Pe?Ws(d[5],R):g[6]),(xe=g[7])&&(d[7]=xe),128&A&&(d[8]=null==d[8]?g[8]:zr(d[8],g[8])),null==d[9]&&(d[9]=g[9]),d[0]=g[0],d[1]=B}(Gt,Ot),d=Gt[0],g=Gt[1],w=Gt[2],A=Gt[3],B=Gt[4],!(xe=Gt[9]=Gt[9]===T?Pe?0:d.length:Ei(Gt[9]-nt,0))&&24&g&&(g&=-25),g&&1!=g)Qe=8==g||16==g?function(d,g,w){var A=ed(d);return function B(){for(var Y=arguments.length,de=Ke(Y),xe=Y,Pe=wl(B);xe--;)de[xe]=arguments[xe];var nt=Y<3&&de[0]!==Pe&&de[Y-1]!==Pe?[]:Ws(de,Pe);return(Y-=nt.length)<w?w_(d,g,ug,B.placeholder,T,de,nt,T,T,w-Y):br(this&&this!==kr&&this instanceof B?A:d,this,de)}}(d,g,xe):32!=g&&33!=g||B.length?ug.apply(T,Gt):function(d,g,w,A){var B=1&g,Y=ed(d);return function de(){for(var xe=-1,Pe=arguments.length,nt=-1,at=A.length,ft=Ke(at+Pe),Ot=this&&this!==kr&&this instanceof de?Y:d;++nt<at;)ft[nt]=A[nt];for(;Pe--;)ft[nt++]=arguments[++xe];return br(Ot,B?w:this,ft)}}(d,g,w,A);else var Qe=function(d,g,w){var A=1&g,B=ed(d);return function Y(){return(this&&this!==kr&&this instanceof Y?B:d).apply(A?w:this,arguments)}}(d,g,w);return vg((Ot?eu:D_)(Qe,Gt),d,g)}function cw(d,g,w,A){return d===T||Qs(d,Oo[w])&&!Qn.call(A,w)?g:d}function fg(d,g,w,A,B,Y){return cr(d)&&cr(g)&&(Y.set(g,d),Xc(d,g,T,fg,Y),Y.delete(g)),d}function uw(d){return cd(d)?T:d}function pg(d,g,w,A,B,Y){var de=1&w,xe=d.length,Pe=g.length;if(xe!=Pe&&!(de&&Pe>xe))return!1;var nt=Y.get(d),at=Y.get(g);if(nt&&at)return nt==g&&at==d;var ft=-1,Ot=!0,Gt=2&w?new ar:T;for(Y.set(d,g),Y.set(g,d);++ft<xe;){var Qe=d[ft],Xt=g[ft];if(A)var an=de?A(Xt,Qe,ft,g,d,Y):A(Qe,Xt,ft,d,g,Y);if(an!==T){if(an)continue;Ot=!1;break}if(Gt){if(!Pt(g,function(Zn,yt){if(!Ea(Gt,yt)&&(Qe===Zn||B(Qe,Zn,w,A,Y)))return Gt.push(yt)})){Ot=!1;break}}else if(Qe!==Xt&&!B(Qe,Xt,w,A,Y)){Ot=!1;break}}return Y.delete(d),Y.delete(g),Ot}function ua(d){return yg(Zy(d,T,Tg),d+"")}function C_(d){return aa(d,$r,x_)}function E_(d){return aa(d,cs,Wy)}var fh=Gc?function(d){return Gc.get(d)}:pp;function zf(d){for(var g=d.name+"",w=ys[g],A=Qn.call(ys,g)?w.length:0;A--;){var B=w[A],Y=B.func;if(null==Y||Y==d)return B.name}return g}function wl(d){return(Qn.call(G,"placeholder")?G:d).placeholder}function _n(){var d=G.iteratee||tm;return d=d===tm?Wu:d,arguments.length?d(arguments[0],arguments[1]):d}function gg(d,g){var w=d.__data__;return function(d){var g=typeof d;return"string"==g||"number"==g||"symbol"==g||"boolean"==g?"__proto__"!==d:null===d}(g)?w["string"==typeof g?"string":"hash"]:w.map}function nd(d){for(var g=$r(d),w=g.length;w--;){var A=g[w],B=d[A];g[w]=[A,B,pw(B)]}return g}function ru(d,g){var w=function(Me,rt){return null==Me?T:Me[rt]}(d,g);return sc(w)?w:T}var x_=hl?function(d){return null==d?[]:(d=Yn(d),$e(hl(d),function(g){return si.call(d,g)}))}:Nh,Wy=hl?function(d){for(var g=[];d;)Gn(g,x_(d)),d=po(d);return g}:Nh,Or=Wr;function hw(d,g,w){for(var A=-1,B=(g=ca(g,d)).length,Y=!1;++A<B;){var de=xl(g[A]);if(!(Y=null!=d&&w(d,de)))break;d=d[de]}return Y||++A!=B?Y:!!(B=null==d?0:d.length)&&$g(B)&&dc(de,B)&&(Rn(d)||ld(d))}function jy(d){return"function"!=typeof d.constructor||id(d)?{}:or(po(d))}function S_(d){return Rn(d)||ld(d)||!!(zc&&d&&d[zc])}function dc(d,g){var w=typeof d;return!!(g=null==g?Tt:g)&&("number"==w||"symbol"!=w&&ce.test(d))&&d>-1&&d%1==0&&d<g}function Rs(d,g,w){if(!cr(w))return!1;var A=typeof g;return!!("number"==A?Fs(w)&&dc(g,w.length):"string"==A&&g in w)&&Qs(w[g],d)}function su(d,g){if(Rn(d))return!1;var w=typeof d;return!("number"!=w&&"symbol"!=w&&"boolean"!=w&&null!=d&&!vo(d))||fe.test(d)||!Te.test(d)||null!=g&&d in Yn(g)}function Wf(d){var g=zf(d),w=G[g];if("function"!=typeof w||!(g in Jn.prototype))return!1;if(d===w)return!0;var A=fh(w);return!!A&&d===A[0]}($c&&Or(new $c(new ArrayBuffer(1)))!=bt||jc&&Or(new jc)!=Kn||xf&&Or(xf.resolve())!=Bt||pl&&Or(new pl)!=fn||js&&Or(new js)!=en)&&(Or=function(d){var g=Wr(d),w=g==ci?d.constructor:T,A=w?Bi(w):"";if(A)switch(A){case Gs:return bt;case Zc:return Kn;case qc:return Bt;case is:return fn;case Tf:return en}return g});var _g=Pu?lu:y0;function id(d){var g=d&&d.constructor;return d===("function"==typeof g&&g.prototype||Oo)}function pw(d){return d==d&&!cr(d)}function rd(d,g){return function(w){return null!=w&&w[d]===g&&(g!==T||d in Yn(w))}}function Zy(d,g,w){return g=Ei(g===T?d.length-1:g,0),function(){for(var A=arguments,B=-1,Y=Ei(A.length-g,0),de=Ke(Y);++B<Y;)de[B]=A[g+B];B=-1;for(var xe=Ke(g+1);++B<g;)xe[B]=A[B];return xe[g]=w(de),br(d,this,xe)}}function qy(d,g){return g.length<2?d:Tn(d,v(g,0,-1))}function mw(d,g){for(var w=d.length,A=zr(g.length,w),B=ss(d);A--;){var Y=g[A];d[A]=dc(Y,w)?B[Y]:T}return d}function jf(d,g){if(("constructor"!==g||"function"!=typeof d[g])&&"__proto__"!=g)return d[g]}var D_=A_(eu),Gf=u_||function(d,g){return kr.setTimeout(d,g)},yg=A_(E);function vg(d,g,w){var A=g+"";return yg(d,function(d,g){var w=g.length;if(!w)return d;var A=w-1;return g[A]=(w>1?"& ":"")+g[A],g=g.join(w>2?", ":" "),d.replace(Qt,"{\n/* [wrapped with "+g+"] */\n")}(A,function(d,g){return Q(Sn,function(w){var A="_."+w[0];g&w[1]&&!gt(d,A)&&d.push(A)}),d.sort()}(function(d){var g=d.match(mi);return g?g[1].split(ei):[]}(A),w)))}function A_(d){var g=0,w=0;return function(){var A=Zd(),B=16-(A-w);if(w=A,B>0){if(++g>=800)return arguments[0]}else g=0;return d.apply(T,arguments)}}function sd(d,g){var w=-1,A=d.length,B=A-1;for(g=g===T?A:g;++w<g;){var Y=ac(w,B),de=d[Y];d[Y]=d[w],d[w]=de}return d.length=g,d}var g,w,Ky=(g=gc(function(d){var g=[];return 46===d.charCodeAt(0)&&g.push(""),d.replace(ge,function(w,A,B,Y){g.push(B?Y.replace(Lr,"$1"):A||w)}),g},function(A){return 500===w.size&&w.clear(),A}),w=g.cache,g);function xl(d){if("string"==typeof d||vo(d))return d;var g=d+"";return"0"==g&&1/d==-ct?"-0":g}function Bi(d){if(null!=d){try{return vf.call(d)}catch(g){}try{return d+""}catch(g){}}return""}function Ma(d){if(d instanceof Jn)return d.clone();var g=new Zs(d.__wrapped__,d.__chain__);return g.__actions__=ss(d.__actions__),g.__index__=d.__index__,g.__values__=d.__values__,g}var wg=kn(function(d,g){return lr(d)?tr(d,Qi(g,1,lr,!0)):[]}),_w=kn(function(d,g){var w=Oa(g);return lr(w)&&(w=T),lr(d)?tr(d,Qi(g,1,lr,!0),_n(w,2)):[]}),k_=kn(function(d,g){var w=Oa(g);return lr(w)&&(w=T),lr(d)?tr(d,Qi(g,1,lr,!0),T,w):[]});function Ra(d,g,w){var A=null==d?0:d.length;if(!A)return-1;var B=null==w?0:On(w);return B<0&&(B=Ei(A+B,0)),uo(d,_n(g,3),B)}function xg(d,g,w){var A=null==d?0:d.length;if(!A)return-1;var B=A-1;return w!==T&&(B=On(w),B=w<0?Ei(A+B,0):zr(B,A-1)),uo(d,_n(g,3),B,!0)}function Tg(d){return null!=d&&d.length?Qi(d,1):[]}function Xy(d){return d&&d.length?d[0]:T}var yw=kn(function(d){var g=At(d,tu);return g.length&&g[0]===d[0]?Rf(g):[]}),nv=kn(function(d){var g=Oa(d),w=At(d,tu);return g===Oa(w)?g=T:w.pop(),w.length&&w[0]===d[0]?Rf(w,_n(g,2)):[]}),O_=kn(function(d){var g=Oa(d),w=At(d,tu);return(g="function"==typeof g?g:T)&&w.pop(),w.length&&w[0]===d[0]?Rf(w,T,g):[]});function Oa(d){var g=null==d?0:d.length;return g?d[g-1]:T}var sv=kn(vw);function vw(d,g){return d&&d.length&&g&&g.length?lh(d,g):d}var ov=ua(function(d,g){var w=null==d?0:d.length,A=th(d,g);return y_(d,At(g,function(B){return dc(B,w)?+B:B}).sort(Ly)),A});function Na(d){return null==d?d:Yi.call(d)}var gh=kn(function(d){return tn(Qi(d,1,lr,!0))}),Ig=kn(function(d){var g=Oa(d);return lr(g)&&(g=T),tn(Qi(d,1,lr,!0),_n(g,2))}),Fa=kn(function(d){var g=Oa(d);return g="function"==typeof g?g:T,tn(Qi(d,1,lr,!0),T,g)});function cv(d){if(!d||!d.length)return[];var g=0;return d=$e(d,function(w){if(lr(w))return g=Ei(w.length,g),!0}),jl(g,function(w){return At(d,ll(w))})}function B_(d,g){if(!d||!d.length)return[];var w=cv(d);return null==g?w:At(w,function(A){return br(g,T,A)})}var U_=kn(function(d,g){return lr(d)?tr(d,g):[]}),Dg=kn(function(d){return Uo($e(d,lr))}),Ag=kn(function(d){var g=Oa(d);return lr(g)&&(g=T),Uo($e(d,lr),_n(g,2))}),ws=kn(function(d){var g=Oa(d);return g="function"==typeof g?g:T,Uo($e(d,lr),T,g)}),uv=kn(cv),Sl=kn(function(d){var g=d.length,w=g>1?d[g-1]:T;return w="function"==typeof w?(d.pop(),w):T,B_(d,w)});function yo(d){var g=G(d);return g.__chain__=!0,g}function Mg(d,g){return g(d)}var Il=ua(function(d){var g=d.length,w=g?d[0]:0,A=this.__wrapped__,B=function(Y){return th(Y,d)};return!(g>1||this.__actions__.length)&&A instanceof Jn&&dc(w)?((A=A.slice(w,+w+(g?1:0))).__actions__.push({func:Mg,args:[B],thisArg:T}),new Zs(A,this.__chain__).thru(function(Y){return g&&!Y.length&&Y.push(T),Y})):this.thru(B)}),dv=cg(function(d,g,w){Qn.call(d,w)?++d[w]:oa(d,w,1)}),Wx=cc(Ra),Os=cc(xg);function ww(d,g){return(Rn(d)?Q:Yr)(d,_n(g,3))}function Cw(d,g){return(Rn(d)?te:Yc)(d,_n(g,3))}var fc=cg(function(d,g,w){Qn.call(d,w)?d[w].push(g):oa(d,w,[g])}),Ew=kn(function(d,g,w){var A=-1,B="function"==typeof g,Y=Fs(d)?Ke(d.length):[];return Yr(d,function(de){Y[++A]=B?br(g,de,w):Bo(de,g,w)}),Y}),$_=cg(function(d,g,w){oa(d,w,g)});function ou(d,g){return(Rn(d)?At:Nf)(d,_n(g,3))}var Pg=cg(function(d,g,w){d[w?0:1].push(g)},function(){return[[],[]]}),pv=kn(function(d,g){if(null==d)return[];var w=g.length;return w>1&&Rs(d,g[0],g[1])?g=[]:w>2&&Rs(g[0],g[1],g[2])&&(g=[g[0]]),Gu(d,Qi(g,1),[])}),Al=Cf||function(){return kr.Date.now()};function Fg(d,g,w){return g=w?T:g,uc(d,128,T,T,T,T,g=d&&null==g?d.length:g)}function da(d,g){var w;if("function"!=typeof g)throw new fo(Z);return d=On(d),function(){return--d>0&&(w=g.apply(this,arguments)),d<=1&&(g=T),w}}var au=kn(function(d,g,w){var A=1;if(w.length){var B=Ws(w,wl(au));A|=32}return uc(d,A,g,w,B)}),pc=kn(function(d,g,w){var A=3;if(w.length){var B=Ws(w,wl(pc));A|=32}return uc(g,A,d,w,B)});function Lg(d,g,w){var A,B,Y,de,xe,Pe,nt=0,at=!1,ft=!1,Ot=!0;if("function"!=typeof d)throw new fo(Z);function Gt(je){var dt=A,Ri=B;return A=B=T,nt=je,de=d.apply(Ri,dt)}function Qe(je){return nt=je,xe=Gf(Zn,g),at?Gt(je):de}function an(je){var dt=je-Pe;return Pe===T||dt>=g||dt<0||ft&&je-nt>=Y}function Zn(){var je=Al();if(an(je))return yt(je);xe=Gf(Zn,function(je){var lm=g-(je-Pe);return ft?zr(lm,Y-(je-nt)):lm}(je))}function yt(je){return xe=T,Ot&&A?Gt(je):(A=B=T,de)}function xt(){var je=Al(),dt=an(je);if(A=arguments,B=this,Pe=je,dt){if(xe===T)return Qe(Pe);if(ft)return Vf(xe),xe=Gf(Zn,g),Gt(Pe)}return xe===T&&(xe=Gf(Zn,g)),de}return g=ls(g)||0,cr(w)&&(at=!!w.leading,Y=(ft="maxWait"in w)?Ei(ls(w.maxWait)||0,g):Y,Ot="trailing"in w?!!w.trailing:Ot),xt.cancel=function(){xe!==T&&Vf(xe),nt=0,A=Pe=B=xe=T},xt.flush=function(){return xe===T?de:yt(Al())},xt}var yh=kn(function(d,g){return Er(d,1,g)}),ep=kn(function(d,g,w){return Er(d,ls(g)||0,w)});function gc(d,g){if("function"!=typeof d||null!=g&&"function"!=typeof g)throw new fo(Z);var w=function(){var A=arguments,B=g?g.apply(this,A):A[0],Y=w.cache;if(Y.has(B))return Y.get(B);var de=d.apply(this,A);return w.cache=Y.set(B,de)||Y,de};return w.cache=new(gc.Cache||ra),w}function Bg(d){if("function"!=typeof d)throw new fo(Z);return function(){var g=arguments;switch(g.length){case 0:return!d.call(this);case 1:return!d.call(this,g[0]);case 2:return!d.call(this,g[0],g[1]);case 3:return!d.call(this,g[0],g[1],g[2])}return!d.apply(this,g)}}gc.Cache=ra;var mv=ch(function(d,g){var w=(g=1==g.length&&Rn(g[0])?At(g[0],_s(_n())):At(Qi(g,1),_s(_n()))).length;return kn(function(A){for(var B=-1,Y=zr(A.length,w);++B<Y;)A[B]=g[B].call(this,A[B]);return br(d,this,A)})}),tp=kn(function(d,g){var w=Ws(g,wl(tp));return uc(d,32,T,g,w)}),K_=kn(function(d,g){var w=Ws(g,wl(K_));return uc(d,64,T,g,w)}),xw=ua(function(d,g){return uc(d,256,T,T,T,g)});function Qs(d,g){return d===g||d!=d&&g!=g}var X_=iu(Sa),yv=iu(function(d,g){return d>=g}),ld=Pf(function(){return arguments}())?Pf:function(d){return nr(d)&&Qn.call(d,"callee")&&!si.call(d,"callee")},Rn=Ke.isArray,e0=Di?_s(Di):function(d){return nr(d)&&Wr(d)==Cn};function Fs(d){return null!=d&&$g(d.length)&&!lu(d)}function lr(d){return nr(d)&&Fs(d)}var kl=na||y0,Hg=co?_s(co):function(d){return nr(d)&&Wr(d)==zn};function ip(d){if(!nr(d))return!1;var g=Wr(d);return g==pi||"[object DOMException]"==g||"string"==typeof d.message&&"string"==typeof d.name&&!cd(d)}function lu(d){if(!cr(d))return!1;var g=Wr(d);return g==Wn||g==Xn||"[object AsyncFunction]"==g||"[object Proxy]"==g}function Wg(d){return"number"==typeof d&&d==On(d)}function $g(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Tt}function cr(d){var g=typeof d;return null!=d&&("object"==g||"function"==g)}function nr(d){return null!=d&&"object"==typeof d}var bh=Ru?_s(Ru):function(d){return nr(d)&&Or(d)==Kn};function wh(d){return"number"==typeof d||nr(d)&&Wr(d)==jn}function cd(d){if(!nr(d)||Wr(d)!=ci)return!1;var g=po(d);if(null===g)return!0;var w=Qn.call(g,"constructor")&&g.constructor;return"function"==typeof w&&w instanceof w&&vf.call(w)==Ny}var r0=Fi?_s(Fi):function(d){return nr(d)&&Wr(d)==Vn},ap=Ca?_s(Ca):function(d){return nr(d)&&Or(d)==fn};function Gg(d){return"string"==typeof d||!Rn(d)&&nr(d)&&Wr(d)==Rt}function vo(d){return"symbol"==typeof d||nr(d)&&Wr(d)==Ut}var Ml=ol?_s(ol):function(d){return nr(d)&&$g(d.length)&&!!ri[Wr(d)]},wv=iu(oh),mc=iu(function(d,g){return d<=g});function La(d){if(!d)return[];if(Fs(d))return Gg(d)?Kr(d):ss(d);if(dl&&d[dl])return function(Me){for(var rt,Ke=[];!(rt=Me.next()).done;)Ke.push(rt.value);return Ke}(d[dl]());var g=Or(d);return(g==Kn?Gl:g==fn?_f:Xr)(d)}function Rl(d){return d?(d=ls(d))===ct||d===-ct?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function On(d){var g=Rl(d),w=g%1;return g==g?w?g-w:g:0}function Cv(d){return d?rs(On(d),0,He):0}function ls(d){if("number"==typeof d)return d;if(vo(d))return NaN;if(cr(d)){var g="function"==typeof d.valueOf?d.valueOf():d;d=cr(g)?g+"":g}if("string"!=typeof d)return 0===d?d:+d;d=a_(d);var w=zi.test(d);return w||Ar.test(d)?Vc(d.slice(2),w?2:8):no.test(d)?NaN:+d}function Zg(d){return bl(d,cs(d))}function oi(d){return null==d?"":kt(d)}var lp=Xu(function(d,g){if(id(g)||Fs(g))bl(g,$r(g),d);else for(var w in g)Qn.call(g,w)&&Lo(d,w,g[w])}),dd=Xu(function(d,g){bl(g,cs(g),d)}),Ch=Xu(function(d,g,w,A){bl(g,cs(g),d,A)}),qg=Xu(function(d,g,w,A){bl(g,$r(g),d,A)}),s0=ua(th),hd=kn(function(d,g){d=Yn(d);var w=-1,A=g.length,B=A>2?g[2]:T;for(B&&Rs(g[0],g[1],B)&&(A=1);++w<A;)for(var Y=g[w],de=cs(Y),xe=-1,Pe=de.length;++xe<Pe;){var nt=de[xe],at=d[nt];(at===T||Qs(at,Oo[nt])&&!Qn.call(d,nt))&&(d[nt]=Y[nt])}return d}),o0=kn(function(d){return d.push(T,fg),br(Sv,T,d)});function cp(d,g,w){var A=null==d?T:Tn(d,g);return A===T?w:A}function Qg(d,g){return null!=d&&hw(d,g,ic)}var Ho=By(function(d,g,w){null!=g&&"function"!=typeof g.toString&&(g=wf.call(g)),d[g]=w},Ui(Js)),l0=By(function(d,g,w){null!=g&&"function"!=typeof g.toString&&(g=wf.call(g)),Qn.call(d,g)?d[g].push(w):d[g]=[w]},_n),xh=kn(Bo);function $r(d){return Fs(d)?Xd(d):$u(d)}function cs(d){return Fs(d)?Xd(d,!0):function(d){if(!cr(d))return function(d){var g=[];if(null!=d)for(var w in Yn(d))g.push(w);return g}(d);var g=id(d),w=[];for(var A in d)"constructor"==A&&(g||!Qn.call(d,A))||w.push(A);return w}(d)}var c0=Xu(function(d,g,w){Xc(d,g,w)}),Sv=Xu(function(d,g,w,A){Xc(d,g,w,A)}),u0=ua(function(d,g){var w={};if(null==d)return w;var A=!1;g=At(g,function(Y){return Y=ca(Y,d),A||(A=Y.length>1),Y}),bl(d,E_(d),w),A&&(w=Mr(w,7,uw));for(var B=g.length;B--;)$n(w,g[B]);return w}),Iv=ua(function(d,g){return null==d?{}:function(d,g){return yl(d,g,function(w,A){return Qg(d,A)})}(d,g)});function yc(d,g){if(null==d)return{};var w=At(E_(d),function(A){return[A]});return g=_n(g),yl(d,w,function(A,B){return g(A,B[0])})}var vc=Hy($r),gd=Hy(cs);function Xr(d){return null==d?[]:Bc(d,$r(d))}var Av=os(function(d,g,w){return g=g.toLowerCase(),d+(w?h0(g):g)});function h0(d){return Ba(oi(d).toLowerCase())}function Ow(d){return(d=oi(d))&&d.replace(Ue,Uc).replace(hf,"")}var md=os(function(d,g,w){return d+(w?"-":"")+g.toLowerCase()}),uu=os(function(d,g,w){return d+(w?" ":"")+g.toLowerCase()}),Mv=dh("toLowerCase"),Fw=os(function(d,g,w){return d+(w?"_":"")+g.toLowerCase()}),Pv=os(function(d,g,w){return d+(w?" ":"")+Ba(g)}),Ol=os(function(d,g,w){return d+(w?" ":"")+g.toUpperCase()}),Ba=dh("toUpperCase");function bc(d,g,w){return d=oi(d),(g=w?T:g)===T?function(Me){return $l.test(Me)}(d)?function(Me){return Me.match(Ao)||[]}(d):function(Me){return Me.match(ui)||[]}(d):d.match(g)||[]}var du=kn(function(d,g){try{return br(d,T,g)}catch(w){return ip(w)?w:new An(w)}}),Pl=ua(function(d,g){return Q(g,function(w){w=xl(w),oa(d,w,au(d[w],d))}),d});function Ui(d){return function(){return d}}var Nv=td(),Fv=td(!0);function Js(d){return d}function tm(d){return Wu("function"==typeof d?d:Mr(d,1))}var _0=kn(function(d,g){return function(w){return Bo(w,d,g)}}),hp=kn(function(d,g){return function(w){return Bo(d,w,g)}});function fp(d,g,w){var A=$r(g),B=go(g,A);null==w&&(!cr(g)||!B.length&&A.length)&&(w=g,g=d,d=this,B=go(g,$r(g)));var Y=!(cr(w)&&"chain"in w&&!w.chain),de=lu(d);return Q(B,function(xe){var Pe=g[xe];d[xe]=Pe,de&&(d.prototype[xe]=function(){var nt=this.__chain__;if(Y||nt){var at=d(this.__wrapped__),ft=at.__actions__=ss(this.__actions__);return ft.push({func:Pe,args:arguments,thisArg:d}),at.__chain__=nt,at}return Pe.apply(d,Gn([this.value()],arguments))})}),d}function pp(){}var nm=b_(At),Ph=b_(Se),Lv=b_(Pt);function im(d){return su(d)?ll(xl(d)):function(d){return function(g){return Tn(g,d)}}(d)}var Vv=dg(),rm=dg(!0);function Nh(){return[]}function y0(){return!1}var Bw=Uf(function(d,g){return d+g},0),b0=hh("ceil"),Uv=Uf(function(d,g){return d/g},1),w0=hh("floor"),bo=Uf(function(d,g){return d*g},1),_p=hh("round"),Wv=Uf(function(d,g){return d-g},0);return G.after=function(d,g){if("function"!=typeof g)throw new fo(Z);return d=On(d),function(){if(--d<1)return g.apply(this,arguments)}},G.ary=Fg,G.assign=lp,G.assignIn=dd,G.assignInWith=Ch,G.assignWith=qg,G.at=s0,G.before=da,G.bind=au,G.bindAll=Pl,G.bindKey=pc,G.castArray=function(){if(!arguments.length)return[];var d=arguments[0];return Rn(d)?d:[d]},G.chain=yo,G.chunk=function(d,g,w){g=(w?Rs(d,g,w):g===T)?1:Ei(On(g),0);var A=null==d?0:d.length;if(!A||g<1)return[];for(var B=0,Y=0,de=Ke(Po(A/g));B<A;)de[Y++]=v(d,B,B+=g);return de},G.compact=function(d){for(var g=-1,w=null==d?0:d.length,A=0,B=[];++g<w;){var Y=d[g];Y&&(B[A++]=Y)}return B},G.concat=function(){var d=arguments.length;if(!d)return[];for(var g=Ke(d-1),w=arguments[0],A=d;A--;)g[A-1]=arguments[A];return Gn(Rn(w)?ss(w):[w],Qi(g,1))},G.cond=function(d){var g=null==d?0:d.length,w=_n();return d=g?At(d,function(A){if("function"!=typeof A[1])throw new fo(Z);return[w(A[0]),A[1]]}):[],kn(function(A){for(var B=-1;++B<g;){var Y=d[B];if(br(Y[0],this,A))return br(Y[1],this,A)}})},G.conforms=function(d){return function(d){var g=$r(d);return function(w){return Mf(w,d,g)}}(Mr(d,1))},G.constant=Ui,G.countBy=dv,G.create=function(d,g){var w=or(d);return null==g?w:eh(w,g)},G.curry=function Z_(d,g,w){var A=uc(d,8,T,T,T,T,T,g=w?T:g);return A.placeholder=Z_.placeholder,A},G.curryRight=function q_(d,g,w){var A=uc(d,16,T,T,T,T,T,g=w?T:g);return A.placeholder=q_.placeholder,A},G.debounce=Lg,G.defaults=hd,G.defaultsDeep=o0,G.defer=yh,G.delay=ep,G.difference=wg,G.differenceBy=_w,G.differenceWith=k_,G.drop=function(d,g,w){var A=null==d?0:d.length;return A?v(d,(g=w||g===T?1:On(g))<0?0:g,A):[]},G.dropRight=function(d,g,w){var A=null==d?0:d.length;return A?v(d,0,(g=A-(g=w||g===T?1:On(g)))<0?0:g):[]},G.dropRightWhile=function(d,g){return d&&d.length?vs(d,_n(g,3),!0,!0):[]},G.dropWhile=function(d,g){return d&&d.length?vs(d,_n(g,3),!0):[]},G.fill=function(d,g,w,A){var B=null==d?0:d.length;return B?(w&&"number"!=typeof w&&Rs(d,g,w)&&(w=0,A=B),function(d,g,w,A){var B=d.length;for((w=On(w))<0&&(w=-w>B?0:B+w),(A=A===T||A>B?B:On(A))<0&&(A+=B),A=w>A?0:Cv(A);w<A;)d[w++]=g;return d}(d,g,w,A)):[]},G.filter=function(d,g){return(Rn(d)?$e:ih)(d,_n(g,3))},G.flatMap=function(d,g){return Qi(ou(d,g),1)},G.flatMapDeep=function(d,g){return Qi(ou(d,g),ct)},G.flatMapDepth=function(d,g,w){return w=w===T?1:On(w),Qi(ou(d,g),w)},G.flatten=Tg,G.flattenDeep=function(d){return null!=d&&d.length?Qi(d,ct):[]},G.flattenDepth=function(d,g){return null!=d&&d.length?Qi(d,g=g===T?1:On(g)):[]},G.flip=function(d){return uc(d,512)},G.flow=Nv,G.flowRight=Fv,G.fromPairs=function(d){for(var g=-1,w=null==d?0:d.length,A={};++g<w;){var B=d[g];A[B[0]]=B[1]}return A},G.functions=function(d){return null==d?[]:go(d,$r(d))},G.functionsIn=function(d){return null==d?[]:go(d,cs(d))},G.groupBy=fc,G.initial=function(d){return null!=d&&d.length?v(d,0,-1):[]},G.intersection=yw,G.intersectionBy=nv,G.intersectionWith=O_,G.invert=Ho,G.invertBy=l0,G.invokeMap=Ew,G.iteratee=tm,G.keyBy=$_,G.keys=$r,G.keysIn=cs,G.map=ou,G.mapKeys=function(d,g){var w={};return g=_n(g,3),Qr(d,function(A,B,Y){oa(w,g(A,B,Y),A)}),w},G.mapValues=function(d,g){var w={};return g=_n(g,3),Qr(d,function(A,B,Y){oa(w,B,g(A,B,Y))}),w},G.matches=function(d){return ju(Mr(d,1))},G.matchesProperty=function(d,g){return ah(d,Mr(g,1))},G.memoize=gc,G.merge=c0,G.mergeWith=Sv,G.method=_0,G.methodOf=hp,G.mixin=fp,G.negate=Bg,G.nthArg=function(d){return d=On(d),kn(function(g){return oc(g,d)})},G.omit=u0,G.omitBy=function(d,g){return yc(d,Bg(_n(g)))},G.once=function(d){return da(2,d)},G.orderBy=function(d,g,w,A){return null==d?[]:(Rn(g)||(g=null==g?[]:[g]),Rn(w=A?T:w)||(w=null==w?[]:[w]),Gu(d,g,w))},G.over=nm,G.overArgs=mv,G.overEvery=Ph,G.overSome=Lv,G.partial=tp,G.partialRight=K_,G.partition=Pg,G.pick=Iv,G.pickBy=yc,G.property=im,G.propertyOf=function(d){return function(g){return null==d?T:Tn(d,g)}},G.pull=sv,G.pullAll=vw,G.pullAllBy=function(d,g,w){return d&&d.length&&g&&g.length?lh(d,g,_n(w,2)):d},G.pullAllWith=function(d,g,w){return d&&d.length&&g&&g.length?lh(d,g,T,w):d},G.pullAt=ov,G.range=Vv,G.rangeRight=rm,G.rearg=xw,G.reject=function(d,g){return(Rn(d)?$e:ih)(d,Bg(_n(g,3)))},G.remove=function(d,g){var w=[];if(!d||!d.length)return w;var A=-1,B=[],Y=d.length;for(g=_n(g,3);++A<Y;){var de=d[A];g(de,A,d)&&(w.push(de),B.push(A))}return y_(d,B),w},G.rest=function(d,g){if("function"!=typeof d)throw new fo(Z);return kn(d,g=g===T?g:On(g))},G.reverse=Na,G.sampleSize=function(d,g,w){return g=(w?Rs(d,g,w):g===T)?1:On(g),(Rn(d)?Xl:Lf)(d,g)},G.set=function(d,g,w){return null==d?d:qu(d,g,w)},G.setWith=function(d,g,w,A){return A="function"==typeof A?A:T,null==d?d:qu(d,g,w,A)},G.shuffle=function(d){return(Rn(d)?Bu:y)(d)},G.slice=function(d,g,w){var A=null==d?0:d.length;return A?(w&&"number"!=typeof w&&Rs(d,g,w)?(g=0,w=A):(g=null==g?0:On(g),w=w===T?A:On(w)),v(d,g,w)):[]},G.sortBy=pv,G.sortedUniq=function(d){return d&&d.length?We(d):[]},G.sortedUniqBy=function(d,g){return d&&d.length?We(d,_n(g,2)):[]},G.split=function(d,g,w){return w&&"number"!=typeof w&&Rs(d,g,w)&&(g=w=T),(w=w===T?He:w>>>0)?(d=oi(d))&&("string"==typeof g||null!=g&&!r0(g))&&!(g=kt(g))&&Hc(d)?Aa(Kr(d),0,w):d.split(g,w):[]},G.spread=function(d,g){if("function"!=typeof d)throw new fo(Z);return g=null==g?0:Ei(On(g),0),kn(function(w){var A=w[g],B=Aa(w,0,g);return A&&Gn(B,A),br(d,this,B)})},G.tail=function(d){var g=null==d?0:d.length;return g?v(d,1,g):[]},G.take=function(d,g,w){return d&&d.length?v(d,0,(g=w||g===T?1:On(g))<0?0:g):[]},G.takeRight=function(d,g,w){var A=null==d?0:d.length;return A?v(d,(g=A-(g=w||g===T?1:On(g)))<0?0:g,A):[]},G.takeRightWhile=function(d,g){return d&&d.length?vs(d,_n(g,3),!1,!0):[]},G.takeWhile=function(d,g){return d&&d.length?vs(d,_n(g,3)):[]},G.tap=function(d,g){return g(d),d},G.throttle=function(d,g,w){var A=!0,B=!0;if("function"!=typeof d)throw new fo(Z);return cr(w)&&(A="leading"in w?!!w.leading:A,B="trailing"in w?!!w.trailing:B),Lg(d,g,{leading:A,maxWait:g,trailing:B})},G.thru=Mg,G.toArray=La,G.toPairs=vc,G.toPairsIn=gd,G.toPath=function(d){return Rn(d)?At(d,xl):vo(d)?[d]:ss(Ky(oi(d)))},G.toPlainObject=Zg,G.transform=function(d,g,w){var A=Rn(d),B=A||kl(d)||Ml(d);if(g=_n(g,4),null==w){var Y=d&&d.constructor;w=B?A?new Y:[]:cr(d)&&lu(Y)?or(po(d)):{}}return(B?Q:Qr)(d,function(de,xe,Pe){return g(w,de,xe,Pe)}),w},G.unary=function(d){return Fg(d,1)},G.union=gh,G.unionBy=Ig,G.unionWith=Fa,G.uniq=function(d){return d&&d.length?tn(d):[]},G.uniqBy=function(d,g){return d&&d.length?tn(d,_n(g,2)):[]},G.uniqWith=function(d,g){return g="function"==typeof g?g:T,d&&d.length?tn(d,T,g):[]},G.unset=function(d,g){return null==d||$n(d,g)},G.unzip=cv,G.unzipWith=B_,G.update=function(d,g,w){return null==d?d:ji(d,g,Ku(w))},G.updateWith=function(d,g,w,A){return A="function"==typeof A?A:T,null==d?d:ji(d,g,Ku(w),A)},G.values=Xr,G.valuesIn=function(d){return null==d?[]:Bc(d,cs(d))},G.without=U_,G.words=bc,G.wrap=function(d,g){return tp(Ku(g),d)},G.xor=Dg,G.xorBy=Ag,G.xorWith=ws,G.zip=uv,G.zipObject=function(d,g){return og(d||[],g||[],Lo)},G.zipObjectDeep=function(d,g){return og(d||[],g||[],qu)},G.zipWith=Sl,G.entries=vc,G.entriesIn=gd,G.extend=dd,G.extendWith=Ch,fp(G,G),G.add=Bw,G.attempt=du,G.camelCase=Av,G.capitalize=h0,G.ceil=b0,G.clamp=function(d,g,w){return w===T&&(w=g,g=T),w!==T&&(w=(w=ls(w))==w?w:0),g!==T&&(g=(g=ls(g))==g?g:0),rs(ls(d),g,w)},G.clone=function(d){return Mr(d,4)},G.cloneDeep=function(d){return Mr(d,5)},G.cloneDeepWith=function(d,g){return Mr(d,5,g="function"==typeof g?g:T)},G.cloneWith=function(d,g){return Mr(d,4,g="function"==typeof g?g:T)},G.conformsTo=function(d,g){return null==g||Mf(d,g,$r(g))},G.deburr=Ow,G.defaultTo=function(d,g){return null==d||d!=d?g:d},G.divide=Uv,G.endsWith=function(d,g,w){d=oi(d),g=kt(g);var A=d.length,B=w=w===T?A:rs(On(w),0,A);return(w-=g.length)>=0&&d.slice(w,B)==g},G.eq=Qs,G.escape=function(d){return(d=oi(d))&&ht.test(d)?d.replace(ke,Ro):d},G.escapeRegExp=function(d){return(d=oi(d))&&_t.test(d)?d.replace(ze,"\\$&"):d},G.every=function(d,g,w){var A=Rn(d)?Se:Uu;return w&&Rs(d,g,w)&&(g=T),A(d,_n(g,3))},G.find=Wx,G.findIndex=Ra,G.findKey=function(d,g){return al(d,_n(g,3),Qr)},G.findLast=Os,G.findLastIndex=xg,G.findLastKey=function(d,g){return al(d,_n(g,3),nc)},G.floor=w0,G.forEach=ww,G.forEachRight=Cw,G.forIn=function(d,g){return null==d?d:Vo(d,_n(g,3),cs)},G.forInRight=function(d,g){return null==d?d:rh(d,_n(g,3),cs)},G.forOwn=function(d,g){return d&&Qr(d,_n(g,3))},G.forOwnRight=function(d,g){return d&&nc(d,_n(g,3))},G.get=cp,G.gt=X_,G.gte=yv,G.has=function(d,g){return null!=d&&hw(d,g,p_)},G.hasIn=Qg,G.head=Xy,G.identity=Js,G.includes=function(d,g,w,A){d=Fs(d)?d:Xr(d),w=w&&!A?On(w):0;var B=d.length;return w<0&&(w=Ei(B+w,0)),Gg(d)?w<=B&&d.indexOf(g,w)>-1:!!B&&ho(d,g,w)>-1},G.indexOf=function(d,g,w){var A=null==d?0:d.length;if(!A)return-1;var B=null==w?0:On(w);return B<0&&(B=Ei(A+B,0)),ho(d,g,B)},G.inRange=function(d,g,w){return g=Rl(g),w===T?(w=g,g=0):w=Rl(w),function(d,g,w){return d>=zr(g,w)&&d<Ei(g,w)}(d=ls(d),g,w)},G.invoke=xh,G.isArguments=ld,G.isArray=Rn,G.isArrayBuffer=e0,G.isArrayLike=Fs,G.isArrayLikeObject=lr,G.isBoolean=function(d){return!0===d||!1===d||nr(d)&&Wr(d)==bn},G.isBuffer=kl,G.isDate=Hg,G.isElement=function(d){return nr(d)&&1===d.nodeType&&!cd(d)},G.isEmpty=function(d){if(null==d)return!0;if(Fs(d)&&(Rn(d)||"string"==typeof d||"function"==typeof d.splice||kl(d)||Ml(d)||ld(d)))return!d.length;var g=Or(d);if(g==Kn||g==fn)return!d.size;if(id(d))return!$u(d).length;for(var w in d)if(Qn.call(d,w))return!1;return!0},G.isEqual=function(d,g){return rc(d,g)},G.isEqualWith=function(d,g,w){var A=(w="function"==typeof w?w:T)?w(d,g):T;return A===T?rc(d,g,T,w):!!A},G.isError=ip,G.isFinite=function(d){return"number"==typeof d&&fl(d)},G.isFunction=lu,G.isInteger=Wg,G.isLength=$g,G.isMap=bh,G.isMatch=function(d,g){return d===g||Jc(d,g,nd(g))},G.isMatchWith=function(d,g,w){return w="function"==typeof w?w:T,Jc(d,g,nd(g),w)},G.isNaN=function(d){return wh(d)&&d!=+d},G.isNative=function(d){if(_g(d))throw new An("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return sc(d)},G.isNil=function(d){return null==d},G.isNull=function(d){return null===d},G.isNumber=wh,G.isObject=cr,G.isObjectLike=nr,G.isPlainObject=cd,G.isRegExp=r0,G.isSafeInteger=function(d){return Wg(d)&&d>=-Tt&&d<=Tt},G.isSet=ap,G.isString=Gg,G.isSymbol=vo,G.isTypedArray=Ml,G.isUndefined=function(d){return d===T},G.isWeakMap=function(d){return nr(d)&&Or(d)==en},G.isWeakSet=function(d){return nr(d)&&"[object WeakSet]"==Wr(d)},G.join=function(d,g){return null==d?"":Ef.call(d,g)},G.kebabCase=md,G.last=Oa,G.lastIndexOf=function(d,g,w){var A=null==d?0:d.length;if(!A)return-1;var B=A;return w!==T&&(B=(B=On(w))<0?Ei(A+B,0):zr(B,A-1)),g==g?function(Me,rt,Ke){for(var Wt=Ke+1;Wt--;)if(Me[Wt]===rt)return Wt;return Wt}(d,g,B):uo(d,ut,B,!0)},G.lowerCase=uu,G.lowerFirst=Mv,G.lt=wv,G.lte=mc,G.max=function(d){return d&&d.length?tc(d,Js,Sa):T},G.maxBy=function(d,g){return d&&d.length?tc(d,_n(g,2),Sa):T},G.mean=function(d){return Ln(d,Js)},G.meanBy=function(d,g){return Ln(d,_n(g,2))},G.min=function(d){return d&&d.length?tc(d,Js,oh):T},G.minBy=function(d,g){return d&&d.length?tc(d,_n(g,2),oh):T},G.stubArray=Nh,G.stubFalse=y0,G.stubObject=function(){return{}},G.stubString=function(){return""},G.stubTrue=function(){return!0},G.multiply=bo,G.nth=function(d,g){return d&&d.length?oc(d,On(g)):T},G.noConflict=function(){return kr._===this&&(kr._=Vx),this},G.noop=pp,G.now=Al,G.pad=function(d,g,w){d=oi(d);var A=(g=On(g))?Xo(d):0;if(!g||A>=g)return d;var B=(g-A)/2;return nu(Kl(B),w)+d+nu(Po(B),w)},G.padEnd=function(d,g,w){d=oi(d);var A=(g=On(g))?Xo(d):0;return g&&A<g?d+nu(g-A,w):d},G.padStart=function(d,g,w){d=oi(d);var A=(g=On(g))?Xo(d):0;return g&&A<g?nu(g-A,w)+d:d},G.parseInt=function(d,g,w){return w||null==g?g=0:g&&(g=+g),un(oi(d).replace(Yt,""),g||0)},G.random=function(d,g,w){if(w&&"boolean"!=typeof w&&Rs(d,g,w)&&(g=w=T),w===T&&("boolean"==typeof g?(w=g,g=T):"boolean"==typeof d&&(w=d,d=T)),d===T&&g===T?(d=0,g=1):(d=Rl(d),g===T?(g=d,d=0):g=Rl(g)),d>g){var A=d;d=g,g=A}if(w||d%1||g%1){var B=$s();return zr(d+B*(g-d+ff("1e-"+((B+"").length-1))),g)}return ac(d,g)},G.reduce=function(d,g,w){var A=Rn(d)?mn:Yp,B=arguments.length<3;return A(d,_n(g,4),w,B,Yr)},G.reduceRight=function(d,g,w){var A=Rn(d)?qi:Yp,B=arguments.length<3;return A(d,_n(g,4),w,B,Yc)},G.repeat=function(d,g,w){return g=(w?Rs(d,g,w):g===T)?1:On(g),Zu(oi(d),g)},G.replace=function(){var d=arguments,g=oi(d[0]);return d.length<3?g:g.replace(d[1],d[2])},G.result=function(d,g,w){var A=-1,B=(g=ca(g,d)).length;for(B||(B=1,d=T);++A<B;){var Y=null==d?T:d[xl(g[A])];Y===T&&(A=B,Y=w),d=lu(Y)?Y.call(d):Y}return d},G.round=_p,G.runInContext=Me,G.sample=function(d){return(Rn(d)?Af:Ff)(d)},G.size=function(d){if(null==d)return 0;if(Fs(d))return Gg(d)?Xo(d):d.length;var g=Or(d);return g==Kn||g==fn?d.size:$u(d).length},G.snakeCase=Fw,G.some=function(d,g,w){var A=Rn(d)?Pt:I;return w&&Rs(d,g,w)&&(g=T),A(d,_n(g,3))},G.sortedIndex=function(d,g){return H(d,g)},G.sortedIndexBy=function(d,g,w){return ne(d,g,_n(w,2))},G.sortedIndexOf=function(d,g){var w=null==d?0:d.length;if(w){var A=H(d,g);if(A<w&&Qs(d[A],g))return A}return-1},G.sortedLastIndex=function(d,g){return H(d,g,!0)},G.sortedLastIndexBy=function(d,g,w){return ne(d,g,_n(w,2),!0)},G.sortedLastIndexOf=function(d,g){if(null!=d&&d.length){var A=H(d,g,!0)-1;if(Qs(d[A],g))return A}return-1},G.startCase=Pv,G.startsWith=function(d,g,w){return d=oi(d),w=null==w?0:rs(On(w),0,d.length),g=kt(g),d.slice(w,w+g.length)==g},G.subtract=Wv,G.sum=function(d){return d&&d.length?ks(d,Js):0},G.sumBy=function(d,g){return d&&d.length?ks(d,_n(g,2)):0},G.template=function(d,g,w){var A=G.templateSettings;w&&Rs(d,g,w)&&(g=T),d=oi(d),g=Ch({},g,A,cw);var xe,Pe,B=Ch({},g.imports,A.imports,cw),Y=$r(B),de=Bc(B,Y),nt=0,at=g.interpolate||ot,ft="__p += '",Ot=Zl((g.escape||ot).source+"|"+at.source+"|"+(at===vt?Vr:ot).source+"|"+(g.evaluate||ot).source+"|$","g"),Gt="//# sourceURL="+(Qn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fc+"]")+"\n";d.replace(Ot,function(an,Zn,yt,Kt,Ls,xt){return yt||(yt=Kt),ft+=d.slice(nt,xt).replace(Lt,l_),Zn&&(xe=!0,ft+="' +\n__e("+Zn+") +\n'"),Ls&&(Pe=!0,ft+="';\n"+Ls+";\n__p += '"),yt&&(ft+="' +\n((__t = ("+yt+")) == null ? '' : __t) +\n'"),nt=xt+an.length,an}),ft+="';\n";var Qe=Qn.call(g,"variable")&&g.variable;if(Qe){if(Fn.test(Qe))throw new An("Invalid `variable` option passed into `_.template`")}else ft="with (obj) {\n"+ft+"\n}\n";ft=(Pe?ft.replace(we,""):ft).replace(tt,"$1").replace(Ne,"$1;"),ft="function("+(Qe||"obj")+") {\n"+(Qe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(xe?", __e = _.escape":"")+(Pe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ft+"return __p\n}";var Xt=du(function(){return bi(Y,Gt+"return "+ft).apply(T,de)});if(Xt.source=ft,ip(Xt))throw Xt;return Xt},G.times=function(d,g){if((d=On(d))<1||d>Tt)return[];var w=He,A=zr(d,He);g=_n(g),d-=He;for(var B=jl(A,g);++w<d;)g(w);return B},G.toFinite=Rl,G.toInteger=On,G.toLength=Cv,G.toLower=function(d){return oi(d).toLowerCase()},G.toNumber=ls,G.toSafeInteger=function(d){return d?rs(On(d),-Tt,Tt):0===d?d:0},G.toString=oi,G.toUpper=function(d){return oi(d).toUpperCase()},G.trim=function(d,g,w){if((d=oi(d))&&(w||g===T))return a_(d);if(!d||!(g=kt(g)))return d;var A=Kr(d),B=Kr(g);return Aa(A,Hr(A,B),Jo(A,B)+1).join("")},G.trimEnd=function(d,g,w){if((d=oi(d))&&(w||g===T))return d.slice(0,jd(d)+1);if(!d||!(g=kt(g)))return d;var A=Kr(d);return Aa(A,0,Jo(A,Kr(g))+1).join("")},G.trimStart=function(d,g,w){if((d=oi(d))&&(w||g===T))return d.replace(Yt,"");if(!d||!(g=kt(g)))return d;var A=Kr(d);return Aa(A,Hr(A,Kr(g))).join("")},G.truncate=function(d,g){var w=30,A="...";if(cr(g)){var B="separator"in g?g.separator:B;w="length"in g?On(g.length):w,A="omission"in g?kt(g.omission):A}var Y=(d=oi(d)).length;if(Hc(d)){var de=Kr(d);Y=de.length}if(w>=Y)return d;var xe=w-Xo(A);if(xe<1)return A;var Pe=de?Aa(de,0,xe).join(""):d.slice(0,xe);if(B===T)return Pe+A;if(de&&(xe+=Pe.length-xe),r0(B)){if(d.slice(xe).search(B)){var nt,at=Pe;for(B.global||(B=Zl(B.source,oi(Do.exec(B))+"g")),B.lastIndex=0;nt=B.exec(at);)var ft=nt.index;Pe=Pe.slice(0,ft===T?xe:ft)}}else if(d.indexOf(kt(B),xe)!=xe){var Ot=Pe.lastIndexOf(B);Ot>-1&&(Pe=Pe.slice(0,Ot))}return Pe+A},G.unescape=function(d){return(d=oi(d))&&Ge.test(d)?d.replace(Dt,yf):d},G.uniqueId=function(d){var g=++bf;return oi(d)+g},G.upperCase=Ol,G.upperFirst=Ba,G.each=ww,G.eachRight=Cw,G.first=Xy,fp(G,function(){var d={};return Qr(G,function(g,w){Qn.call(G.prototype,w)||(d[w]=g)}),d}(),{chain:!1}),G.VERSION="4.17.21",Q(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){G[d].placeholder=G}),Q(["drop","take"],function(d,g){Jn.prototype[d]=function(w){w=w===T?1:Ei(On(w),0);var A=this.__filtered__&&!g?new Jn(this):this.clone();return A.__filtered__?A.__takeCount__=zr(w,A.__takeCount__):A.__views__.push({size:zr(w,He),type:d+(A.__dir__<0?"Right":"")}),A},Jn.prototype[d+"Right"]=function(w){return this.reverse()[d](w).reverse()}}),Q(["filter","map","takeWhile"],function(d,g){var w=g+1,A=1==w||3==w;Jn.prototype[d]=function(B){var Y=this.clone();return Y.__iteratees__.push({iteratee:_n(B,3),type:w}),Y.__filtered__=Y.__filtered__||A,Y}}),Q(["head","last"],function(d,g){var w="take"+(g?"Right":"");Jn.prototype[d]=function(){return this[w](1).value()[0]}}),Q(["initial","tail"],function(d,g){var w="drop"+(g?"":"Right");Jn.prototype[d]=function(){return this.__filtered__?new Jn(this):this[w](1)}}),Jn.prototype.compact=function(){return this.filter(Js)},Jn.prototype.find=function(d){return this.filter(d).head()},Jn.prototype.findLast=function(d){return this.reverse().find(d)},Jn.prototype.invokeMap=kn(function(d,g){return"function"==typeof d?new Jn(this):this.map(function(w){return Bo(w,d,g)})}),Jn.prototype.reject=function(d){return this.filter(Bg(_n(d)))},Jn.prototype.slice=function(d,g){d=On(d);var w=this;return w.__filtered__&&(d>0||g<0)?new Jn(w):(d<0?w=w.takeRight(-d):d&&(w=w.drop(d)),g!==T&&(w=(g=On(g))<0?w.dropRight(-g):w.take(g-d)),w)},Jn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Jn.prototype.toArray=function(){return this.take(He)},Qr(Jn.prototype,function(d,g){var w=/^(?:filter|find|map|reject)|While$/.test(g),A=/^(?:head|last)$/.test(g),B=G[A?"take"+("last"==g?"Right":""):g],Y=A||/^find/.test(g);!B||(G.prototype[g]=function(){var de=this.__wrapped__,xe=A?[1]:arguments,Pe=de instanceof Jn,nt=xe[0],at=Pe||Rn(de),ft=function(Zn){var yt=B.apply(G,Gn([Zn],xe));return A&&Ot?yt[0]:yt};at&&w&&"function"==typeof nt&&1!=nt.length&&(Pe=at=!1);var Ot=this.__chain__,Gt=!!this.__actions__.length,Qe=Y&&!Ot,Xt=Pe&&!Gt;if(!Y&&at){de=Xt?de:new Jn(this);var an=d.apply(de,xe);return an.__actions__.push({func:Mg,args:[ft],thisArg:T}),new Zs(an,Ot)}return Qe&&Xt?d.apply(this,xe):(an=this.thru(ft),Qe?A?an.value()[0]:an.value():an)})}),Q(["pop","push","shift","sort","splice","unshift"],function(d){var g=Gd[d],w=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",A=/^(?:pop|shift)$/.test(d);G.prototype[d]=function(){var B=arguments;if(A&&!this.__chain__){var Y=this.value();return g.apply(Rn(Y)?Y:[],B)}return this[w](function(de){return g.apply(Rn(de)?de:[],B)})}}),Qr(Jn.prototype,function(d,g){var w=G[g];if(w){var A=w.name+"";Qn.call(ys,A)||(ys[A]=[]),ys[A].push({name:g,func:w})}}),ys[ug(T,2).name]=[{name:"wrapper",func:T}],Jn.prototype.clone=function(){var d=new Jn(this.__wrapped__);return d.__actions__=ss(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=ss(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=ss(this.__views__),d},Jn.prototype.reverse=function(){if(this.__filtered__){var d=new Jn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},Jn.prototype.value=function(){var d=this.__wrapped__.value(),g=this.__dir__,w=Rn(d),A=g<0,B=w?d.length:0,Y=function(d,g,w){for(var A=-1,B=w.length;++A<B;){var Y=w[A],de=Y.size;switch(Y.type){case"drop":d+=de;break;case"dropRight":g-=de;break;case"take":g=zr(g,d+de);break;case"takeRight":d=Ei(d,g-de)}}return{start:d,end:g}}(0,B,this.__views__),de=Y.start,xe=Y.end,Pe=xe-de,nt=A?xe:de-1,at=this.__iteratees__,ft=at.length,Ot=0,Gt=zr(Pe,this.__takeCount__);if(!w||!A&&B==Pe&&Gt==Pe)return mo(d,this.__actions__);var Qe=[];e:for(;Pe--&&Ot<Gt;){for(var Xt=-1,an=d[nt+=g];++Xt<ft;){var Zn=at[Xt],Kt=Zn.type,Ls=(0,Zn.iteratee)(an);if(2==Kt)an=Ls;else if(!Ls){if(1==Kt)continue e;break e}}Qe[Ot++]=an}return Qe},G.prototype.at=Il,G.prototype.chain=function(){return yo(this)},G.prototype.commit=function(){return new Zs(this.value(),this.__chain__)},G.prototype.next=function(){this.__values__===T&&(this.__values__=La(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?T:this.__values__[this.__index__++]}},G.prototype.plant=function(d){for(var g,w=this;w instanceof Yl;){var A=Ma(w);A.__index__=0,A.__values__=T,g?B.__wrapped__=A:g=A;var B=A;w=w.__wrapped__}return B.__wrapped__=d,g},G.prototype.reverse=function(){var d=this.__wrapped__;if(d instanceof Jn){var g=d;return this.__actions__.length&&(g=new Jn(this)),(g=g.reverse()).__actions__.push({func:Mg,args:[Na],thisArg:T}),new Zs(g,this.__chain__)}return this.thru(Na)},G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},G.prototype.first=G.prototype.head,dl&&(G.prototype[dl]=function(){return this}),G}();kr._=$i,(s=function(){return $i}.call(Ae,O,Ae,qe))!==T&&(qe.exports=s)}.call(this)},6498:(qe,Ae,O)=>{"use strict";O.d(Ae,{y:()=>W});var s=O(3489),F=O(7668),X=O(3292),Z=O(3821),oe=O(4843),N=O(2830);let W=(()=>{class M{constructor(V){this._isScalar=!1,V&&(this._subscribe=V)}lift(V){const z=new M;return z.source=this,z.operator=V,z}subscribe(V,z,ie){const{operator:se}=this,ee=function(M,L,V){if(M){if(M instanceof s.L)return M;if(M[F.b])return M[F.b]()}return M||L||V?new s.L(M,L,V):new s.L(X.c)}(V,z,ie);if(ee.add(se?se.call(ee,this.source):this.source||N.v.useDeprecatedSynchronousErrorHandling&&!ee.syncErrorThrowable?this._subscribe(ee):this._trySubscribe(ee)),N.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable&&(ee.syncErrorThrowable=!1,ee.syncErrorThrown))throw ee.syncErrorValue;return ee}_trySubscribe(V){try{return this._subscribe(V)}catch(z){N.v.useDeprecatedSynchronousErrorHandling&&(V.syncErrorThrown=!0,V.syncErrorValue=z),function(M){for(;M;){const{closed:L,destination:V,isStopped:z}=M;if(L||z)return!1;M=V&&V instanceof s.L?V:null}return!0}(V)?V.error(z):console.warn(z)}}forEach(V,z){return new(z=R(z))((ie,se)=>{let ee;ee=this.subscribe($=>{try{V($)}catch(K){se(K),ee&&ee.unsubscribe()}},se,ie)})}_subscribe(V){const{source:z}=this;return z&&z.subscribe(V)}[Z.L](){return this}pipe(...V){return 0===V.length?this:(0,oe.U)(V)(this)}toPromise(V){return new(V=R(V))((z,ie)=>{let se;this.subscribe(ee=>se=ee,ee=>ie(ee),()=>z(se))})}}return M.create=L=>new M(L),M})();function R(M){if(M||(M=N.v.Promise||Promise),!M)throw new Error("no Promise impl found");return M}},3292:(qe,Ae,O)=>{"use strict";O.d(Ae,{c:()=>F});var s=O(2830),T=O(2782);const F={closed:!0,next(X){},error(X){if(s.v.useDeprecatedSynchronousErrorHandling)throw X;(0,T.z)(X)},complete(){}}},8929:(qe,Ae,O)=>{"use strict";O.d(Ae,{Yc:()=>oe,xQ:()=>N});var s=O(6498),T=O(3489),F=O(2654),X=O(5279),ue=O(5283),Z=O(7668);class oe extends T.L{constructor(M){super(M),this.destination=M}}let N=(()=>{class R extends s.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z.b](){return new oe(this)}lift(L){const V=new W(this,this);return V.operator=L,V}next(L){if(this.closed)throw new X.N;if(!this.isStopped){const{observers:V}=this,z=V.length,ie=V.slice();for(let se=0;se<z;se++)ie[se].next(L)}}error(L){if(this.closed)throw new X.N;this.hasError=!0,this.thrownError=L,this.isStopped=!0;const{observers:V}=this,z=V.length,ie=V.slice();for(let se=0;se<z;se++)ie[se].error(L);this.observers.length=0}complete(){if(this.closed)throw new X.N;this.isStopped=!0;const{observers:L}=this,V=L.length,z=L.slice();for(let ie=0;ie<V;ie++)z[ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(L){if(this.closed)throw new X.N;return super._trySubscribe(L)}_subscribe(L){if(this.closed)throw new X.N;return this.hasError?(L.error(this.thrownError),F.w.EMPTY):this.isStopped?(L.complete(),F.w.EMPTY):(this.observers.push(L),new ue.W(this,L))}asObservable(){const L=new s.y;return L.source=this,L}}return R.create=(M,L)=>new W(M,L),R})();class W extends N{constructor(M,L){super(),this.destination=M,this.source=L}next(M){const{destination:L}=this;L&&L.next&&L.next(M)}error(M){const{destination:L}=this;L&&L.error&&this.destination.error(M)}complete(){const{destination:M}=this;M&&M.complete&&this.destination.complete()}_subscribe(M){const{source:L}=this;return L?this.source.subscribe(M):F.w.EMPTY}}},5283:(qe,Ae,O)=>{"use strict";O.d(Ae,{W:()=>T});var s=O(2654);class T extends s.w{constructor(X,ue){super(),this.subject=X,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,ue=X.observers;if(this.subject=null,!ue||0===ue.length||X.isStopped||X.closed)return;const Z=ue.indexOf(this.subscriber);-1!==Z&&ue.splice(Z,1)}}},3489:(qe,Ae,O)=>{"use strict";O.d(Ae,{L:()=>oe});var s=O(7043),T=O(3292),F=O(2654),X=O(7668),ue=O(2830),Z=O(2782);class oe extends F.w{constructor(R,M,L){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=T.c;break;case 1:if(!R){this.destination=T.c;break}if("object"==typeof R){R instanceof oe?(this.syncErrorThrowable=R.syncErrorThrowable,this.destination=R,R.add(this)):(this.syncErrorThrowable=!0,this.destination=new N(this,R));break}default:this.syncErrorThrowable=!0,this.destination=new N(this,R,M,L)}}[X.b](){return this}static create(R,M,L){const V=new oe(R,M,L);return V.syncErrorThrowable=!1,V}next(R){this.isStopped||this._next(R)}error(R){this.isStopped||(this.isStopped=!0,this._error(R))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(R){this.destination.next(R)}_error(R){this.destination.error(R),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:R}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=R,this}}class N extends oe{constructor(R,M,L,V){super(),this._parentSubscriber=R;let z,ie=this;(0,s.m)(M)?z=M:M&&(z=M.next,L=M.error,V=M.complete,M!==T.c&&(ie=Object.create(M),(0,s.m)(ie.unsubscribe)&&this.add(ie.unsubscribe.bind(ie)),ie.unsubscribe=this.unsubscribe.bind(this))),this._context=ie,this._next=z,this._error=L,this._complete=V}next(R){if(!this.isStopped&&this._next){const{_parentSubscriber:M}=this;ue.v.useDeprecatedSynchronousErrorHandling&&M.syncErrorThrowable?this.__tryOrSetError(M,this._next,R)&&this.unsubscribe():this.__tryOrUnsub(this._next,R)}}error(R){if(!this.isStopped){const{_parentSubscriber:M}=this,{useDeprecatedSynchronousErrorHandling:L}=ue.v;if(this._error)L&&M.syncErrorThrowable?(this.__tryOrSetError(M,this._error,R),this.unsubscribe()):(this.__tryOrUnsub(this._error,R),this.unsubscribe());else if(M.syncErrorThrowable)L?(M.syncErrorValue=R,M.syncErrorThrown=!0):(0,Z.z)(R),this.unsubscribe();else{if(this.unsubscribe(),L)throw R;(0,Z.z)(R)}}}complete(){if(!this.isStopped){const{_parentSubscriber:R}=this;if(this._complete){const M=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?(this.__tryOrSetError(R,M),this.unsubscribe()):(this.__tryOrUnsub(M),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(R,M){try{R.call(this._context,M)}catch(L){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw L;(0,Z.z)(L)}}__tryOrSetError(R,M,L){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{M.call(this._context,L)}catch(V){return ue.v.useDeprecatedSynchronousErrorHandling?(R.syncErrorValue=V,R.syncErrorThrown=!0,!0):((0,Z.z)(V),!0)}return!1}_unsubscribe(){const{_parentSubscriber:R}=this;this._context=null,this._parentSubscriber=null,R.unsubscribe()}}},2654:(qe,Ae,O)=>{"use strict";O.d(Ae,{w:()=>Z});var s=O(6688),T=O(7830),F=O(7043);const ue=(()=>{function N(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((R,M)=>`${M+1}) ${R.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return N.prototype=Object.create(Error.prototype),N})();class Z{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:R,_ctorUnsubscribe:M,_unsubscribe:L,_subscriptions:V}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,R instanceof Z)R.remove(this);else if(null!==R)for(let z=0;z<R.length;++z)R[z].remove(this);if((0,F.m)(L)){M&&(this._unsubscribe=void 0);try{L.call(this)}catch(z){W=z instanceof ue?oe(z.errors):[z]}}if((0,s.k)(V)){let z=-1,ie=V.length;for(;++z<ie;){const se=V[z];if((0,T.K)(se))try{se.unsubscribe()}catch(ee){W=W||[],ee instanceof ue?W=W.concat(oe(ee.errors)):W.push(ee)}}}if(W)throw new ue(W)}add(W){let R=W;if(!W)return Z.EMPTY;switch(typeof W){case"function":R=new Z(W);case"object":if(R===this||R.closed||"function"!=typeof R.unsubscribe)return R;if(this.closed)return R.unsubscribe(),R;if(!(R instanceof Z)){const V=R;R=new Z,R._subscriptions=[V]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:M}=R;if(null===M)R._parentOrParents=this;else if(M instanceof Z){if(M===this)return R;R._parentOrParents=[M,this]}else{if(-1!==M.indexOf(this))return R;M.push(this)}const L=this._subscriptions;return null===L?this._subscriptions=[R]:L.push(R),R}remove(W){const R=this._subscriptions;if(R){const M=R.indexOf(W);-1!==M&&R.splice(M,1)}}}var N;function oe(N){return N.reduce((W,R)=>W.concat(R instanceof ue?R.errors:R),[])}Z.EMPTY=((N=new Z).closed=!0,N)},2830:(qe,Ae,O)=>{"use strict";O.d(Ae,{v:()=>T});let s=!1;const T={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const X=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+X.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=F},get useDeprecatedSynchronousErrorHandling(){return s}}},1177:(qe,Ae,O)=>{"use strict";O.d(Ae,{IY:()=>X,Ds:()=>Z,ft:()=>N});var s=O(3489),T=O(6498),F=O(9249);class X extends s.L{constructor(R){super(),this.parent=R}_next(R){this.parent.notifyNext(R)}_error(R){this.parent.notifyError(R),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Z extends s.L{notifyNext(R){this.destination.next(R)}notifyError(R){this.destination.error(R)}notifyComplete(){this.destination.complete()}}function N(W,R){if(R.closed)return;if(W instanceof T.y)return W.subscribe(R);let M;try{M=(0,F.s)(W)(R)}catch(L){R.error(L)}return M}},1762:(qe,Ae,O)=>{"use strict";O.d(Ae,{c:()=>ue,N:()=>Z});var s=O(8929),T=O(6498),F=O(2654),X=O(4327);class ue extends T.y{constructor(M,L){super(),this.source=M,this.subjectFactory=L,this._refCount=0,this._isComplete=!1}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let M=this._connection;return M||(this._isComplete=!1,M=this._connection=new F.w,M.add(this.source.subscribe(new oe(this.getSubject(),this))),M.closed&&(this._connection=null,M=F.w.EMPTY)),M}refCount(){return(0,X.x)()(this)}}const Z=(()=>{const R=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:R._subscribe},_isComplete:{value:R._isComplete,writable:!0},getSubject:{value:R.getSubject},connect:{value:R.connect},refCount:{value:R.refCount}}})();class oe extends s.Yc{constructor(M,L){super(M),this.connectable=L}_error(M){this._unsubscribe(),super._error(M)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const M=this.connectable;if(M){this.connectable=null;const L=M._connection;M._refCount=0,M._subject=null,M._connection=null,L&&L.unsubscribe()}}}},8896:(qe,Ae,O)=>{"use strict";O.d(Ae,{E:()=>T,c:()=>F});var s=O(6498);const T=new s.y(ue=>ue.complete());function F(ue){return ue?function(ue){return new s.y(Z=>ue.schedule(()=>Z.complete()))}(ue):T}},5254:(qe,Ae,O)=>{"use strict";O.d(Ae,{D:()=>ie});var s=O(6498),T=O(9249),F=O(2654),X=O(3821),oe=O(6454),N=O(5430),M=O(8955),L=O(8515);function ie(se,ee){return ee?function(se,ee){if(null!=se){if(function(se){return se&&"function"==typeof se[X.L]}(se))return function(se,ee){return new s.y($=>{const K=new F.w;return K.add(ee.schedule(()=>{const pe=se[X.L]();K.add(pe.subscribe({next(_e){K.add(ee.schedule(()=>$.next(_e)))},error(_e){K.add(ee.schedule(()=>$.error(_e)))},complete(){K.add(ee.schedule(()=>$.complete()))}}))})),K})}(se,ee);if((0,M.t)(se))return function(se,ee){return new s.y($=>{const K=new F.w;return K.add(ee.schedule(()=>se.then(pe=>{K.add(ee.schedule(()=>{$.next(pe),K.add(ee.schedule(()=>$.complete()))}))},pe=>{K.add(ee.schedule(()=>$.error(pe)))}))),K})}(se,ee);if((0,L.z)(se))return(0,oe.r)(se,ee);if(function(se){return se&&"function"==typeof se[N.hZ]}(se)||"string"==typeof se)return function(se,ee){if(!se)throw new Error("Iterable cannot be null");return new s.y($=>{const K=new F.w;let pe;return K.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),K.add(ee.schedule(()=>{pe=se[N.hZ](),K.add(ee.schedule(function(){if($.closed)return;let _e,Ve;try{const Re=pe.next();_e=Re.value,Ve=Re.done}catch(Re){return void $.error(Re)}Ve?$.complete():($.next(_e),this.schedule())}))})),K})}(se,ee)}throw new TypeError((null!==se&&typeof se||se)+" is not observable")}(se,ee):se instanceof s.y?se:new s.y((0,T.s)(se))}},3009:(qe,Ae,O)=>{"use strict";O.d(Ae,{n:()=>X});var s=O(6498),T=O(3650),F=O(6454);function X(ue,Z){return Z?(0,F.r)(ue,Z):new s.y((0,T.V)(ue))}},4073:(qe,Ae,O)=>{"use strict";O.d(Ae,{T:()=>ue});var s=O(6498),T=O(2866),F=O(9146),X=O(3009);function ue(...Z){let oe=Number.POSITIVE_INFINITY,N=null,W=Z[Z.length-1];return(0,T.K)(W)?(N=Z.pop(),Z.length>1&&"number"==typeof Z[Z.length-1]&&(oe=Z.pop())):"number"==typeof W&&(oe=Z.pop()),null===N&&1===Z.length&&Z[0]instanceof s.y?Z[0]:(0,F.J)(oe)((0,X.n)(Z,N))}},1086:(qe,Ae,O)=>{"use strict";O.d(Ae,{of:()=>X});var s=O(2866),T=O(3009),F=O(6454);function X(...ue){let Z=ue[ue.length-1];return(0,s.K)(Z)?(ue.pop(),(0,F.r)(ue,Z)):(0,T.n)(ue)}},4850:(qe,Ae,O)=>{"use strict";O.d(Ae,{U:()=>T});var s=O(3489);function T(ue,Z){return function(N){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return N.lift(new F(ue,Z))}}class F{constructor(Z,oe){this.project=Z,this.thisArg=oe}call(Z,oe){return oe.subscribe(new X(Z,this.project,this.thisArg))}}class X extends s.L{constructor(Z,oe,N){super(Z),this.project=oe,this.count=0,this.thisArg=N||this}_next(Z){let oe;try{oe=this.project.call(this.thisArg,Z,this.count++)}catch(N){return void this.destination.error(N)}this.destination.next(oe)}}},9146:(qe,Ae,O)=>{"use strict";O.d(Ae,{J:()=>F});var s=O(1709),T=O(5379);function F(X=Number.POSITIVE_INFINITY){return(0,s.zg)(T.y,X)}},1709:(qe,Ae,O)=>{"use strict";O.d(Ae,{zg:()=>X});var s=O(4850),T=O(5254),F=O(1177);function X(N,W,R=Number.POSITIVE_INFINITY){return"function"==typeof W?M=>M.pipe(X((L,V)=>(0,T.D)(N(L,V)).pipe((0,s.U)((z,ie)=>W(L,z,V,ie))),R)):("number"==typeof W&&(R=W),M=>M.lift(new ue(N,R)))}class ue{constructor(W,R=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=R}call(W,R){return R.subscribe(new Z(W,this.project,this.concurrent))}}class Z extends F.Ds{constructor(W,R,M=Number.POSITIVE_INFINITY){super(W),this.project=R,this.concurrent=M,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let R;const M=this.index++;try{R=this.project(W,M)}catch(L){return void this.destination.error(L)}this.active++,this._innerSub(R)}_innerSub(W){const R=new F.IY(this),M=this.destination;M.add(R);const L=(0,F.ft)(W,R);L!==R&&M.add(L)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7951:(qe,Ae,O)=>{"use strict";O.d(Ae,{ht:()=>M,QV:()=>W});var s=O(3489),T=O(8896),F=O(1086),X=O(6498);class N{constructor(z,ie,se){this.kind=z,this.value=ie,this.error=se,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,ie,se){switch(this.kind){case"N":return z&&z(this.value);case"E":return ie&&ie(this.error);case"C":return se&&se()}}accept(z,ie,se){return z&&"function"==typeof z.next?this.observe(z):this.do(z,ie,se)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return V=this.error,new X.y(ie=>ie.error(V));case"C":return(0,T.c)()}var V;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new N("N",z):N.undefinedValueNotification}static createError(z){return new N("E",void 0,z)}static createComplete(){return N.completeNotification}}function W(V,z=0){return function(se){return se.lift(new R(V,z))}}N.completeNotification=new N("C"),N.undefinedValueNotification=new N("N",void 0);class R{constructor(z,ie=0){this.scheduler=z,this.delay=ie}call(z,ie){return ie.subscribe(new M(z,this.scheduler,this.delay))}}class M extends s.L{constructor(z,ie,se=0){super(z),this.scheduler=ie,this.delay=se}static dispatch(z){const{notification:ie,destination:se}=z;ie.observe(se),this.unsubscribe()}scheduleMessage(z){this.destination.add(this.scheduler.schedule(M.dispatch,this.delay,new L(z,this.destination)))}_next(z){this.scheduleMessage(N.createNext(z))}_error(z){this.scheduleMessage(N.createError(z)),this.unsubscribe()}_complete(){this.scheduleMessage(N.createComplete()),this.unsubscribe()}}class L{constructor(z,ie){this.notification=z,this.destination=ie}}},4327:(qe,Ae,O)=>{"use strict";O.d(Ae,{x:()=>T});var s=O(3489);function T(){return function(Z){return Z.lift(new F(Z))}}class F{constructor(Z){this.connectable=Z}call(Z,oe){const{connectable:N}=this;N._refCount++;const W=new X(Z,N),R=oe.subscribe(W);return W.closed||(W.connection=N.connect()),R}}class X extends s.L{constructor(Z,oe){super(Z),this.connectable=oe}_unsubscribe(){const{connectable:Z}=this;if(!Z)return void(this.connection=null);this.connectable=null;const oe=Z._refCount;if(oe<=0)return void(this.connection=null);if(Z._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:N}=this,W=Z._connection;this.connection=null,W&&(!N||W===N)&&W.unsubscribe()}}},2474:(qe,Ae,O)=>{"use strict";O.d(Ae,{B:()=>oe});var s=O(1762);var X=O(4327),ue=O(8929);function Z(){return new ue.xQ}function oe(){return N=>(0,X.x)()(function(N,W){return function(M){let L;L="function"==typeof N?N:function(){return N};const V=Object.create(M,s.N);return V.source=M,V.subjectFactory=L,V}}(Z)(N))}},3334:(qe,Ae,O)=>{"use strict";O.d(Ae,{R:()=>ue});var s=O(6498),T=O(8139),F=O(4241);class X extends s.y{constructor(N,W=0,R=T.e){super(),this.source=N,this.delayTime=W,this.scheduler=R,(!(0,F.k)(W)||W<0)&&(this.delayTime=0),(!R||"function"!=typeof R.schedule)&&(this.scheduler=T.e)}static create(N,W=0,R=T.e){return new X(N,W,R)}static dispatch(N){const{source:W,subscriber:R}=N;return this.add(W.subscribe(R))}_subscribe(N){return this.scheduler.schedule(X.dispatch,this.delayTime,{source:this.source,subscriber:N})}}function ue(oe,N=0){return function(R){return R.lift(new Z(oe,N))}}class Z{constructor(N,W){this.scheduler=N,this.delay=W}call(N,W){return new X(W,this.delay,this.scheduler).subscribe(N)}}},2868:(qe,Ae,O)=>{"use strict";O.d(Ae,{b:()=>X});var s=O(3489);function T(){}var F=O(7043);function X(oe,N,W){return function(M){return M.lift(new ue(oe,N,W))}}class ue{constructor(N,W,R){this.nextOrObserver=N,this.error=W,this.complete=R}call(N,W){return W.subscribe(new Z(N,this.nextOrObserver,this.error,this.complete))}}class Z extends s.L{constructor(N,W,R,M){super(N),this._tapNext=T,this._tapError=T,this._tapComplete=T,this._tapError=R||T,this._tapComplete=M||T,(0,F.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||T,this._tapError=W.error||T,this._tapComplete=W.complete||T)}_next(N){try{this._tapNext.call(this._context,N)}catch(W){return void this.destination.error(W)}this.destination.next(N)}_error(N){try{this._tapError.call(this._context,N)}catch(W){return void this.destination.error(W)}this.destination.error(N)}_complete(){try{this._tapComplete.call(this._context)}catch(N){return void this.destination.error(N)}return this.destination.complete()}}},6454:(qe,Ae,O)=>{"use strict";O.d(Ae,{r:()=>F});var s=O(6498),T=O(2654);function F(X,ue){return new s.y(Z=>{const oe=new T.w;let N=0;return oe.add(ue.schedule(function(){N!==X.length?(Z.next(X[N++]),Z.closed||oe.add(this.schedule())):Z.complete()})),oe})}},6686:(qe,Ae,O)=>{"use strict";O.d(Ae,{o:()=>F});var s=O(2654);class T extends s.w{constructor(ue,Z){super()}schedule(ue,Z=0){return this}}class F extends T{constructor(ue,Z){super(ue,Z),this.scheduler=ue,this.work=Z,this.pending=!1}schedule(ue,Z=0){if(this.closed)return this;this.state=ue;const oe=this.id,N=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(N,oe,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(N,this.id,Z),this}requestAsyncId(ue,Z,oe=0){return setInterval(ue.flush.bind(ue,this),oe)}recycleAsyncId(ue,Z,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return Z;clearInterval(Z)}execute(ue,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ue,Z);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Z){let N,oe=!1;try{this.work(ue)}catch(W){oe=!0,N=!!W&&W||new Error(W)}if(oe)return this.unsubscribe(),N}_unsubscribe(){const ue=this.id,Z=this.scheduler,oe=Z.actions,N=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==N&&oe.splice(N,1),null!=ue&&(this.id=this.recycleAsyncId(Z,ue,null)),this.delay=null}}},2268:(qe,Ae,O)=>{"use strict";O.d(Ae,{v:()=>T});let s=(()=>{class F{constructor(ue,Z=F.now){this.SchedulerAction=ue,this.now=Z}schedule(ue,Z=0,oe){return new this.SchedulerAction(this,ue).schedule(oe,Z)}}return F.now=()=>Date.now(),F})();class T extends s{constructor(X,ue=s.now){super(X,()=>T.delegate&&T.delegate!==this?T.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(X,ue=0,Z){return T.delegate&&T.delegate!==this?T.delegate.schedule(X,ue,Z):super.schedule(X,ue,Z)}flush(X){const{actions:ue}=this;if(this.active)return void ue.push(X);let Z;this.active=!0;do{if(Z=X.execute(X.state,X.delay))break}while(X=ue.shift());if(this.active=!1,Z){for(;X=ue.shift();)X.unsubscribe();throw Z}}}},8139:(qe,Ae,O)=>{"use strict";O.d(Ae,{e:()=>L,E:()=>M});let s=1;const T=Promise.resolve(),F={};function X(V){return V in F&&(delete F[V],!0)}const ue={setImmediate(V){const z=s++;return F[z]=!0,T.then(()=>X(z)&&V()),z},clearImmediate(V){X(V)}};var oe=O(6686),W=O(2268);const M=new class extends W.v{flush(z){this.active=!0,this.scheduled=void 0;const{actions:ie}=this;let se,ee=-1,$=ie.length;z=z||ie.shift();do{if(se=z.execute(z.state,z.delay))break}while(++ee<$&&(z=ie.shift()));if(this.active=!1,se){for(;++ee<$&&(z=ie.shift());)z.unsubscribe();throw se}}}(class extends oe.o{constructor(z,ie){super(z,ie),this.scheduler=z,this.work=ie}requestAsyncId(z,ie,se=0){return null!==se&&se>0?super.requestAsyncId(z,ie,se):(z.actions.push(this),z.scheduled||(z.scheduled=ue.setImmediate(z.flush.bind(z,null))))}recycleAsyncId(z,ie,se=0){if(null!==se&&se>0||null===se&&this.delay>0)return super.recycleAsyncId(z,ie,se);0===z.actions.length&&(ue.clearImmediate(ie),z.scheduled=void 0)}}),L=M},353:(qe,Ae,O)=>{"use strict";O.d(Ae,{z:()=>F,P:()=>X});var s=O(6686);const F=new(O(2268).v)(s.o),X=F},341:(qe,Ae,O)=>{"use strict";O.d(Ae,{c:()=>Z,N:()=>ue});var s=O(6686),F=O(2268);const ue=new class extends F.v{}(class extends s.o{constructor(N,W){super(N,W),this.scheduler=N,this.work=W}schedule(N,W=0){return W>0?super.schedule(N,W):(this.delay=W,this.state=N,this.scheduler.flush(this),this)}execute(N,W){return W>0||this.closed?super.execute(N,W):this._execute(N,W)}requestAsyncId(N,W,R=0){return null!==R&&R>0||null===R&&this.delay>0?super.requestAsyncId(N,W,R):N.flush(this)}}),Z=ue},5430:(qe,Ae,O)=>{"use strict";O.d(Ae,{hZ:()=>T});const T="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3821:(qe,Ae,O)=>{"use strict";O.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(qe,Ae,O)=>{"use strict";O.d(Ae,{b:()=>s});const s="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(qe,Ae,O)=>{"use strict";O.d(Ae,{N:()=>T});const T=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},2782:(qe,Ae,O)=>{"use strict";function s(T){setTimeout(()=>{throw T},0)}O.d(Ae,{z:()=>s})},5379:(qe,Ae,O)=>{"use strict";function s(T){return T}O.d(Ae,{y:()=>s})},6688:(qe,Ae,O)=>{"use strict";O.d(Ae,{k:()=>s});const s=Array.isArray||(T=>T&&"number"==typeof T.length)},8515:(qe,Ae,O)=>{"use strict";O.d(Ae,{z:()=>s});const s=T=>T&&"number"==typeof T.length&&"function"!=typeof T},7043:(qe,Ae,O)=>{"use strict";function s(T){return"function"==typeof T}O.d(Ae,{m:()=>s})},4241:(qe,Ae,O)=>{"use strict";O.d(Ae,{k:()=>T});var s=O(6688);function T(F){return!(0,s.k)(F)&&F-parseFloat(F)+1>=0}},7830:(qe,Ae,O)=>{"use strict";function s(T){return null!==T&&"object"==typeof T}O.d(Ae,{K:()=>s})},8955:(qe,Ae,O)=>{"use strict";function s(T){return!!T&&"function"!=typeof T.subscribe&&"function"==typeof T.then}O.d(Ae,{t:()=>s})},2866:(qe,Ae,O)=>{"use strict";function s(T){return T&&"function"==typeof T.schedule}O.d(Ae,{K:()=>s})},4843:(qe,Ae,O)=>{"use strict";O.d(Ae,{z:()=>T,U:()=>F});var s=O(5379);function T(...X){return F(X)}function F(X){return 0===X.length?s.y:1===X.length?X[0]:function(Z){return X.reduce((oe,N)=>N(oe),Z)}}},9249:(qe,Ae,O)=>{"use strict";O.d(Ae,{s:()=>M});var s=O(3650),T=O(2782),X=O(5430),Z=O(3821),N=O(8515),W=O(8955),R=O(7830);const M=L=>{if(L&&"function"==typeof L[Z.L])return(L=>V=>{const z=L[Z.L]();if("function"!=typeof z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return z.subscribe(V)})(L);if((0,N.z)(L))return(0,s.V)(L);if((0,W.t)(L))return(L=>V=>(L.then(z=>{V.closed||(V.next(z),V.complete())},z=>V.error(z)).then(null,T.z),V))(L);if(L&&"function"==typeof L[X.hZ])return(L=>V=>{const z=L[X.hZ]();for(;;){let ie;try{ie=z.next()}catch(se){return V.error(se),V}if(ie.done){V.complete();break}if(V.next(ie.value),V.closed)break}return"function"==typeof z.return&&V.add(()=>{z.return&&z.return()}),V})(L);{const z=`You provided ${(0,R.K)(L)?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(z)}}},3650:(qe,Ae,O)=>{"use strict";O.d(Ae,{V:()=>s});const s=T=>F=>{for(let X=0,ue=T.length;X<ue&&!F.closed;X++)F.next(T[X]);F.complete()}},655:(qe,Ae,O)=>{"use strict";function X(ve,ae){var ye={};for(var Ee in ve)Object.prototype.hasOwnProperty.call(ve,Ee)&&ae.indexOf(Ee)<0&&(ye[Ee]=ve[Ee]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(Ee=Object.getOwnPropertySymbols(ve);Ie<Ee.length;Ie++)ae.indexOf(Ee[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ve,Ee[Ie])&&(ye[Ee[Ie]]=ve[Ee[Ie]])}return ye}function N(ve,ae,ye,Ee){return new(ye||(ye=Promise))(function(De,ct){function Tt(He){try{Be(Ee.next(He))}catch(Ze){ct(Ze)}}function zt(He){try{Be(Ee.throw(He))}catch(Ze){ct(Ze)}}function Be(He){He.done?De(He.value):function(De){return De instanceof ye?De:new ye(function(ct){ct(De)})}(He.value).then(Tt,zt)}Be((Ee=Ee.apply(ve,ae||[])).next())})}O.d(Ae,{_T:()=>X,mG:()=>N})},2480:()=>{},5e3:(qe,Ae,O)=>{"use strict";O.d(Ae,{deG:()=>or,tb:()=>bb,AFp:()=>Bp,ip1:()=>Xh,CZH:()=>Vp,hGG:()=>qD,z2F:()=>Hp,sBO:()=>CE,Sil:()=>Cb,_Vd:()=>Us,EJc:()=>wb,SBq:()=>Ul,qLn:()=>Hf,vpe:()=>Tc,tBr:()=>Qi,XFs:()=>Bt,OlP:()=>G,zs3:()=>Ho,ZZ4:()=>Mb,aQg:()=>Rb,soG:()=>km,YKP:()=>Id,h0i:()=>Mp,PXZ:()=>gE,R0b:()=>$a,FiY:()=>Vo,Lbi:()=>vb,g9A:()=>yb,Qsj:()=>DC,FYo:()=>IC,JOm:()=>El,tp0:()=>Qr,Rgc:()=>Tm,dDg:()=>xb,q4F:()=>wm,GfV:()=>kp,s_b:()=>kd,ifc:()=>bt,eFA:()=>Up,G48:()=>bE,Gpc:()=>M,f3M:()=>Yr,X6Q:()=>BD,_c5:()=>z1,VLi:()=>hE,c2e:()=>h1,zSh:()=>xs,wAp:()=>yn,vHH:()=>ie,cg1:()=>pm,kL8:()=>Yv,dqk:()=>En,sIi:()=>kh,CqO:()=>qx,QGY:()=>Hw,F4k:()=>Zx,RDi:()=>Mu,AaK:()=>N,qOj:()=>f0,TTD:()=>ri,_Bn:()=>ym,xp6:()=>N_,uIk:()=>Rh,Tol:()=>Yw,ekj:()=>T0,Suo:()=>cb,Xpm:()=>wt,lG2:()=>Yt,Yz7:()=>Nt,cJS:()=>bn,oAB:()=>ge,Yjl:()=>gn,Y36:()=>Gt,_UZ:()=>Ls,GkF:()=>lm,BQk:()=>Ri,ynx:()=>dt,qZA:()=>Kt,TgZ:()=>yt,EpF:()=>Gx,n5z:()=>gl,LFG:()=>Er,$8M:()=>ys,$Z:()=>Qe,NdJ:()=>zw,CRH:()=>Z0,oxw:()=>jw,ALo:()=>rb,lcZ:()=>$0,Hsn:()=>Gw,F$t:()=>yp,Q6J:()=>Xt,s9C:()=>ds,DdM:()=>OC,VKq:()=>GT,WLB:()=>ZT,kEZ:()=>qT,l5B:()=>KT,qbA:()=>H0,HTZ:()=>Op,Hh0:()=>PC,rFY:()=>YT,iGM:()=>ZC,MAs:()=>nm,CHM:()=>ll,LSH:()=>ag,Udp:()=>um,YNc:()=>pp,W1O:()=>YC,_uU:()=>sT,Oqu:()=>Jw,hij:()=>Uh,AsE:()=>hm,Gf:()=>qC});var s=O(8929),T=O(2654),F=O(6498),X=O(4073),ue=O(2474);function Z(a){for(let l in a)if(a[l]===Z)return l;throw Error("Could not find renamed property on target object.")}function oe(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function N(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(N).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function W(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const R=Z({__forward_ref__:Z});function M(a){return a.__forward_ref__=M,a.toString=function(){return N(this())},a}function L(a){return V(a)?a():a}function V(a){return"function"==typeof a&&a.hasOwnProperty(R)&&a.__forward_ref__===M}class ie extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function $(a){return"string"==typeof a?a:null==a?"":String(a)}function K(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():$(a)}function Re(a,l){const c=l?` in ${l}`:"";throw new ie("201",`No provider for ${K(a)} found${c}`)}function He(a,l){null==a&&function(a,l,c,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${c} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function Nt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function bn(a){return{providers:a.providers||[],imports:a.imports||[]}}function zn(a){return Ni(a,Kn)||Ni(a,Mi)}function Ni(a,l){return a.hasOwnProperty(l)?a[l]:null}function Xn(a){return a&&(a.hasOwnProperty(jn)||a.hasOwnProperty(ci))?a[jn]:null}const Kn=Z({\u0275prov:Z}),jn=Z({\u0275inj:Z}),Mi=Z({ngInjectableDef:Z}),ci=Z({ngInjectorDef:Z});var Bt=(()=>((Bt=Bt||{})[Bt.Default=0]="Default",Bt[Bt.Host=1]="Host",Bt[Bt.Self=2]="Self",Bt[Bt.SkipSelf=4]="SkipSelf",Bt[Bt.Optional=8]="Optional",Bt))();let on;function fn(a){const l=on;return on=a,l}function Rt(a,l,c){const h=zn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&Bt.Optional?null:void 0!==l?l:void Re(N(a),"Injector")}function vn(a){return{toString:a}.toString()}var en=(()=>((en=en||{})[en.OnPush=0]="OnPush",en[en.Default=1]="Default",en))(),bt=(()=>{return(a=bt||(bt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",bt;var a})();const It="undefined"!=typeof globalThis&&globalThis,gi="undefined"!=typeof window&&window,Ji="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=It||"undefined"!=typeof global&&global||gi||Ji,be={},he=[],we=Z({\u0275cmp:Z}),tt=Z({\u0275dir:Z}),Ne=Z({\u0275pipe:Z}),Dt=Z({\u0275mod:Z}),ke=Z({\u0275fac:Z}),Ge=Z({__NG_ELEMENT_ID__:Z});let ht=0;function wt(a){return vn(()=>{const c={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===en.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||he,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||bt.Emulated,id:"c",styles:a.styles||he,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,_=a.features,C=a.pipes;return h.id+=ht++,h.inputs=_t(a.inputs,c),h.outputs=_t(a.outputs),_&&_.forEach(x=>x(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(vt):null,h.pipeDefs=C?()=>("function"==typeof C?C():C).map(Te):null,h})}function vt(a){return Qt(a)||function(a){return a[tt]||null}(a)}function Te(a){return function(a){return a[Ne]||null}(a)}const fe={};function ge(a){return vn(()=>{const l={type:a.type,bootstrap:a.bootstrap||he,declarations:a.declarations||he,imports:a.imports||he,exports:a.exports||he,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(fe[a.id]=a.type),l})}function _t(a,l){if(null==a)return be;const c={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),c[p]=h,l&&(l[p]=_)}return c}const Yt=wt;function gn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Qt(a){return a[we]||null}function ui(a,l){const c=a[Dt]||null;if(!c&&!0===l)throw new Error(`Type ${N(a)} does not have '\u0275mod' property.`);return c}function As(a){return Array.isArray(a)&&"object"==typeof a[1]}function Zr(a){return Array.isArray(a)&&!0===a[1]}function Su(a){return 0!=(8&a.flags)}function so(a){return 2==(2&a.flags)}function tl(a){return 1==(1&a.flags)}function xi(a){return null!==a.template}function yr(a){return 0!=(512&a[2])}function ba(a,l){return a.hasOwnProperty(ke)?a[ke]:null}class Fc{constructor(l,c,h){this.previousValue=l,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function ri(){return vi}function vi(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ii),wa}function wa(){const a=Lc(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===be)a.previous=l;else for(let h in l)c[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Ii(a,l,c,h){const p=Lc(a)||function(a,l){return a[Yo]=l}(a,{previous:be,current:null}),_=p.current||(p.current={}),C=p.previous,x=this.declaredInputs[c],D=C[x];_[x]=new Fc(D&&D.currentValue,l,C===be),a[h]=l}ri.ngInherit=!0;const Yo="__ngSimpleChanges__";function Lc(a){return a[Yo]||null}let lo;function Mu(a){lo=a}function Di(a){return!!a.listen}const co={createRenderer:(a,l)=>void 0!==lo?lo:"undefined"!=typeof document?document:void 0};function Fi(a){for(;Array.isArray(a);)a=a[0];return a}function br(a,l){return Fi(l[a])}function Ur(a,l){return Fi(l[a.index])}function te(a,l){return a.data[l]}function Se(a,l){return a[l]}function $e(a,l){const c=l[a];return As(c)?c:c[0]}function gt(a){return 4==(4&a[2])}function Ft(a){return 128==(128&a[2])}function Gn(a,l){return null==l?null:a[l]}function mn(a){a[18]=0}function qi(a,l){a[5]+=l;let c=a,h=a[3];for(;null!==h&&(1===l&&1===c[5]||-1===l&&0===c[5]);)h[5]+=l,c=h,h=h[3]}const Pt={lFrame:Xo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uo(){return Pt.bindingsEnabled}function ut(){return Pt.lFrame.lView}function Ln(){return Pt.lFrame.tView}function ll(a){return Pt.lFrame.contextLView=a,a[8]}function Wi(){let a=Yp();for(;null!==a&&64===a.type;)a=a.parent;return a}function Yp(){return Pt.lFrame.currentTNode}function ks(a,l){const c=Pt.lFrame;c.currentTNode=a,c.isParent=l}function jl(){return Pt.lFrame.isParent}function Hd(){Pt.lFrame.isParent=!1}function Bc(){return Pt.isInCheckNoChangesMode}function Ea(a){Pt.isInCheckNoChangesMode=a}function Hr(){const a=Pt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Uc(){return Pt.lFrame.bindingIndex++}function Ro(a){const l=Pt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Hc(a,l){const c=Pt.lFrame;c.bindingIndex=c.bindingRootIndex=a,gf(l)}function gf(a){Pt.lFrame.currentDirectiveIndex=a}function mf(){return Pt.lFrame.currentQueryIndex}function Ws(a){Pt.lFrame.currentQueryIndex=a}function _f(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Qp(a,l,c){if(c&Bt.SkipSelf){let p=l,_=a;for(;!(p=p.parent,null!==p||c&Bt.Host||(p=_f(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;l=p,a=_}const h=Pt.lFrame=$d();return h.currentTNode=l,h.lView=a,!0}function Wd(a){const l=$d(),c=a[1];Pt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function $d(){const a=Pt.lFrame,l=null===a?null:a.child;return null===l?Xo(a):l}function Xo(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Kr(){const a=Pt.lFrame;return Pt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const jd=Kr;function yf(){const a=Kr();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function er(){return Pt.lFrame.selectedIndex}function cl(a){Pt.lFrame.selectedIndex=a}function $i(){const a=Pt.lFrame;return te(a.tView,a.selectedIndex)}function Ki(a,l){for(let c=l.directiveStart,h=l.directiveEnd;c<h;c++){const _=a.data[c].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:x,ngAfterViewInit:D,ngAfterViewChecked:P,ngOnDestroy:j}=_;C&&(a.contentHooks||(a.contentHooks=[])).push(-c,C),x&&((a.contentHooks||(a.contentHooks=[])).push(c,x),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,x)),D&&(a.viewHooks||(a.viewHooks=[])).push(-c,D),P&&((a.viewHooks||(a.viewHooks=[])).push(c,P),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,P)),null!=j&&(a.destroyHooks||(a.destroyHooks=[])).push(c,j)}}function Yn(a,l,c){fo(a,l,3,c)}function Zl(a,l,c,h){(3&a[2])===c&&fo(a,l,c,h)}function Xp(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function fo(a,l,c,h){const _=null!=h?h:-1,C=l.length-1;let x=0;for(let D=void 0!==h?65535&a[18]:0;D<C;D++)if("number"==typeof l[D+1]){if(x=l[D],null!=h&&x>=h)break}else l[D]<0&&(a[18]+=65536),(x<_||-1==_)&&(Gd(a,c,l,D),a[18]=(4294901760&a[18])+D+2),D++}function Gd(a,l,c,h){const p=c[h]<0,_=c[h+1],x=a[p?-c[h]:c[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(x)}finally{}}}else try{_.call(x)}finally{}}class Oo{constructor(l,c,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function Li(a,l,c){const h=Di(a);let p=0;for(;p<c.length;){const _=c[p];if("number"==typeof _){if(0!==_)break;p++;const C=c[p++],x=c[p++],D=c[p++];h?a.setAttribute(l,x,D,C):l.setAttributeNS(C,x,D)}else{const C=_,x=c[++p];Bn(C)?h&&a.setProperty(l,C,x):h?a.setAttribute(l,C,x):l.setAttribute(C,x),p++}}return p}function Jt(a){return 3===a||4===a||6===a}function Bn(a){return 64===a.charCodeAt(0)}function ul(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?c=p:0===c||Ms(a,c,p,null,-1===c||2===c?l[++h]:null)}}return a}function Ms(a,l,c,h,p){let _=0,C=a.length;if(-1===l)C=-1;else for(;_<a.length;){const x=a[_++];if("number"==typeof x){if(x===l){C=-1;break}if(x>l){C=_-1;break}}}for(;_<a.length;){const x=a[_];if("number"==typeof x)break;if(x===c){if(null===h)return void(null!==p&&(a[_+1]=p));if(h===a[_+1])return void(a[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==C&&(a.splice(C,0,l),_=C+1),a.splice(_++,0,c),null!==h&&a.splice(_++,0,h),null!==p&&a.splice(_++,0,p)}function po(a){return-1!==a}function ea(a){return 32767&a}function ta(a,l){let c=function(a){return a>>16}(a),h=l;for(;c>0;)h=h[15],c--;return h}let zc=!0;function dl(a){const l=zc;return zc=a,l}let Cf=0;function Po(a,l){const c=hl(a,l);if(-1!==c)return c;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Kl(h.data,a),Kl(l,null),Kl(h.blueprint,null));const p=na(a,l),_=a.injectorIndex;if(po(p)){const C=ea(p),x=ta(p,l),D=x[1].data;for(let P=0;P<8;P++)l[_+P]=x[C+P]|D[C+P]}return l[_+8]=p,_}function Kl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function hl(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function na(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,h=null,p=l;for(;null!==p;){const _=p[1],C=_.type;if(h=2===C?_.declTNode:1===C?p[6]:null,null===h)return-1;if(c++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function fl(a,l,c){!function(a,l,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(Ge)&&(h=c[Ge]),null==h&&(h=c[Ge]=Cf++);const p=255&h;l.data[a+(p>>5)]|=1<<p}(a,l,c)}function Nu(a,l,c){if(c&Bt.Optional)return a;Re(l,"NodeInjector")}function Ei(a,l,c,h){if(c&Bt.Optional&&void 0===h&&(h=null),0==(c&(Bt.Self|Bt.Host))){const p=a[9],_=fn(void 0);try{return p?p.get(l,h,c&Bt.Optional):Rt(l,h,c&Bt.Optional)}finally{fn(_)}}return Nu(h,l,c)}function zr(a,l,c,h=Bt.Default,p){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ge)?a[Ge]:void 0;return"number"==typeof l?l>=0?255&l:un:l}(c);if("function"==typeof _){if(!Qp(l,a,h))return h&Bt.Host?Nu(p,c,h):Ei(l,c,h,p);try{const C=_(h);if(null!=C||h&Bt.Optional)return C;Re(c)}finally{jd()}}else if("number"==typeof _){let C=null,x=hl(a,l),D=-1,P=h&Bt.Host?l[16][6]:null;for((-1===x||h&Bt.SkipSelf)&&(D=-1===x?na(a,l):l[x+8],-1!==D&&pl(h,!1)?(C=l[1],x=ea(D),l=ta(D,l)):x=-1);-1!==x;){const j=l[1];if(xf(_,x,j.data)){const re=$s(x,l,c,C,h,P);if(re!==Zd)return re}D=l[x+8],-1!==D&&pl(h,l[1].data[x+8]===P)&&xf(_,x,l)?(C=j,x=ea(D),l=ta(D,l)):x=-1}}}return Ei(l,c,h,p)}const Zd={};function un(){return new js(Wi(),ut())}function $s(a,l,c,h,p,_){const C=l[1],x=C.data[a+8],j=Yi(x,C,c,null==h?so(x)&&zc:h!=C&&0!=(3&x.type),p&Bt.Host&&_===x);return null!==j?$c(l,C,j,x):Zd}function Yi(a,l,c,h,p){const _=a.providerIndexes,C=l.data,x=1048575&_,D=a.directiveStart,j=_>>20,Ce=p?x+j:a.directiveEnd;for(let Fe=h?x:x+j;Fe<Ce;Fe++){const st=C[Fe];if(Fe<D&&c===st||Fe>=D&&st.type===c)return Fe}if(p){const Fe=C[D];if(Fe&&xi(Fe)&&Fe.type===c)return D}return null}function $c(a,l,c,h){let p=a[c];const _=l.data;if(function(a){return a instanceof Oo}(p)){const C=p;C.resolving&&function(a,l){throw new ie("200",`Circular dependency in DI detected for ${a}`)}(K(_[c]));const x=dl(C.canSeeViewProviders);C.resolving=!0;const D=C.injectImpl?fn(C.injectImpl):null;Qp(a,h,Bt.Default);try{p=a[c]=C.factory(void 0,_,a,h),l.firstCreatePass&&c>=h.directiveStart&&function(a,l,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=l.type.prototype;if(h){const C=vi(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,C),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,C)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_))}(c,_[c],l)}finally{null!==D&&fn(D),dl(x),C.resolving=!1,jd()}}return p}function xf(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function pl(a,l){return!(a&Bt.Self||a&Bt.Host&&l)}class js{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,h){return zr(this._tNode,this._lView,l,h,c)}}function gl(a){return vn(()=>{const l=a.prototype.constructor,c=l[ke]||Gc(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const _=p[ke]||Gc(p);if(_&&_!==c)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Gc(a){return V(a)?()=>{const l=Gc(L(a));return l&&l()}:ba(a)}function ys(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const _=c[p];if(Jt(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(_===l)return c[p+1];p+=2}}}return null}(Wi(),a)}const Zc="__parameters__";function xa(a,l,c){return vn(()=>{const h=function(a){return function(...c){if(a){const h=a(...c);for(const p in h)this[p]=h[p]}}}(l);function p(..._){if(this instanceof p)return h.apply(this,_),this;const C=new p(..._);return x.annotation=C,x;function x(D,P,j){const re=D.hasOwnProperty(Zc)?D[Zc]:Object.defineProperty(D,Zc,{value:[]})[Zc];for(;re.length<=j;)re.push(null);return(re[j]=re[j]||[]).push(C),D}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class G{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Nt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const or=new G("AnalyzeForEntryComponents");function Cr(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let h=a[c];Array.isArray(h)?(l===a&&(l=a.slice(0,c)),Cr(h,l)):l!==a&&l.push(h)}return l}function Vi(a,l){a.forEach(c=>Array.isArray(c)?Vi(c,l):l(c))}function Kd(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function ml(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ql(a,l){const c=[];for(let h=0;h<a;h++)c.push(l);return c}function ar(a,l,c){let h=Kc(a,l);return h>=0?a[1|h]=c:(h=~h,function(a,l,c,h){let p=a.length;if(p==l)a.push(c,h);else if(1===p)a.push(h,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=h}}(a,h,l,c)),h}function Yd(a,l){const c=Kc(a,l);if(c>=0)return a[1|c]}function Kc(a,l){return function(a,l,c){let h=0,p=a.length>>c;for(;p!==h;){const _=h+(p-h>>1),C=a[_<<c];if(l===C)return _<<c;C>l?p=_:h=_+1}return~(p<<c)}(a,l,1)}const Lo={},qs="__NG_DI_FLAG__",ec="ngTempTokenPath",rg=/\n/gm,th="__source",rs=Z({provide:String,useValue:Z});let Mr;function kf(a){const l=Mr;return Mr=a,l}function Mf(a,l=Bt.Default){if(void 0===Mr)throw new Error("inject() must be called from an injection context");return null===Mr?Rt(a,void 0,l):Mr.get(a,l&Bt.Optional?null:void 0,l)}function Er(a,l=Bt.Default){return(on||Mf)(L(a),l)}const Yr=Er;function Yc(a){const l=[];for(let c=0;c<a.length;c++){const h=L(a[c]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,_=Bt.Default;for(let C=0;C<h.length;C++){const x=h[C],D=tc(x);"number"==typeof D?-1===D?p=x.token:_|=D:p=x}l.push(Er(p,_))}else l.push(Er(h))}return l}function Uu(a,l){return a[qs]=l,a.prototype[qs]=l,a}function tc(a){return a[qs]}const Qi=Uu(xa("Inject",a=>({token:a})),-1),Vo=Uu(xa("Optional"),8),Qr=Uu(xa("SkipSelf"),4);class ju{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Da(a){return a instanceof ju?a.changingThisBreaksApplicationSecurity:a}const eu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function ag(a){const l=function(){const a=ut();return a&&a[12]}();return l?l.sanitize(Rr.URL,a)||"":function(a,l){const c=function(a){return a instanceof ju&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}(a,"URL")?Da(a):function(a){return(a=String(a)).match(eu)||a.match(y)?a:"unsafe:"+a}($(a))}const ed="__ngContext__";function bs(a,l){a[ed]=l}function td(a){const l=function(a){return a[ed]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function fg(a){return a.ngOriginalError}function pg(a,...l){a.error(...l)}class Hf{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),h=(a=l)&&a.ngErrorLogger||pg;var a;h(this._console,"ERROR",l),c&&h(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&fg(l);for(;c&&fg(c);)c=fg(c);return c||null}}const ru=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function Cl(a){return a instanceof Function?a():a}var El=(()=>((El=El||{})[El.Important=1]="Important",El[El.DashCase=2]="DashCase",El))();function S_(a,l){return undefined(a,l)}function su(a){const l=a[3];return Zr(l)?l[3]:l}function mg(a){return id(a[13])}function _g(a){return id(a[4])}function id(a){for(;null!==a&&!Zr(a);)a=a[4];return a}function rd(a,l,c,h,p){if(null!=h){let _,C=!1;Zr(h)?_=h:As(h)&&(C=!0,h=h[0]);const x=Fi(h);0===a&&null!==c?null==p?bg(l,c,x):Ma(l,c,x,p||null,!0):1===a&&null!==c?Ma(l,c,x,p||null,!0):2===a?function(a,l,c){const h=wg(a,l);h&&function(a,l,c,h){Di(a)?a.removeChild(l,c,h):l.removeChild(c)}(a,h,l,c)}(l,x,C):3===a&&l.destroyNode(x),null!=_&&function(a,l,c,h,p){const _=c[7];_!==Fi(c)&&rd(l,a,h,_,p);for(let x=10;x<c.length;x++){const D=c[x];qf(D[1],D,a,l,h,_)}}(l,a,_,c,p)}}function $f(a,l,c){return Di(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function yg(a,l){const c=a[9],h=c.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,qi(p,-1)),c.splice(h,1)}function vg(a,l){if(a.length<=10)return;const c=10+l,h=a[c];if(h){const p=h[17];null!==p&&p!==a&&yg(p,h),l>0&&(a[c-1][4]=h[4]);const _=ml(a,10+l);!function(a,l){qf(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const C=_[19];null!==C&&C.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function A_(a,l){if(!(256&l[2])){const c=l[11];Di(c)&&c.destroyNode&&qf(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return sd(a[1],a);for(;l;){let c=null;if(As(l))c=l[13];else{const h=l[10];h&&(c=h)}if(!c){for(;l&&!l[4]&&l!==a;)As(l)&&sd(l[1],l),l=l[3];null===l&&(l=a),As(l)&&sd(l[1],l),c=l&&l[4]}l=c}}(l)}}function sd(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let h=0;h<c.length;h+=2){const p=l[c[h]];if(!(p instanceof Oo)){const _=c[h+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const x=p[_[C]],D=_[C+1];try{D.call(x)}finally{}}else try{_.call(p)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,h=l[7];let p=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const C=c[_+1],x="function"==typeof C?C(l):Fi(l[C]),D=h[p=c[_+2]],P=c[_+3];"boolean"==typeof P?x.removeEventListener(c[_],D,P):P>=0?h[p=P]():h[p=-P].unsubscribe(),_+=2}else{const C=h[p=c[_+1]];c[_].call(C)}if(null!==h){for(let _=p+1;_<h.length;_++)h[_]();l[7]=null}}(a,l),1===l[1].type&&Di(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Zr(l[3])){c!==l[3]&&yg(c,l);const h=l[19];null!==h&&h.detachView(a)}}}function Bi(a,l,c){return function(a,l,c){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return c[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===bt.None||p===bt.Emulated)return null}return Ur(h,c)}(a,l.parent,c)}function Ma(a,l,c,h,p){Di(a)?a.insertBefore(l,c,h,p):l.insertBefore(c,h,p)}function bg(a,l,c){Di(a)?a.appendChild(l,c):l.appendChild(c)}function Zf(a,l,c,h,p){null!==h?Ma(a,l,c,h,p):bg(a,l,c)}function wg(a,l){return Di(a)?a.parentNode(l):l.parentNode}function k_(a,l,c){return M_(a,l,c)}let M_=function(a,l,c){return 40&a.type?Ur(a,c):null};function R_(a,l,c,h){const p=Bi(a,h,l),_=l[11],x=k_(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(c))for(let D=0;D<c.length;D++)Zf(_,p,c[D],x,!1);else Zf(_,p,c,x,!1)}function Ra(a,l){if(null!==l){const c=l.type;if(3&c)return Ur(l,a);if(4&c)return Tg(-1,a[l.index]);if(8&c){const h=l.child;if(null!==h)return Ra(a,h);{const p=a[l.index];return Zr(p)?Tg(-1,p):Fi(p)}}if(32&c)return S_(l,a)()||Fi(a[l.index]);{const h=xg(a,l);return null!==h?Array.isArray(h)?h[0]:Ra(su(a[16]),h):Ra(a,l.next)}}return null}function xg(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Tg(a,l){const c=10+a+1;if(c<l.length){const h=l[c],p=h[1].firstChild;if(null!==p)return Ra(h,p)}return l[7]}function hc(a,l,c,h,p,_,C){for(;null!=c;){const x=h[c.index],D=c.type;if(C&&0===l&&(x&&bs(Fi(x),h),c.flags|=4),64!=(64&c.flags))if(8&D)hc(a,l,c.child,h,p,_,!1),rd(l,a,p,x,_);else if(32&D){const P=S_(c,h);let j;for(;j=P();)rd(l,a,p,j,_);rd(l,a,p,x,_)}else 16&D?ev(a,l,h,c,p,_):rd(l,a,p,x,_);c=C?c.projectionNext:c.next}}function qf(a,l,c,h,p,_){hc(c,h,a.firstChild,l,p,_,!1)}function ev(a,l,c,h,p,_){const C=c[16],D=C[6].projection[h.projection];if(Array.isArray(D))for(let P=0;P<D.length;P++)rd(l,a,p,D[P],_);else hc(a,l,D,C[3],p,_,!0)}function nv(a,l,c){Di(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function O_(a,l,c){Di(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function Sg(a,l,c){let h=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const _=l.length;if(p+_===h||a.charCodeAt(p+_)<=32)return p}c=p+1}}const iv="ng-template";function rv(a,l,c){let h=0;for(;h<a.length;){let p=a[h++];if(c&&"class"===p){if(p=a[h],-1!==Sg(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function sv(a){return 4===a.type&&a.value!==iv}function vw(a,l,c){return l===(4!==a.type||c?a.value:iv)}function Ye(a,l,c){let h=4;const p=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(Jt(a[l]))return l;return a.length}(p);let C=!1;for(let x=0;x<l.length;x++){const D=l[x];if("number"!=typeof D){if(!C)if(4&h){if(h=2|1&h,""!==D&&!vw(a,D,c)||""===D&&1===l.length){if(Pa(h))return!1;C=!0}}else{const P=8&h?D:l[++x];if(8&h&&null!==a.attrs){if(!rv(a.attrs,P,c)){if(Pa(h))return!1;C=!0}continue}const re=ov(8&h?"class":D,p,sv(a),c);if(-1===re){if(Pa(h))return!1;C=!0;continue}if(""!==P){let Ce;Ce=re>_?"":p[re+1].toLowerCase();const Fe=8&h?Ce:null;if(Fe&&-1!==Sg(Fe,P,0)||2&h&&P!==Ce){if(Pa(h))return!1;C=!0}}}}else{if(!C&&!Pa(h)&&!Pa(D))return!1;if(C&&Pa(D))continue;C=!1,h=D|1&h}}return Pa(h)||C}function Pa(a){return 0==(1&a)}function ov(a,l,c,h){if(null===l)return-1;let p=0;if(h||!c){let _=!1;for(;p<l.length;){const C=l[p];if(C===a)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let x=l[++p];for(;"string"==typeof x;)x=l[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const h=a[c];if("number"==typeof h)return-1;if(h===l)return c;c++}return-1}(l,a)}function av(a,l,c=!1){for(let h=0;h<l.length;h++)if(Ye(a,l[h],c))return!0;return!1}function lv(a,l){e:for(let c=0;c<l.length;c++){const h=l[c];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function P_(a,l){return a?":not("+l.trim()+")":l}function xr(a){let l=a[0],c=1,h=2,p="",_=!1;for(;c<a.length;){let C=a[c];if("string"==typeof C)if(2&h){const x=a[++c];p+="["+C+(x.length>0?'="'+x+'"':"")+"]"}else 8&h?p+="."+C:4&h&&(p+=" "+C);else""!==p&&!Pa(C)&&(l+=P_(_,p),p=""),h=C,_=_||!Pa(h);c++}return""!==p&&(l+=P_(_,p)),l}const dn={};function N_(a){bw(Ln(),ut(),er()+a,Bc())}function bw(a,l,c,h){if(!h)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Yn(l,_,c)}else{const _=a.preOrderHooks;null!==_&&Zl(l,_,0,c)}cl(c)}function L_(a,l){return a<<17|l<<2}function Tl(a){return a>>17&32767}function Ig(a){return 2|a}function Fa(a){return(131068&a)>>2}function mh(a,l){return-131069&a|l<<2}function od(a){return 1|a}function G_(a,l){const c=a.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const p=c[h],_=c[h+1];if(-1!==_){const C=a.data[_];Ws(p),C.contentQueries(2,l[_],_)}}}function Al(a,l,c,h,p,_,C,x,D,P){const j=l.blueprint.slice();return j[0]=p,j[2]=140|h,mn(j),j[3]=j[15]=a,j[8]=c,j[10]=C||a&&a[10],j[11]=x||a&&a[11],j[12]=D||a&&a[12]||null,j[9]=P||a&&a[9]||null,j[6]=_,j[16]=2==l.type?a[16]:j,j}function _h(a,l,c,h,p){let _=a.data[l];if(null===_)_=function(a,l,c,h,p){const _=Yp(),C=jl(),D=a.data[l]=function(a,l,c,h,p,_){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,c,l,h,p);return null===a.firstChild&&(a.firstChild=D),null!==_&&(C?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D)),D}(a,l,c,h,p),Pt.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=h,_.attrs=p;const C=function(){const a=Pt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===C?-1:C.injectorIndex}return ks(_,!0),_}function da(a,l,c,h){if(0===c)return-1;const p=l.length;for(let _=0;_<c;_++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function au(a,l,c){Wd(l);try{const h=a.viewQuery;null!==h&&ap(1,h,c);const p=a.template;null!==p&&q_(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&G_(a,l),a.staticViewQueries&&ap(2,a.viewQuery,c);const _=a.components;null!==_&&function(a,l){for(let c=0;c<l.length;c++)kw(a,l[c])}(l,_)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,yf()}}function pc(a,l,c,h){const p=l[2];if(256==(256&p))return;Wd(l);const _=Bc();try{mn(l),function(a){Pt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&q_(a,l,c,2,h);const C=3==(3&p);if(!_)if(C){const P=a.preOrderCheckHooks;null!==P&&Yn(l,P,null)}else{const P=a.preOrderHooks;null!==P&&Zl(l,P,0,null),Xp(l,0)}if(function(a){for(let l=mg(a);null!==l;l=_g(l)){if(!l[2])continue;const c=l[9];for(let h=0;h<c.length;h++){const p=c[h],_=p[3];0==(1024&p[2])&&qi(_,1),p[2]|=1024}}}(l),function(a){for(let l=mg(a);null!==l;l=_g(l))for(let c=10;c<l.length;c++){const h=l[c],p=h[1];Ft(h)&&pc(p,h,p.template,h[8])}}(l),null!==a.contentQueries&&G_(a,l),!_)if(C){const P=a.contentCheckHooks;null!==P&&Yn(l,P)}else{const P=a.contentHooks;null!==P&&Zl(l,P,1),Xp(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)cl(~p);else{const _=p,C=c[++h],x=c[++h];Hc(C,_),x(2,l[_])}}}finally{cl(-1)}}(a,l);const x=a.components;null!==x&&function(a,l){for(let c=0;c<l.length;c++)nr(a,l[c])}(l,x);const D=a.viewQuery;if(null!==D&&ap(2,D,h),!_)if(C){const P=a.viewCheckHooks;null!==P&&Yn(l,P)}else{const P=a.viewHooks;null!==P&&Zl(l,P,2),Xp(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,qi(l[3],-1))}finally{yf()}}function Z_(a,l,c,h){const p=l[10],_=!Bc(),C=gt(l);try{_&&!C&&p.begin&&p.begin(),C&&au(a,l,h),pc(a,l,c,h)}finally{_&&!C&&p.end&&p.end()}}function q_(a,l,c,h,p){const _=er(),C=2&h;try{cl(-1),C&&l.length>20&&bw(a,l,20,Bc()),c(h,p)}finally{cl(_)}}function Lg(a,l,c){if(Su(l)){const p=l.directiveEnd;for(let _=l.directiveStart;_<p;_++){const C=a.data[_];C.contentQueries&&C.contentQueries(1,c[_],_)}}}function yh(a,l,c){!uo()||(function(a,l,c,h){const p=c.directiveStart,_=c.directiveEnd;a.firstCreatePass||Po(c,l),bs(h,l);const C=c.initialInputs;for(let x=p;x<_;x++){const D=a.data[x],P=xi(D);P&&as(l,c,D);const j=$c(l,a,x,c);bs(j,l),null!==C&&ip(0,x-p,j,D,0,C),P&&($e(c.index,l)[8]=j)}}(a,l,c,Ur(c,l)),128==(128&c.flags)&&function(a,l,c){const h=c.directiveStart,p=c.directiveEnd,C=c.index,x=Pt.lFrame.currentDirectiveIndex;try{cl(C);for(let D=h;D<p;D++){const P=a.data[D],j=l[D];gf(D),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&e0(P,j)}}finally{cl(-1),gf(x)}}(a,l,c))}function ep(a,l,c=Ur){const h=l.localNames;if(null!==h){let p=l.index+1;for(let _=0;_<h.length;_+=2){const C=h[_+1],x=-1===C?c(l,a):a[C];a[p++]=x}}}function Vg(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=gc(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function gc(a,l,c,h,p,_,C,x,D,P){const j=20+h,re=j+p,Ce=function(a,l){const c=[];for(let h=0;h<l;h++)c.push(h<a?null:dn);return c}(j,re),Fe="function"==typeof P?P():P;return Ce[1]={type:a,blueprint:Ce,template:c,queries:null,viewQuery:x,declTNode:l,data:Ce.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:D,consts:Fe,incompleteFirstPass:!1}}function K_(a,l,c,h){const p=Ml(l);null===c?p.push(h):(p.push(c),a.firstCreatePass&&vv(a).push(h,p.length-1))}function Cs(a,l,c){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(l,p):c[h]=[l,p]}return c}function Es(a,l,c,h,p,_,C,x){const D=Ur(l,c);let j,P=l.inputs;!x&&null!=P&&(j=P[h])?(wv(a,c,j,h,p),so(l)&&function(a,l){const c=$e(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=C?C(p,l.value||"",h):p,Di(_)?_.setProperty(D,h,p):Bn(h)||(D.setProperty?D.setProperty(h,p):D[h]=p))}function Qs(a,l,c,h){let p=!1;if(uo()){const _=function(a,l,c){const h=a.directiveRegistry;let p=null;if(h)for(let _=0;_<h.length;_++){const C=h[_];av(c,C.selectors,!1)&&(p||(p=[]),fl(Po(c,l),a,C.type),xi(C)?(lr(a,c),p.unshift(C)):p.push(C))}return p}(a,l,c),C=null===h?null:{"":-1};if(null!==_){p=!0,Hg(c,a.data.length,_.length);for(let j=0;j<_.length;j++){const re=_[j];re.providersResolver&&re.providersResolver(re)}let x=!1,D=!1,P=da(a,l,_.length,null);for(let j=0;j<_.length;j++){const re=_[j];c.mergedAttrs=ul(c.mergedAttrs,re.hostAttrs),zg(a,c,l,P,re),kl(P,re,C),null!==re.contentQueries&&(c.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(c.flags|=128);const Ce=re.type.prototype;!x&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),x=!0),!D&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),D=!0),P++}!function(a,l){const h=l.directiveEnd,p=a.data,_=l.attrs,C=[];let x=null,D=null;for(let P=l.directiveStart;P<h;P++){const j=p[P],re=j.inputs,Ce=null===_||sv(l)?null:Aw(re,_);C.push(Ce),x=Cs(re,P,x),D=Cs(j.outputs,P,D)}null!==x&&(x.hasOwnProperty("class")&&(l.flags|=16),x.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=C,l.inputs=x,l.outputs=D}(a,c)}C&&function(a,l,c){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const _=c[l[p+1]];if(null==_)throw new ie("301",`Export of name '${l[p+1]}' not found!`);h.push(l[p],_)}}}(c,h,C)}return c.mergedAttrs=ul(c.mergedAttrs,c.attrs),p}function X_(a,l,c,h,p,_){const C=_.hostBindings;if(C){let x=a.hostBindingOpCodes;null===x&&(x=a.hostBindingOpCodes=[]);const D=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(x)!=D&&x.push(D),x.push(h,p,C)}}function e0(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function lr(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function kl(a,l,c){if(c){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)c[l.exportAs[h]]=a;xi(l)&&(c[""]=a)}}function Hg(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function zg(a,l,c,h,p){a.data[h]=p;const _=p.factory||(p.factory=ba(p.type)),C=new Oo(_,xi(p),null);a.blueprint[h]=C,c[h]=C,X_(a,l,0,h,da(a,c,p.hostVars,dn),p)}function as(a,l,c){const h=Ur(l,a),p=Vg(c),_=a[10],C=rp(a,Al(a,p,null,c.onPush?64:16,h,l,_,_.createRenderer(h,c),null,null));a[l.index]=C}function Gi(a,l,c,h,p,_){const C=Ur(a,l);!function(a,l,c,h,p,_,C){if(null==_)Di(a)?a.removeAttribute(l,p,c):l.removeAttribute(p);else{const x=null==C?$(_):C(_,h||"",p);Di(a)?a.setAttribute(l,p,x,c):c?l.setAttributeNS(c,p,x):l.setAttribute(p,x)}}(l[11],C,_,a.value,c,h,p)}function ip(a,l,c,h,p,_){const C=_[l];if(null!==C){const x=h.setInput;for(let D=0;D<C.length;){const P=C[D++],j=C[D++],re=C[D++];null!==x?h.setInput(c,re,P,j):c[j]=re}}}function Aw(a,l){let c=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,a[p],l[h+1])),h+=2}else h+=2;else h+=4}return c}function Wg(a,l,c,h){return new Array(a,!0,!1,l,null,0,h,c,null,null)}function nr(a,l){const c=$e(l,a);if(Ft(c)){const h=c[1];80&c[2]?pc(h,c,h.template,c[8]):c[5]>0&&bh(c)}}function bh(a){for(let h=mg(a);null!==h;h=_g(h))for(let p=10;p<h.length;p++){const _=h[p];if(1024&_[2]){const C=_[1];pc(C,_,C.template,_[8])}else _[5]>0&&bh(_)}const c=a[1].components;if(null!==c)for(let h=0;h<c.length;h++){const p=$e(c[h],a);Ft(p)&&p[5]>0&&bh(p)}}function kw(a,l){const c=$e(l,a),h=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(h,c),au(h,c,c[8])}function rp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function n0(a){for(;a;){a[2]|=64;const l=su(a);if(yr(a)&&!l)return a;a=l}return null}function wh(a,l,c){const h=l[10];h.begin&&h.begin();try{pc(a,l,a.template,c)}catch(p){throw ud(l,p),p}finally{h.end&&h.end()}}function cd(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],h=td(c),p=h[1];Z_(p,h,p.template,c)}}(a[8])}function ap(a,l,c){Ws(0),l(a,c)}const vo=(()=>Promise.resolve(null))();function Ml(a){return a[7]||(a[7]=[])}function vv(a){return a.cleanup||(a.cleanup=[])}function ud(a,l){const c=a[9],h=c?c.get(Hf,null):null;h&&h.handleError(l)}function wv(a,l,c,h,p){for(let _=0;_<c.length;){const C=c[_++],x=c[_++],D=l[C],P=a.data[C];null!==P.setInput?P.setInput(D,p,h,x):D[x]=p}}function mc(a,l,c){const h=br(l,a);!function(a,l,c){Di(a)?a.setValue(l,c):l.textContent=c}(a[11],h,c)}function La(a,l,c){let h=c?a.styles:null,p=c?a.classes:null,_=0;if(null!==l)for(let C=0;C<l.length;C++){const x=l[C];"number"==typeof x?_=x:1==_?p=W(p,x):2==_&&(h=W(h,x+": "+l[++C]+";"))}c?a.styles=h:a.stylesWithoutHost=h,c?a.classes=p:a.classesWithoutHost=p}const ls=new G("INJECTOR",-1);class Zg{get(l,c=Lo){if(c===Lo){const h=new Error(`NullInjectorError: No provider for ${N(l)}!`);throw h.name="NullInjectorError",h}return c}}const xs=new G("Set Injector scope."),oi={},lp={};let dd;function Ch(){return void 0===dd&&(dd=new Zg),dd}function qg(a,l=null,c=null,h){const p=s0(a,l,c,h);return p._resolveInjectorDefTypes(),p}function s0(a,l=null,c=null,h){return new Ev(a,c,l||Ch(),h)}class Ev{constructor(l,c,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&Vi(c,x=>this.processProvider(x,l,c)),Vi([l],x=>this.processInjectorType(x,[],_)),this.records.set(ls,_c(void 0,this));const C=this.records.get(xs);this.scope=null!=C?C.value:null,this.source=p||("object"==typeof l?null:N(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Lo,h=Bt.Default){this.assertNotDestroyed();const p=kf(this),_=fn(void 0);try{if(!(h&Bt.SkipSelf)){let x=this.records.get(l);if(void 0===x){const D=("function"==typeof(a=l)||"object"==typeof a&&a instanceof G)&&zn(l);x=D&&this.injectableDefInScope(D)?_c(hd(l),oi):null,this.records.set(l,x)}if(null!=x)return this.hydrate(l,x)}return(h&Bt.Self?Ch():this.parent).get(l,c=h&Bt.Optional&&c===Lo?null:c)}catch(C){if("NullInjectorError"===C.name){if((C[ec]=C[ec]||[]).unshift(N(l)),p)throw C;return function(a,l,c,h){const p=a[ec];throw l[th]&&p.unshift(l[th]),a.message=function(a,l,c,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=N(l);if(Array.isArray(l))p=l.map(N).join(" -> ");else if("object"==typeof l){let _=[];for(let C in l)if(l.hasOwnProperty(C)){let x=l[C];_.push(C+":"+("string"==typeof x?JSON.stringify(x):N(x)))}p=`{${_.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${a.replace(rg,"\n  ")}`}("\n"+a.message,p,c,h),a.ngTokenPath=p,a[ec]=null,a}(C,l,"R3InjectorError",this.source)}throw C}finally{fn(_),kf(p)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,p)=>l.push(N(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,h){if(!(l=L(l)))return!1;let p=Xn(l);const _=null==p&&l.ngModule||void 0,C=void 0===_?l:_,x=-1!==h.indexOf(C);if(void 0!==_&&(p=Xn(_)),null==p)return!1;if(null!=p.imports&&!x){let j;h.push(C);try{Vi(p.imports,re=>{this.processInjectorType(re,c,h)&&(void 0===j&&(j=[]),j.push(re))})}finally{}if(void 0!==j)for(let re=0;re<j.length;re++){const{ngModule:Ce,providers:Fe}=j[re];Vi(Fe,st=>this.processProvider(st,Ce,Fe||he))}}this.injectorDefTypes.add(C);const D=ba(C)||(()=>new C);this.records.set(C,_c(D,oi));const P=p.providers;if(null!=P&&!x){const j=l;Vi(P,re=>this.processProvider(re,j,P))}return void 0!==_&&void 0!==l.providers}processProvider(l,c,h){let p=cu(l=L(l))?l:L(l&&l.provide);const _=(a=l,Eh(a)?_c(void 0,a.useValue):_c(Kg(a),oi));var a;if(cu(l)||!0!==l.multi)this.records.get(p);else{let C=this.records.get(p);C||(C=_c(void 0,oi,!0),C.factory=()=>Yc(C.multi),this.records.set(p,C)),p=l,C.multi.push(l)}this.records.set(p,_)}hydrate(l,c){return c.value===oi&&(c.value=lp,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=L(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function hd(a){const l=zn(a),c=null!==l?l.factory:ba(a);if(null!==c)return c;if(a instanceof G)throw new Error(`Token ${N(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=Ql(l,"?");throw new Error(`Can't resolve all parameters for ${N(a)}: (${h.join(", ")}).`)}const c=function(a){const l=a&&(a[Kn]||a[Mi]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function Kg(a,l,c){let h;if(cu(a)){const p=L(a);return ba(p)||hd(p)}if(Eh(a))h=()=>L(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Yc(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>Er(L(a.useExisting));else{const p=L(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return ba(p)||hd(p);h=()=>new p(...Yc(a.deps))}return h}function _c(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Eh(a){return null!==a&&"object"==typeof a&&rs in a}function cu(a){return"function"==typeof a}let Ho=(()=>{class a{static create(c,h){var p;if(Array.isArray(c))return qg({name:""},h,c,"");{const _=null!==(p=c.name)&&void 0!==p?p:"";return qg({name:_},c.parent,c.providers,_)}}}return a.THROW_IF_NOT_FOUND=Lo,a.NULL=new Zg,a.\u0275prov=Nt({token:a,providedIn:"any",factory:()=>Er(ls)}),a.__NG_ELEMENT_ID__=-1,a})();function h0(a,l){Ki(td(a)[1],Wi())}function f0(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const h=[a];for(;l;){let p;if(xi(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(c){h.push(p);const C=a;C.inputs=md(a.inputs),C.declaredInputs=md(a.declaredInputs),C.outputs=md(a.outputs);const x=p.hostBindings;x&&Rv(a,x);const D=p.viewQuery,P=p.contentQueries;if(D&&uu(a,D),P&&Mv(a,P),oe(a.inputs,p.inputs),oe(a.declaredInputs,p.declaredInputs),oe(a.outputs,p.outputs),xi(p)&&p.data.animation){const j=a.data;j.animation=(j.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const x=_[C];x&&x.ngInherit&&x(a),x===f0&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=ul(p.hostAttrs,c=ul(c,p.hostAttrs))}}(h)}function md(a){return a===be?{}:a===he?[]:a}function uu(a,l){const c=a.viewQuery;a.viewQuery=c?(h,p)=>{l(h,p),c(h,p)}:l}function Mv(a,l){const c=a.contentQueries;a.contentQueries=c?(h,p,_)=>{l(h,p,_),c(h,p,_)}:l}function Rv(a,l){const c=a.hostBindings;a.hostBindings=c?(h,p)=>{l(h,p),c(h,p)}:l}let Xg=null;function _d(){if(!Xg){const a=En.Symbol;if(a&&a.iterator)Xg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const h=l[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Xg=h)}}}return Xg}function kh(a){return!!dp(a)&&(Array.isArray(a)||!(a instanceof Map)&&_d()in a)}function dp(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Va(a,l,c){return a[l]=c}function Mh(a,l){return a[l]}function us(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function yd(a,l,c,h){const p=us(a,l,c);return us(a,l+1,h)||p}function em(a,l,c,h,p){const _=yd(a,l,c,h);return us(a,l+2,p)||_}function ha(a,l,c,h,p,_){const C=yd(a,l,c,h);return yd(a,l+2,p,_)||C}function Rh(a,l,c,h){const p=ut();return us(p,Uc(),l)&&(Ln(),Gi($i(),p,a,l,c,h)),Rh}function Ba(a,l,c,h){return us(a,Uc(),c)?l+$(c)+h:dn}function bc(a,l,c,h,p,_){const x=yd(a,Pt.lFrame.bindingIndex,c,p);return Ro(2),x?l+$(c)+h+$(p)+_:dn}function pp(a,l,c,h,p,_,C,x){const D=ut(),P=Ln(),j=a+20,re=P.firstCreatePass?function(a,l,c,h,p,_,C,x,D){const P=l.consts,j=_h(l,a,4,C||null,Gn(P,x));Qs(l,c,j,Gn(P,D)),Ki(l,j);const re=j.tViews=gc(2,j,h,p,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,P);return null!==l.queries&&(l.queries.template(l,j),re.queries=l.queries.embeddedTView(j)),j}(j,P,D,l,c,h,p,_,C):P.data[j];ks(re,!1);const Ce=D[11].createComment("");R_(P,D,Ce,re),bs(Ce,D),rp(D,D[j]=Wg(Ce,D,Ce,re)),tl(re)&&yh(P,D,re),null!=C&&ep(D,re,x)}function nm(a){return Se(Pt.lFrame.contextLView,20+a)}function Gt(a,l=Bt.Default){const c=ut();return null===c?Er(a,l):zr(Wi(),c,L(a),l)}function Qe(){throw new Error("invalid")}function Xt(a,l,c){const h=ut();return us(h,Uc(),l)&&Es(Ln(),$i(),h,a,l,h[11],c,!1),Xt}function an(a,l,c,h,p){const C=p?"class":"style";wv(a,c,l.inputs[C],C,h)}function yt(a,l,c,h){const p=ut(),_=Ln(),C=20+a,x=p[11],D=p[C]=$f(x,l,Pt.lFrame.currentNamespace),P=_.firstCreatePass?function(a,l,c,h,p,_,C){const x=l.consts,P=_h(l,a,2,p,Gn(x,_));return Qs(l,c,P,Gn(x,C)),null!==P.attrs&&La(P,P.attrs,!1),null!==P.mergedAttrs&&La(P,P.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,P),P}(C,_,p,0,l,c,h):_.data[C];ks(P,!0);const j=P.mergedAttrs;null!==j&&Li(x,D,j);const re=P.classes;null!==re&&O_(x,D,re);const Ce=P.styles;null!==Ce&&nv(x,D,Ce),64!=(64&P.flags)&&R_(_,p,D,P),0===Pt.lFrame.elementDepthCount&&bs(D,p),Pt.lFrame.elementDepthCount++,tl(P)&&(yh(_,p,P),Lg(_,P,p)),null!==h&&ep(p,P)}function Kt(){let a=Wi();jl()?Hd():(a=a.parent,ks(a,!1));const l=a;Pt.lFrame.elementDepthCount--;const c=Ln();c.firstCreatePass&&(Ki(c,a),Su(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&an(c,l,ut(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&an(c,l,ut(),l.stylesWithoutHost,!1)}function Ls(a,l,c,h){yt(a,l,c,h),Kt()}function dt(a,l,c){const h=ut(),p=Ln(),_=a+20,C=p.firstCreatePass?function(a,l,c,h,p){const _=l.consts,C=Gn(_,h),x=_h(l,a,8,"ng-container",C);return null!==C&&La(x,C,!0),Qs(l,c,x,Gn(_,p)),null!==l.queries&&l.queries.elementStart(l,x),x}(_,p,h,l,c):p.data[_];ks(C,!0);const x=h[_]=h[11].createComment("");R_(p,h,x,C),bs(x,h),tl(C)&&(yh(p,h,C),Lg(p,C,h)),null!=c&&ep(h,C)}function Ri(){let a=Wi();const l=Ln();jl()?Hd():(a=a.parent,ks(a,!1)),l.firstCreatePass&&(Ki(l,a),Su(a)&&l.queries.elementEnd(a))}function lm(a,l,c){dt(a,l,c),Ri()}function Gx(){return ut()}function Hw(a){return!!a&&"function"==typeof a.then}function Zx(a){return!!a&&"function"==typeof a.subscribe}const qx=Zx;function zw(a,l,c,h){const p=ut(),_=Ln(),C=Wi();return function(a,l,c,h,p,_,C,x){const D=tl(h),j=a.firstCreatePass&&vv(a),re=l[8],Ce=Ml(l);let Fe=!0;if(3&h.type||x){const Mt=Ur(h,l),jt=x?x(Mt):Mt,lt=Ce.length,pn=x?Nn=>x(Fi(Nn[h.index])):h.index;if(Di(c)){let Nn=null;if(!x&&D&&(Nn=function(a,l,c,h){const p=a.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===c&&p[_+1]===h){const x=l[7],D=p[_+2];return x.length>D?x[D]:null}"string"==typeof C&&(_+=2)}return null}(a,l,p,h.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=_,Nn.__ngLastListenerFn__=_,Fe=!1;else{_=$w(h,l,re,_,!1);const hi=c.listen(jt,p,_);Ce.push(_,hi),j&&j.push(p,pn,lt,lt+1)}}else _=$w(h,l,re,_,!0),jt.addEventListener(p,_,C),Ce.push(_),j&&j.push(p,pn,lt,C)}else _=$w(h,l,re,_,!1);const st=h.outputs;let Ct;if(Fe&&null!==st&&(Ct=st[p])){const Mt=Ct.length;if(Mt)for(let jt=0;jt<Mt;jt+=2){const Co=l[Ct[jt]][Ct[jt+1]].subscribe(_),zp=Ce.length;Ce.push(_,Co),j&&j.push(p,h.index,zp,-(zp+1))}}}(_,p,p[11],C,a,l,!!c,h),zw}function fa(a,l,c,h){try{return!1!==c(h)}catch(p){return ud(a,p),!1}}function $w(a,l,c,h,p){return function _(C){if(C===Function)return h;const x=2&a.flags?$e(a.index,l):l;0==(32&l[2])&&n0(x);let D=fa(l,0,h,C),P=_.__ngNextListenerFn__;for(;P;)D=fa(l,0,P,C)&&D,P=P.__ngNextListenerFn__;return p&&!1===D&&(C.preventDefault(),C.returnValue=!1),D}}function jw(a=1){return function(a){return(Pt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,Pt.lFrame.contextLView))[8]}(a)}function di(a,l){let c=null;const h=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const _=l[p];if("*"!==_){if(null===h?av(a,_,!0):lv(h,_))return p}else c=p}return c}function yp(a){const l=ut()[16][6];if(!l.projection){const h=l.projection=Ql(a?a.length:1,null),p=h.slice();let _=l.child;for(;null!==_;){const C=a?di(_,a):0;null!==C&&(p[C]?p[C].projectionNext=_:h[C]=_,p[C]=_),_=_.next}}}function Gw(a,l=0,c){const h=ut(),p=Ln(),_=_h(p,20+a,16,null,c||null);null===_.projection&&(_.projection=l),Hd(),64!=(64&_.flags)&&function(a,l,c){ev(l[11],0,l,c,Bi(a,c,l),k_(c.parent||l[6],c,l))}(p,h,_)}function ds(a,l,c){return Pn(a,"",l,"",c),ds}function Pn(a,l,c,h,p){const _=ut(),C=Ba(_,l,c,h);return C!==dn&&Es(Ln(),$i(),_,a,C,_[11],p,!1),Pn}function Cd(a,l,c,h,p){const _=a[c+1],C=null===l;let x=h?Tl(_):Fa(_),D=!1;for(;0!==x&&(!1===D||C);){const j=a[x+1];hs(a[x],l)&&(D=!0,a[x+1]=h?od(j):Ig(j)),x=h?Tl(j):Fa(j)}D&&(a[c+1]=h?Ig(_):od(_))}function hs(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Kc(a,l)>=0}const Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $v(a){return a.substring(Tr.key,Tr.keyEnd)}function Vh(a,l){const c=Tr.textEnd;return c===l?-1:(l=Tr.keyEnd=function(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Tr.key=l,c),Fl(a,l,c))}function Fl(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function um(a,l,c){return zo(a,l,c,!1),um}function T0(a,l){return zo(a,l,null,!0),T0}function Yw(a){!function(a,l,c,h){const p=Ln(),_=Ro(2);p.firstUpdatePass&&dr(p,null,_,h);const C=ut();if(c!==dn&&us(C,_,c)){const x=p.data[er()];if(rT(x,h)&&!Qw(p,_)){let D=h?x.classesWithoutHost:x.stylesWithoutHost;null!==D&&(c=W(D,c||"")),an(p,x,C,c,h)}else!function(a,l,c,h,p,_,C,x){p===dn&&(p=he);let D=0,P=0,j=0<p.length?p[0]:null,re=0<_.length?_[0]:null;for(;null!==j||null!==re;){const Ce=D<p.length?p[D+1]:void 0,Fe=P<_.length?_[P+1]:void 0;let Ct,st=null;j===re?(D+=2,P+=2,Ce!==Fe&&(st=re,Ct=Fe)):null===re||null!==j&&j<re?(D+=2,st=j):(P+=2,st=re,Ct=Fe),null!==st&&nT(a,l,c,h,st,Ct,C,x),j=D<p.length?p[D]:null,re=P<_.length?_[P]:null}}(p,x,C,C[11],C[_+1],C[_+1]=function(a,l,c){if(null==c||""===c)return he;const h=[],p=Da(c);if(Array.isArray(p))for(let _=0;_<p.length;_++)a(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&a(h,_,p[_]);else"string"==typeof p&&l(h,p);return h}(a,l,c),h,_)}}(ar,Ua,a,!0)}function Ua(a,l){for(let c=function(a){return function(a){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=a.length}(a),Vh(a,Fl(a,0,Tr.textEnd))}(l);c>=0;c=Vh(l,c))ar(a,$v(l),!0)}function zo(a,l,c,h){const p=ut(),_=Ln(),C=Ro(2);_.firstUpdatePass&&dr(_,a,C,h),l!==dn&&us(p,C,l)&&nT(_,_.data[er()],p,p[11],a,p[C+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=N(Da(a)))),a}(l,c),h,C)}function Qw(a,l){return l>=a.expandoStartIndex}function dr(a,l,c,h){const p=a.data;if(null===p[c+1]){const _=p[er()],C=Qw(a,c);rT(_,h)&&null===l&&!C&&(l=!1),l=function(a,l,c,h){const p=function(a){const l=Pt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(c=Bh(c=dm(null,a,l,c,h),l.attrs,h),_=null);else{const C=l.directiveStylingLast;if(-1===C||a[C]!==p)if(c=dm(p,a,l,c,h),null===_){let D=function(a,l,c){const h=c?l.classBindings:l.styleBindings;if(0!==Fa(h))return a[Tl(h)]}(a,l,h);void 0!==D&&Array.isArray(D)&&(D=dm(null,a,l,D[1],h),D=Bh(D,l.attrs,h),function(a,l,c,h){a[Tl(c?l.classBindings:l.styleBindings)]=h}(a,l,h,D))}else _=function(a,l,c){let h;const p=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<p;_++)h=Bh(h,a[_].hostAttrs,c);return Bh(h,l.attrs,c)}(a,l,h)}return void 0!==_&&(h?l.residualClasses=_:l.residualStyles=_),c}(p,_,l,h),function(a,l,c,h,p,_){let C=_?l.classBindings:l.styleBindings,x=Tl(C),D=Fa(C);a[h]=c;let j,P=!1;if(Array.isArray(c)){const re=c;j=re[1],(null===j||Kc(re,j)>0)&&(P=!0)}else j=c;if(p)if(0!==D){const Ce=Tl(a[x+1]);a[h+1]=L_(Ce,x),0!==Ce&&(a[Ce+1]=mh(a[Ce+1],h)),a[x+1]=function(a,l){return 131071&a|l<<17}(a[x+1],h)}else a[h+1]=L_(x,0),0!==x&&(a[x+1]=mh(a[x+1],h)),x=h;else a[h+1]=L_(D,0),0===x?x=h:a[D+1]=mh(a[D+1],h),D=h;P&&(a[h+1]=Ig(a[h+1])),Cd(a,j,h,!0),Cd(a,j,h,!1),function(a,l,c,h,p){const _=p?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Kc(_,l)>=0&&(c[h+1]=od(c[h+1]))}(l,j,a,h,_),C=L_(x,D),_?l.classBindings=C:l.styleBindings=C}(p,_,l,c,C,h)}}function dm(a,l,c,h,p){let _=null;const C=c.directiveEnd;let x=c.directiveStylingLast;for(-1===x?x=c.directiveStart:x++;x<C&&(_=l[x],h=Bh(h,_.hostAttrs,p),_!==a);)x++;return null!==a&&(c.directiveStylingLast=x),h}function Bh(a,l,c){const h=c?1:2;let p=-1;if(null!==l)for(let _=0;_<l.length;_++){const C=l[_];"number"==typeof C?p=C:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ar(a,C,!!c||l[++_]))}return void 0===a?null:a}function nT(a,l,c,h,p,_,C,x){if(!(3&l.type))return;const D=a.data,P=D[x+1];I0(function(a){return 1==(1&a)}(P)?iT(D,l,c,p,Fa(P),C):void 0)||(I0(_)||function(a){return 2==(2&a)}(P)&&(_=iT(D,null,c,p,x,C)),function(a,l,c,h,p){const _=Di(a);if(l)p?_?a.addClass(c,h):c.classList.add(h):_?a.removeClass(c,h):c.classList.remove(h);else{let C=-1===h.indexOf("-")?void 0:El.DashCase;if(null==p)_?a.removeStyle(c,h,C):c.style.removeProperty(h);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),C|=El.Important),_?a.setStyle(c,h,p,C):c.style.setProperty(h,p,x?"important":"")}}}(h,C,br(er(),c),p,_))}function iT(a,l,c,h,p,_){const C=null===l;let x;for(;p>0;){const D=a[p],P=Array.isArray(D),j=P?D[1]:D,re=null===j;let Ce=c[p+1];Ce===dn&&(Ce=re?he:void 0);let Fe=re?Yd(Ce,h):j===h?Ce:void 0;if(P&&!I0(Fe)&&(Fe=Yd(D,h)),I0(Fe)&&(x=Fe,C))return x;const st=a[p+1];p=C?Tl(st):Fa(st)}if(null!==l){let D=_?l.residualClasses:l.residualStyles;null!=D&&(x=Yd(D,h))}return x}function I0(a){return void 0!==a}function rT(a,l){return 0!=(a.flags&(l?16:32))}function sT(a,l=""){const c=ut(),h=Ln(),p=a+20,_=h.firstCreatePass?_h(h,p,1,l,null):h.data[p],C=c[p]=function(a,l){return Di(a)?a.createText(l):a.createTextNode(l)}(c[11],l);R_(h,c,C,_),ks(_,!1)}function Jw(a){return Uh("",a,""),Jw}function Uh(a,l,c){const h=ut(),p=Ba(h,a,l,c);return p!==dn&&mc(h,er(),p),Uh}function hm(a,l,c,h,p){const _=ut(),C=bc(_,a,l,c,h,p);return C!==dn&&mc(_,er(),C),hm}const Cc=void 0;var zI=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const c=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let hr={};function pm(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=gT(l);if(c)return c;const h=l.split("-")[0];if(c=gT(h),c)return c;if("en"===h)return zI;throw new Error(`Missing locale data for the locale "${a}".`)}function Yv(a){return pm(a)[yn.PluralCase]}function gT(a){return a in hr||(hr[a]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[a]),hr[a]}var yn=(()=>((yn=yn||{})[yn.LocaleId=0]="LocaleId",yn[yn.DayPeriodsFormat=1]="DayPeriodsFormat",yn[yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",yn[yn.DaysFormat=3]="DaysFormat",yn[yn.DaysStandalone=4]="DaysStandalone",yn[yn.MonthsFormat=5]="MonthsFormat",yn[yn.MonthsStandalone=6]="MonthsStandalone",yn[yn.Eras=7]="Eras",yn[yn.FirstDayOfWeek=8]="FirstDayOfWeek",yn[yn.WeekendRange=9]="WeekendRange",yn[yn.DateFormat=10]="DateFormat",yn[yn.TimeFormat=11]="TimeFormat",yn[yn.DateTimeFormat=12]="DateTimeFormat",yn[yn.NumberSymbols=13]="NumberSymbols",yn[yn.NumberFormats=14]="NumberFormats",yn[yn.CurrencyCode=15]="CurrencyCode",yn[yn.CurrencySymbol=16]="CurrencySymbol",yn[yn.CurrencyName=17]="CurrencyName",yn[yn.Currencies=18]="Currencies",yn[yn.Directionality=19]="Directionality",yn[yn.PluralCase=20]="PluralCase",yn[yn.ExtraData=21]="ExtraData",yn))();const M0="en-US";let _i=M0;function qh(a,l,c,h,p){if(a=L(a),Array.isArray(a))for(let _=0;_<a.length;_++)qh(a[_],l,c,h,p);else{const _=Ln(),C=ut();let x=cu(a)?a:L(a.provide),D=Kg(a);const P=Wi(),j=1048575&P.providerIndexes,re=P.directiveStart,Ce=P.providerIndexes>>20;if(cu(a)||!a.multi){const Fe=new Oo(D,p,Gt),st=Jv(x,l,p?j:j+Ce,re);-1===st?(fl(Po(P,C),_,x),EC(_,a,l.length),l.push(x),P.directiveStart++,P.directiveEnd++,p&&(P.providerIndexes+=1048576),c.push(Fe),C.push(Fe)):(c[st]=Fe,C[st]=Fe)}else{const Fe=Jv(x,l,j+Ce,re),st=Jv(x,l,j,j+Ce),Ct=Fe>=0&&c[Fe],Mt=st>=0&&c[st];if(p&&!Mt||!p&&!Ct){fl(Po(P,C),_,x);const jt=function(a,l,c,h,p){const _=new Oo(a,c,Gt);return _.multi=[],_.index=l,_.componentProviders=0,xC(_,p,h&&!c),_}(p?Xv:mt,c.length,p,h,D);!p&&Mt&&(c[st].providerFactory=jt),EC(_,a,l.length,0),l.push(x),P.directiveStart++,P.directiveEnd++,p&&(P.providerIndexes+=1048576),c.push(jt),C.push(jt)}else EC(_,a,Fe>-1?Fe:st,xC(c[p?st:Fe],D,!p&&h));!p&&h&&Mt&&c[st].componentProviders++}}}function EC(a,l,c,h){const p=cu(l),_=function(a){return!!a.useClass}(l);if(p||_){const D=(_?L(l.useClass):l).prototype.ngOnDestroy;if(D){const P=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const j=P.indexOf(c);-1===j?P.push(c,[h,D]):P[j+1].push(h,D)}else P.push(c,D)}}}function xC(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function Jv(a,l,c,h){for(let p=c;p<h;p++)if(l[p]===a)return p;return-1}function mt(a,l,c,h){return Wa(this.multi,[])}function Xv(a,l,c,h){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,x=$c(c,c[1],this.providerFactory.index,h);_=x.slice(0,C),Wa(p,_);for(let D=C;D<x.length;D++)_.push(x[D])}else _=[],Wa(p,_);return _}function Wa(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function ym(a,l=[]){return c=>{c.providersResolver=(h,p)=>function(a,l,c){const h=Ln();if(h.firstCreatePass){const p=xi(a);qh(c,h.data,h.blueprint,p,!0),qh(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class LT{}class BT{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${N(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Us=(()=>{class a{}return a.NULL=new BT,a})();function SC(){return Kh(Wi(),ut())}function Kh(a,l){return new Ul(Ur(a,l))}let Ul=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=SC,a})();function UT(a){return a instanceof Ul?a.nativeElement:a}class IC{}let DC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function(){const a=ut(),c=$e(Wi().index,a);return function(a){return a[11]}(As(c)?c:a)}(),a})(),bm=(()=>{class a{}return a.\u0275prov=Nt({token:a,providedIn:"root",factory:()=>null}),a})();class kp{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const wm=new kp("13.1.1"),eb={};function Cm(a,l,c,h,p=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&h.push(Fi(_)),Zr(_))for(let x=10;x<_.length;x++){const D=_[x],P=D[1].firstChild;null!==P&&Cm(D[1],D,P,h)}const C=c.type;if(8&C)Cm(a,l,c.child,h);else if(32&C){const x=S_(c,l);let D;for(;D=x();)h.push(D)}else if(16&C){const x=xg(l,c);if(Array.isArray(x))h.push(...x);else{const D=su(l[16]);Cm(D[1],D,x,h,!0)}}c=p?c.projectionNext:c.next}return h}class V0{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Cm(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Zr(l)){const c=l[8],h=c?c.indexOf(this):-1;h>-1&&(vg(l,h),ml(c,h))}this._attachedToViewContainer=!1}A_(this._lView[1],this._lView)}onDestroy(l){K_(this._lView[1],this._lView,null,l)}markForCheck(){n0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){Ea(!0);try{wh(a,l,c)}finally{Ea(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,qf(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class WT extends V0{constructor(l){super(l),this._view=l}detectChanges(){cd(this._view)}checkNoChanges(){!function(a){Ea(!0);try{cd(a)}finally{Ea(!1)}}(this._view)}get context(){return null}}class AC extends Us{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Qt(l);return new tb(c,this.ngModule)}}function $T(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const aD=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ru});class tb extends LT{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(xr).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return $T(this.componentDef.inputs)}get outputs(){return $T(this.componentDef.outputs)}create(l,c,h,p){const _=(p=p||this.ngModule)?function(a,l){return{get:(c,h,p)=>{const _=a.get(c,eb,p);return _!==eb||h===eb?_:l.get(c,h,p)}}}(l,p.injector):l,C=_.get(IC,co),x=_.get(bm,null),D=C.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",j=h?function(a,l,c){if(Di(a))return a.selectRootElement(l,c===bt.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(D,h,this.componentDef.encapsulation):$f(C.createRenderer(null,this.componentDef),P,function(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(P)),re=this.componentDef.onPush?576:528,Ce=function(a,l){return{components:[],scheduler:a||ru,clean:vo,playerHandler:l||null,flags:0}}(),Fe=gc(0,null,null,1,0,null,null,null,null,null),st=Al(null,Fe,Ce,re,null,null,C,D,x,_);let Ct,Mt;Wd(st);try{const jt=function(a,l,c,h,p,_){const C=c[1];c[20]=a;const D=_h(C,20,2,"#host",null),P=D.mergedAttrs=l.hostAttrs;null!==P&&(La(D,P,!0),null!==a&&(Li(p,a,P),null!==D.classes&&O_(p,a,D.classes),null!==D.styles&&nv(p,a,D.styles)));const j=h.createRenderer(a,l),re=Al(c,Vg(l),null,l.onPush?64:16,c[20],D,h,j,_||null,null);return C.firstCreatePass&&(fl(Po(D,c),C,l.type),lr(C,D),Hg(D,c.length,1)),rp(c,re),c[20]=re}(j,this.componentDef,st,C,D);if(j)if(h)Li(D,j,["ng-version",wm.full]);else{const{attrs:lt,classes:pn}=function(a){const l=[],c=[];let h=1,p=2;for(;h<a.length;){let _=a[h];if("string"==typeof _)2===p?""!==_&&l.push(_,a[++h]):8===p&&c.push(_);else{if(!Pa(p))break;p=_}h++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);lt&&Li(D,j,lt),pn&&pn.length>0&&O_(D,j,pn.join(" "))}if(Mt=te(Fe,20),void 0!==c){const lt=Mt.projection=[];for(let pn=0;pn<this.ngContentSelectors.length;pn++){const Nn=c[pn];lt.push(null!=Nn?Array.from(Nn):null)}}Ct=function(a,l,c,h,p){const _=c[1],C=function(a,l,c){const h=Wi();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),zg(a,h,l,da(a,l,1,null),c));const p=$c(l,a,h.directiveStart,h);bs(p,l);const _=Ur(h,l);return _&&bs(_,l),p}(_,c,l);if(h.components.push(C),a[8]=C,p&&p.forEach(D=>D(C,l)),l.contentQueries){const D=Wi();l.contentQueries(1,C,D.directiveStart)}const x=Wi();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(cl(x.index),X_(c[1],x,0,x.directiveStart,x.directiveEnd,l),e0(l,C)),C}(jt,this.componentDef,st,Ce,[h0]),au(Fe,st,null)}finally{yf()}return new nb(this.componentType,Ct,Kh(Mt,st),st,Mt)}}class nb extends class{}{constructor(l,c,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new WT(p),this.componentType=l}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Mp{}class Id{}const xc=new Map;class Qh extends Mp{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AC(this);const h=ui(l);this._bootstrapComponents=Cl(h.bootstrap),this._r3Injector=s0(l,c,[{provide:Mp,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],N(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Ho.THROW_IF_NOT_FOUND,h=Bt.Default){return l===Ho||l===Mp||l===ls?this:this._r3Injector.get(l,c,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class U0 extends Id{constructor(l){super(),this.moduleType=l,null!==ui(l)&&function(a){const l=new Set;!function c(h){const p=ui(h,!0),_=p.id;null!==_&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${N(l)} vs ${N(l.name)}`)}(_,xc.get(_),h),xc.set(_,h));const C=Cl(p.imports);for(const x of C)l.has(x)||(l.add(x),c(x))}(a)}(l)}create(l){return new Qh(this.moduleType,l)}}function OC(a,l,c){const h=Hr()+a,p=ut();return p[h]===dn?Va(p,h,c?l.call(c):l()):Mh(p,h)}function GT(a,l,c,h){return Dd(ut(),Hr(),a,l,c,h)}function ZT(a,l,c,h,p){return function(a,l,c,h,p,_,C){const x=l+c;return yd(a,x,p,_)?Va(a,x+2,C?h.call(C,p,_):h(p,_)):Em(a,x+2)}(ut(),Hr(),a,l,c,h,p)}function qT(a,l,c,h,p,_){return function(a,l,c,h,p,_,C,x){const D=l+c;return em(a,D,p,_,C)?Va(a,D+3,x?h.call(x,p,_,C):h(p,_,C)):Em(a,D+3)}(ut(),Hr(),a,l,c,h,p,_)}function KT(a,l,c,h,p,_,C){return function(a,l,c,h,p,_,C,x,D){const P=l+c;return ha(a,P,p,_,C,x)?Va(a,P+4,D?h.call(D,p,_,C,x):h(p,_,C,x)):Em(a,P+4)}(ut(),Hr(),a,l,c,h,p,_,C)}function H0(a,l,c,h,p,_,C,x){const D=Hr()+a,P=ut(),j=ha(P,D,c,h,p,_);return us(P,D+4,C)||j?Va(P,D+5,x?l.call(x,c,h,p,_,C):l(c,h,p,_,C)):Mh(P,D+5)}function Op(a,l,c,h,p,_,C,x,D){const P=Hr()+a,j=ut(),re=ha(j,P,c,h,p,_);return yd(j,P+4,C,x)||re?Va(j,P+6,D?l.call(D,c,h,p,_,C,x):l(c,h,p,_,C,x)):Mh(j,P+6)}function PC(a,l,c,h,p,_,C,x,D,P){const j=Hr()+a,re=ut();let Ce=ha(re,j,c,h,p,_);return em(re,j+4,C,x,D)||Ce?Va(re,j+7,P?l.call(P,c,h,p,_,C,x,D):l(c,h,p,_,C,x,D)):Mh(re,j+7)}function YT(a,l,c,h){return function(a,l,c,h,p,_){let C=l+c,x=!1;for(let D=0;D<p.length;D++)us(a,C++,p[D])&&(x=!0);return x?Va(a,C,h.apply(_,p)):Em(a,C)}(ut(),Hr(),a,l,c,h)}function Em(a,l){const c=a[l];return c===dn?void 0:c}function Dd(a,l,c,h,p,_){const C=l+c;return us(a,C,p)?Va(a,C+1,_?h.call(_,p):h(p)):Em(a,C+1)}function rb(a,l){const c=Ln();let h;const p=a+20;c.firstCreatePass?(h=function(a,l){if(l)for(let c=l.length-1;c>=0;c--){const h=l[c];if(a===h.name)return h}}(l,c.pipeRegistry),c.data[p]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,h.onDestroy)):h=c.data[p];const _=h.factory||(h.factory=ba(h.type)),C=fn(Gt);try{const x=dl(!1),D=_();return dl(x),function(a,l,c,h){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=h}(c,ut(),p,D),D}finally{fn(C)}}function $0(a,l,c){const h=a+20,p=ut(),_=Se(p,h);return function(a,l){return a[1].data[l].pure}(p,h)?Dd(p,Hr(),l,_.transform,c,_):_.transform(c)}function sb(a){return l=>{setTimeout(a,void 0,l)}}const Tc=class extends s.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,h){var p,_,C;let x=l,D=c||(()=>null),P=h;if(l&&"object"==typeof l){const re=l;x=null===(p=re.next)||void 0===p?void 0:p.bind(re),D=null===(_=re.error)||void 0===_?void 0:_.bind(re),P=null===(C=re.complete)||void 0===C?void 0:C.bind(re)}this.__isAsync&&(D=sb(D),x&&(x=sb(x)),P&&(P=sb(P)));const j=super.subscribe({next:x,error:D,complete:P});return l instanceof T.w&&l.add(j),j}};function VC(){return this._results[_d()]()}class BC{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=_d(),h=BC.prototype;h[c]||(h[c]=VC)}get changes(){return this._changes||(this._changes=new Tc)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const h=this;h.dirty=!1;const p=Cr(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],_=l[h];if(c&&(p=c(p),_=c(_)),_!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tm=(()=>{class a{}return a.__NG_ELEMENT_ID__=gD,a})();const pD=Tm,XT=class extends pD{constructor(l,c,h){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(l){const c=this._declarationTContainer.tViews,h=Al(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),au(c,h,l),new V0(h)}};function gD(){return Ad(Wi(),ut())}function Ad(a,l){return 4&a.type?new XT(l,a,Kh(a,l)):null}let kd=(()=>{class a{}return a.__NG_ELEMENT_ID__=UC,a})();function UC(){return ab(Wi(),ut())}const ob=kd,HC=class extends ob{constructor(l,c,h){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=h}get element(){return Kh(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const l=na(this._hostTNode,this._hostLView);if(po(l)){const c=ta(l,this._hostLView),h=ea(l);return new js(c[1].data[h+8],c)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=zC(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,h){const p=l.createEmbeddedView(c||{});return this.insert(p,h),p}createComponent(l,c,h,p,_){const C=l&&!("function"==typeof l);let x;if(C)x=c;else{const re=c||{};x=re.index,h=re.injector,p=re.projectableNodes,_=re.ngModuleRef}const D=C?l:new tb(Qt(l)),P=h||this.parentInjector;if(!_&&null==D.ngModule&&P){const re=P.get(Mp,null);re&&(_=re)}const j=D.create(P,p,void 0,_);return this.insert(j.hostView,x),j}insert(l,c){const h=l._lView,p=h[1];if(Zr(h[3])){const j=this.indexOf(l);if(-1!==j)this.detach(j);else{const re=h[3],Ce=new HC(re,re[6],re[3]);Ce.detach(Ce.indexOf(l))}}const _=this._adjustIndex(c),C=this._lContainer;!function(a,l,c,h){const p=10+h,_=c.length;h>0&&(c[p-1][4]=l),h<_-10?(l[4]=c[p],Kd(c,10+h,l)):(c.push(l),l[4]=null),l[3]=c;const C=l[17];null!==C&&c!==C&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(C,l);const x=l[19];null!==x&&x.insertView(a),l[2]|=128}(p,h,C,_);const x=Tg(_,C),D=h[11],P=wg(D,C[7]);return null!==P&&function(a,l,c,h,p,_){h[0]=p,h[6]=l,qf(a,h,c,1,p,_)}(p,C[6],D,h,P,x),l.attachToViewContainerRef(),Kd(WC(C),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=zC(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),h=vg(this._lContainer,c);h&&(ml(WC(this._lContainer),c),A_(h[1],h))}detach(l){const c=this._adjustIndex(l,-1),h=vg(this._lContainer,c);return h&&null!=ml(WC(this._lContainer),c)?new V0(h):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function zC(a){return a[8]}function WC(a){return a[8]||(a[8]=[])}function ab(a,l){let c;const h=l[a.index];if(Zr(h))c=h;else{let p;if(8&a.type)p=Fi(h);else{const _=l[11];p=_.createComment("");const C=Ur(a,l);Ma(_,wg(_,C),p,function(a,l){return Di(a)?a.nextSibling(l):l.nextSibling}(_,C),!1)}l[a.index]=c=Wg(h,l,p,a),rp(l,c)}return new HC(c,a,l)}class j0{constructor(l){this.queryList=l,this.matches=null}clone(){return new j0(this.queryList)}setDirty(){this.queryList.setDirty()}}class jC{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const h=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let _=0;_<h;_++){const C=c.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new jC(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==db(l,c).matches&&this.queries[c].setDirty()}}class lb{constructor(l,c,h=null){this.predicate=l,this.flags=c,this.read=h}}class ps{constructor(l=[]){this.queries=l}elementStart(l,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,_=this.getByIndex(h).embeddedTView(l,p);_&&(_.indexInDeclarationView=h,null!==c?c.push(_):c=[_])}return null!==c?new ps(c):null}template(l,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class GC{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new GC(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(l,c,_D(c,_)),this.matchTNodeWithReadOption(l,c,Yi(c,l,_,!1,!1))}else h===Tm?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Yi(c,l,h,!1,!1))}matchTNodeWithReadOption(l,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Ul||p===kd||p===Tm&&4&c.type)this.addMatch(c.index,-2);else{const _=Yi(c,l,p,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,h)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function _D(a,l){const c=a.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===l)return c[h+1];return null}function vD(a,l,c,h){return-1===c?function(a,l){return 11&a.type?Kh(a,l):4&a.type?Ad(a,l):null}(l,a):-2===c?function(a,l,c){return c===Ul?Kh(l,a):c===Tm?Ad(l,a):c===kd?ab(l,a):void 0}(a,l,h):$c(a,a[1],c,l)}function e1(a,l,c,h){const p=l[19].queries[h];if(null===p.matches){const _=a.data,C=c.matches,x=[];for(let D=0;D<C.length;D+=2){const P=C[D];x.push(P<0?null:vD(l,_[P],C[D+1],c.metadata.read))}p.matches=x}return p.matches}function G0(a,l,c,h){const p=a.queries.getByIndex(c),_=p.matches;if(null!==_){const C=e1(a,l,p,c);for(let x=0;x<_.length;x+=2){const D=_[x];if(D>0)h.push(C[x/2]);else{const P=_[x+1],j=l[-D];for(let re=10;re<j.length;re++){const Ce=j[re];Ce[17]===Ce[3]&&G0(Ce[1],Ce,P,h)}if(null!==j[9]){const re=j[9];for(let Ce=0;Ce<re.length;Ce++){const Fe=re[Ce];G0(Fe[1],Fe,P,h)}}}}}return h}function ZC(a){const l=ut(),c=Ln(),h=mf();Ws(h+1);const p=db(c,h);if(a.dirty&&gt(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const _=p.crossesNgTemplate?G0(c,l,h,[]):e1(c,l,p,h);a.reset(_,UT),a.notifyOnChanges()}return!0}return!1}function qC(a,l,c){const h=Ln();h.firstCreatePass&&(ub(h,new lb(a,l,c),-1),2==(2&l)&&(h.staticViewQueries=!0)),K0(h,ut(),l)}function cb(a,l,c,h){const p=Ln();if(p.firstCreatePass){const _=Wi();ub(p,new lb(l,c,h),_.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}K0(p,ut(),c)}function Z0(){return a=ut(),l=mf(),a[19].queries[l].queryList;var a,l}function K0(a,l,c){const h=new BC(4==(4&c));K_(a,l,h,h.destroy),null===l[19]&&(l[19]=new jC),l[19].queries.push(new j0(h))}function ub(a,l,c){null===a.queries&&(a.queries=new ps),a.queries.track(new GC(l,c))}function db(a,l){return a.queries.getByIndex(l)}function YC(a,l){return Ad(a,l)}function Am(...a){}const Xh=new G("Application Initializer");let Vp=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Am,this.reject=Am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Hw(_))c.push(_);else if(qx(_)){const C=new Promise((x,D)=>{_.subscribe({complete:x,error:D})});c.push(C)}}Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Er(Xh,8))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})();const Bp=new G("AppId"),kD={provide:Bp,useFactory:function(){return`${ny()}${ny()}${ny()}`},deps:[]};function ny(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yb=new G("Platform Initializer"),vb=new G("Platform ID"),bb=new G("appBootstrapListener");let h1=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})();const km=new G("LocaleId"),wb=new G("DefaultCurrencyCode");class f1{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Cb=(()=>{class a{compileModuleSync(c){return new U0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),_=Cl(ui(c).declarations).reduce((C,x)=>{const D=Qt(x);return D&&C.push(new tb(D)),C},[]);return new f1(h,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})();const OD=(()=>Promise.resolve(0))();function lE(a){"undefined"==typeof Zone?OD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class $a{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tc(!1),this.onMicrotaskEmpty=new Tc(!1),this.onStable=new Tc(!1),this.onError=new Tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let a=En.requestAnimationFrame,l=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(En,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,ry(a),a.isCheckStableRunning=!0,iy(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),ry(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,_,C,x)=>{try{return g1(a),c.invokeTask(p,_,C,x)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),Eb(a)}},onInvoke:(c,h,p,_,C,x,D)=>{try{return g1(a),c.invoke(p,_,C,x,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),Eb(a)}},onHasTask:(c,h,p,_)=>{c.hasTask(p,_),h===p&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,ry(a),iy(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,h,p,_)=>(c.handleError(p,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$a.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($a.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,h){return this._inner.run(l,c,h)}runTask(l,c,h,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,l,cE,Am,Am);try{return _.runTask(C,c,h)}finally{_.cancelTask(C)}}runGuarded(l,c,h){return this._inner.runGuarded(l,c,h)}runOutsideAngular(l){return this._outer.run(l)}}const cE={};function iy(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function ry(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function g1(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Eb(a){a._nesting--,iy(a)}class m1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tc,this.onMicrotaskEmpty=new Tc,this.onStable=new Tc,this.onError=new Tc}run(l,c,h){return l.apply(c,h)}runGuarded(l,c,h){return l.apply(c,h)}runOutsideAngular(l){return l()}runTask(l,c,h,p){return l.apply(c,h)}}let xb=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$a.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,h,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(Er($a))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})(),dE=(()=>{class a{constructor(){this._applications=new Map,fE.addToWindow(this)}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return fE.findTestabilityInTree(this,c,h)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})();class FD{addToWindow(l){}findTestabilityInTree(l,c,h){return null}}function hE(a){fE=a}let ja,fE=new FD;const Tb=new G("AllowMultipleToken");class gE{constructor(l,c){this.name=l,this.token=c}}function Up(a,l,c=[]){const h=`Platform: ${l}`,p=new G(h);return(_=[])=>{let C=v1();if(!C||C.injector.get(Tb,!1))if(a)a(c.concat(_).concat({provide:p,useValue:!0}));else{const x=c.concat(_).concat({provide:p,useValue:!0},{provide:xs,useValue:"platform"});!function(a){if(ja&&!ja.destroyed&&!ja.injector.get(Tb,!1))throw new ie("400","");ja=a.get(Sb);const l=a.get(yb,null);l&&l.forEach(c=>c())}(Ho.create({providers:x,name:h}))}return function(a){const l=v1();if(!l)throw new ie("401","");return l}()}}function v1(){return ja&&!ja.destroyed?ja:null}let Sb=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const x=function(a,l){let c;return c="noop"===a?new m1:("zone.js"===a?void 0:a)||new $a({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),D=[{provide:$a,useValue:x}];return x.run(()=>{const P=Ho.create({providers:D,parent:this.injector,name:c.moduleType.name}),j=c.create(P),re=j.injector.get(Hf,null);if(!re)throw new ie("402","");return x.runOutsideAngular(()=>{const Ce=x.onError.subscribe({next:Fe=>{re.handleError(Fe)}});j.onDestroy(()=>{yE(this._modules,j),Ce.unsubscribe()})}),function(a,l,c){try{const h=c();return Hw(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(re,x,()=>{const Ce=j.injector.get(Vp);return Ce.runInitializers(),Ce.donePromise.then(()=>(function(a){He(a,"Expected localeId to be defined"),"string"==typeof a&&(_i=a.toLowerCase().replace(/_/g,"-"))}(j.injector.get(km,M0)||M0),this._moduleDoBootstrap(j),j))})})}bootstrapModule(c,h=[]){const p=b1({},h);return function(a,l,c){const h=new U0(c);return Promise.resolve(h)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(c){const h=c.injector.get(Hp);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new ie("403","");c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie("404","");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Er(Ho))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})();function b1(a,l){return Array.isArray(l)?l.reduce(b1,a):Object.assign(Object.assign({},a),l)}let Hp=(()=>{class a{constructor(c,h,p,_,C){this._zone=c,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=_,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new F.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),D=new F.y(P=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{$a.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{$a.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{j.unsubscribe(),re.unsubscribe()}});this.isStable=(0,X.T)(x,D.pipe((0,ue.B)()))}bootstrap(c,h){if(!this._initStatus.done)throw new ie("405","");let p;p=c instanceof LT?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(p.componentType);const _=function(a){return a.isBoundToModule}(p)?void 0:this._injector.get(Mp),x=p.create(Ho.NULL,[],h||p.selector,_),D=x.location.nativeElement,P=x.injector.get(xb,null),j=P&&x.injector.get(dE);return P&&j&&j.registerApplication(D,P),x.onDestroy(()=>{this.detachView(x.hostView),yE(this.components,x),j&&j.unregisterApplication(D)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new ie("101","");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;yE(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(bb,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Er($a),Er(Ho),Er(Hf),Er(Us),Er(Vp))},a.\u0275prov=Nt({token:a,factory:a.\u0275fac}),a})();function yE(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let C1=!0,Ib=!1;function BD(){return Ib=!0,C1}function bE(){if(Ib)throw new Error("Cannot enable prod mode after platform setup.");C1=!1}let CE=(()=>{class a{}return a.__NG_ELEMENT_ID__=x1,a})();function x1(a){return function(a,l,c){if(so(a)&&!c){const h=$e(a.index,l);return new V0(h,h)}return 47&a.type?new V0(l[16],l):null}(Wi(),ut(),16==(16&a))}class kb{constructor(){}supports(l){return kh(l)}create(l){return new kE(l)}}const N1=(a,l)=>l;class kE{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||N1}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,h=this._removalsHead,p=0,_=null;for(;c||h;){const C=!h||c&&c.currentIndex<L1(h,p,_)?c:h,x=L1(C,p,_),D=C.currentIndex;if(C===h)p--,h=h._nextRemoved;else if(c=c._next,null==C.previousIndex)p++;else{_||(_=[]);const P=x-p,j=D-p;if(P!=j){for(let Ce=0;Ce<P;Ce++){const Fe=Ce<_.length?_[Ce]:_[Ce]=0,st=Fe+Ce;j<=st&&st<P&&(_[Ce]=Fe+1)}_[C.previousIndex]=j-P}}x!==D&&l(C,x,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!kh(l))throw new Error(`Error trying to diff '${N(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,_,C,c=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let x=0;x<this.length;x++)_=l[x],C=this._trackByFn(x,_),null!==c&&Object.is(c.trackById,C)?(h&&(c=this._verifyReinsertion(c,_,C,x)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,C,x),h=!0),c=c._next}else p=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[_d()]();let h;for(;!(h=c.next()).done;)l(h.value)}}(l,x=>{C=this._trackByFn(p,x),null!==c&&Object.is(c.trackById,C)?(h&&(c=this._verifyReinsertion(c,x,C,p)),Object.is(c.item,x)||this._addIdentityChange(c,x)):(c=this._mismatch(c,x,C,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,h,p){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,p)):l=this._addAfter(new Rm(c,h),_,p),l}_verifyReinsertion(l,c,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?l=this._reinsertAfter(_,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,_=l._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(l,c,h),this._addToMoves(l,h),l}_moveAfter(l,c,h){return this._unlink(l),this._insertAfter(l,c,h),this._addToMoves(l,h),l}_addAfter(l,c,h){return this._insertAfter(l,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,h){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new F1),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,h=l._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F1),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Rm{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ME{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const c=l._prevDup,h=l._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class F1{constructor(){this.map=new Map}put(l){const c=l.trackById;let h=this.map.get(c);h||(h=new ME,this.map.set(c,h)),h.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L1(a,l,c){const h=a.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+l+p}class V1{constructor(){}supports(l){return l instanceof Map||dp(l)}create(){return new B1}}class B1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||dp(l)))throw new Error(`Error trying to diff '${N(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const h=l._prev;return c._next=l,c._prev=h,l._prev=c,h&&(h._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const h=new $D(l);return this._records.set(l,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(h=>c(l[h],h))}}class $D{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RE(){return new Mb([new kb])}let Mb=(()=>{class a{constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:h=>a.create(c,h||RE()),deps:[[a,new Qr,new Vo]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=Nt({token:a,providedIn:"root",factory:RE}),a})();function U1(){return new Rb([new V1])}let Rb=(()=>{class a{constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:h=>a.create(c,h||U1()),deps:[[a,new Qr,new Vo]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=Nt({token:a,providedIn:"root",factory:U1}),a})();const GD=[new V1],H1=new Mb([new kb]),OE=new Rb(GD),z1=Up(null,"core",[{provide:vb,useValue:"unknown"},{provide:Sb,deps:[Ho]},{provide:dE,deps:[]},{provide:h1,deps:[]}]),j1=[{provide:Hp,useClass:Hp,deps:[$a,Ho,Hf,Us,Vp]},{provide:aD,deps:[$a],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Vp,useClass:Vp,deps:[[new Vo,Xh]]},{provide:Cb,useClass:Cb,deps:[]},kD,{provide:Mb,useFactory:function(){return H1},deps:[]},{provide:Rb,useFactory:function(){return OE},deps:[]},{provide:km,useFactory:function(a){return a||"undefined"!=typeof $localize&&$localize.locale||M0},deps:[[new Qi(km),new Vo,new Qr]]},{provide:wb,useValue:"USD"}];let qD=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Er(Hp))},a.\u0275mod=ge({type:a}),a.\u0275inj=bn({providers:j1}),a})()},3942:(qe,Ae,O)=>{"use strict";O.d(Ae,{Z:()=>ie});var s=O(2090),T=O(4859),F=O(9681),X=O(1877);class ue{constructor(ee,$){this._delegate=ee,this.firebase=$,(0,F._addComponent)(ee,new T.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ee,$=F._DEFAULT_ENTRY_NAME){var K;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(ee);return!pe.isInitialized()&&"EXPLICIT"===(null===(K=pe.getComponent())||void 0===K?void 0:K.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:$})}_removeServiceInstance(ee,$=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance($)}_addComponent(ee){(0,F._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,F._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function W(){const se=function(se){const ee={},$={__esModule:!0,initializeApp:function(me,it={}){const ve=F.initializeApp(me,it);if((0,s.r3)(ee,ve.name))return ee[ve.name];const ae=new se(ve,$);return ee[ve.name]=ae,ae},app:pe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(me){const it=me.name,ve=it.replace("-compat","");if(F._registerComponent(me)&&"PUBLIC"===me.type){const ae=(ye=pe())=>{if("function"!=typeof ye[ve])throw oe.create("invalid-app-argument",{appName:it});return ye[ve]()};void 0!==me.serviceProps&&(0,s.ZB)(ae,me.serviceProps),$[ve]=ae,se.prototype[ve]=function(...ye){return this._getService.bind(this,it).apply(this,me.multipleInstances?ye:[])}}return"PUBLIC"===me.type?$[ve]:null},removeApp:function(me){delete ee[me]},useAsService:function(me,it){return"serverAuth"===it?null:it},modularAPIs:F}};function pe(me){if(!(0,s.r3)(ee,me=me||F._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:me});return ee[me]}return $.default=$,Object.defineProperty($,"apps",{get:function(){return Object.keys(ee).map(me=>ee[me])}}),pe.App=se,$}(ue);return se.INTERNAL=Object.assign(Object.assign({},se.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function($){(0,s.ZB)(se,$)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),se}(),M=new X.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){M.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const se=self.firebase.SDK_VERSION;se&&se.indexOf("LITE")>=0&&M.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=R;(0,F.registerVersion)("@firebase/app-compat","0.1.13",undefined)},9681:(qe,Ae,O)=>{"use strict";O.r(Ae),O.d(Ae,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>et,_addOrOverwriteComponent:()=>Sn,_apps:()=>He,_clearComponents:()=>bn,_components:()=>Ze,_getProvider:()=>Nt,_registerComponent:()=>sn,_removeServiceInstance:()=>St,deleteApp:()=>Mi,getApp:()=>Kn,getApps:()=>jn,initializeApp:()=>Xn,onLog:()=>on,registerVersion:()=>Bt,setLogLevel:()=>Vn});var s=O(5861),T=O(4859),F=O(1877),X=O(2090);class ue{constructor(Ut){this.container=Ut}getPlatformInfoString(){return this.container.getProviders().map(vn=>{if(function(Rt){const Ut=Rt.getComponent();return"VERSION"===(null==Ut?void 0:Ut.type)}(vn)){const en=vn.getImmediate();return`${en.library}/${en.version}`}return null}).filter(vn=>vn).join(" ")}}const oe="@firebase/app",N="0.7.12",W=new F.Yd("@firebase/app"),zt="[DEFAULT]",Be={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},He=new Map,Ze=new Map;function et(Rt,Ut){try{Rt.container.addComponent(Ut)}catch(vn){W.debug(`Component ${Ut.name} failed to register with FirebaseApp ${Rt.name}`,vn)}}function Sn(Rt,Ut){Rt.container.addOrOverwriteComponent(Ut)}function sn(Rt){const Ut=Rt.name;if(Ze.has(Ut))return W.debug(`There were multiple attempts to register component ${Ut}.`),!1;Ze.set(Ut,Rt);for(const vn of He.values())et(vn,Rt);return!0}function Nt(Rt,Ut){return Rt.container.getProvider(Ut)}function St(Rt,Ut,vn=zt){Nt(Rt,Ut).clearInstance(vn)}function bn(){Ze.clear()}const Ni=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class pi{constructor(Ut,vn,en){this._isDeleted=!1,this._options=Object.assign({},Ut),this._config=Object.assign({},vn),this._name=vn.name,this._automaticDataCollectionEnabled=vn.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new T.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ut){this._isDeleted=Ut}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const Wn="9.6.2";function Xn(Rt,Ut={}){"object"!=typeof Ut&&(Ut={name:Ut});const vn=Object.assign({name:zt,automaticDataCollectionEnabled:!1},Ut),en=vn.name;if("string"!=typeof en||!en)throw Ni.create("bad-app-name",{appName:String(en)});const ti=He.get(en);if(ti){if((0,X.vZ)(Rt,ti.options)&&(0,X.vZ)(vn,ti.config))return ti;throw Ni.create("duplicate-app",{appName:en})}const Cn=new T.H0(en);for(const It of Ze.values())Cn.addComponent(It);const bt=new pi(Rt,vn,Cn);return He.set(en,bt),bt}function Kn(Rt=zt){const Ut=He.get(Rt);if(!Ut)throw Ni.create("no-app",{appName:Rt});return Ut}function jn(){return Array.from(He.values())}function Mi(Rt){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(Rt){const Ut=Rt.name;He.has(Ut)&&(He.delete(Ut),yield Promise.all(Rt.container.getProviders().map(vn=>vn.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function Bt(Rt,Ut,vn){var en;let ti=null!==(en=Be[Rt])&&void 0!==en?en:Rt;vn&&(ti+=`-${vn}`);const Cn=ti.match(/\s|\//),bt=Ut.match(/\s|\//);if(Cn||bt){const It=[`Unable to register library "${ti}" with version "${Ut}":`];return Cn&&It.push(`library name "${ti}" contains illegal characters (whitespace or "/")`),Cn&&bt&&It.push("and"),bt&&It.push(`version name "${Ut}" contains illegal characters (whitespace or "/")`),void W.warn(It.join(" "))}sn(new T.wA(`${ti}-version`,()=>({library:ti,version:Ut}),"VERSION"))}function on(Rt,Ut){if(null!==Rt&&"function"!=typeof Rt)throw Ni.create("invalid-log-argument");(0,F.Am)(Rt,Ut)}function Vn(Rt){(0,F.Ub)(Rt)}sn(new T.wA("platform-logger",Ut=>new ue(Ut),"PRIVATE")),Bt(oe,N,""),Bt(oe,N,"esm2017"),Bt("fire-js","")},4859:(qe,Ae,O)=>{"use strict";O.d(Ae,{wA:()=>F,H0:()=>N,zt:()=>ue});var s=O(5861),T=O(2090);class F{constructor(R,M,L){this.name=R,this.instanceFactory=M,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const X="[DEFAULT]";class ue{constructor(R,M){this.name=R,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const M=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(M)){const L=new T.BH;if(this.instancesDeferred.set(M,L),this.isInitialized(M)||this.shouldAutoInitialize())try{const V=this.getOrInitializeService({instanceIdentifier:M});V&&L.resolve(V)}catch(V){}}return this.instancesDeferred.get(M).promise}getImmediate(R){var M;const L=this.normalizeInstanceIdentifier(null==R?void 0:R.identifier),V=null!==(M=null==R?void 0:R.optional)&&void 0!==M&&M;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(V)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(z){if(V)return null;throw z}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if("EAGER"===R.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:X})}catch(M){}for(const[M,L]of this.instancesDeferred.entries()){const V=this.normalizeInstanceIdentifier(M);try{const z=this.getOrInitializeService({instanceIdentifier:V});L.resolve(z)}catch(z){}}}}clearInstance(R=X){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,s.Z)(function*(){const M=Array.from(R.instances.values());yield Promise.all([...M.filter(L=>"INTERNAL"in L).map(L=>L.INTERNAL.delete()),...M.filter(L=>"_delete"in L).map(L=>L._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=X){return this.instances.has(R)}getOptions(R=X){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:M={}}=R,L=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(L))throw Error(`${this.name}(${L}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const V=this.getOrInitializeService({instanceIdentifier:L,options:M});for(const[z,ie]of this.instancesDeferred.entries())L===this.normalizeInstanceIdentifier(z)&&ie.resolve(V);return V}onInit(R,M){var L;const V=this.normalizeInstanceIdentifier(M),z=null!==(L=this.onInitCallbacks.get(V))&&void 0!==L?L:new Set;z.add(R),this.onInitCallbacks.set(V,z);const ie=this.instances.get(V);return ie&&R(ie,V),()=>{z.delete(R)}}invokeOnInitCallbacks(R,M){const L=this.onInitCallbacks.get(M);if(L)for(const V of L)try{V(R,M)}catch(z){}}getOrInitializeService({instanceIdentifier:R,options:M={}}){let L=this.instances.get(R);if(!L&&this.component&&(L=this.component.instanceFactory(this.container,{instanceIdentifier:(W=R,W===X?void 0:W),options:M}),this.instances.set(R,L),this.instancesOptions.set(R,M),this.invokeOnInitCallbacks(L,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,L)}catch(V){}var W;return L||null}normalizeInstanceIdentifier(R=X){return this.component?this.component.multipleInstances?R:X:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class N{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const M=this.getProvider(R.name);if(M.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);M.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const M=new ue(R,this);return this.providers.set(R,M),M}getProviders(){return Array.from(this.providers.values())}}},2833:(qe,Ae,O)=>{"use strict";var s=O(5861),T=O(9681),F=O(4859),X=O(2090),ue=O(2940);const Z="@firebase/installations",W="w:0.5.5",R="FIS_v2",se=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ee(ce){return ce instanceof X.ZR&&ce.code.includes("request-failed")}function $({projectId:ce}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ce}/installations`}function K(ce){return{token:ce.token,requestStatus:2,expiresIn:it(ce.expiresIn),creationTime:Date.now()}}function pe(ce,Ue){return _e.apply(this,arguments)}function _e(){return(_e=(0,s.Z)(function*(ce,Ue){const Lt=(yield Ue.json()).error;return se.create("request-failed",{requestName:ce,serverCode:Lt.code,serverMessage:Lt.message,serverStatus:Lt.status})})).apply(this,arguments)}function Ve({apiKey:ce}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ce})}function Re(ce,{refreshToken:Ue}){const ot=Ve(ce);return ot.append("Authorization",function(ce){return`${R} ${ce}`}(Ue)),ot}function Xe(ce){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(ce){const Ue=yield ce();return Ue.status>=500&&Ue.status<600?ce():Ue})).apply(this,arguments)}function it(ce){return Number(ce.replace("s","000"))}function ae(ce,Ue){return ye.apply(this,arguments)}function ye(){return(ye=(0,s.Z)(function*(ce,{fid:Ue}){const ot=$(ce),cn={method:"POST",headers:Ve(ce),body:JSON.stringify({fid:Ue,authVersion:R,appId:ce.appId,sdkVersion:W})},Ci=yield Xe(()=>fetch(ot,cn));if(Ci.ok){const In=yield Ci.json();return{fid:In.fid||Ue,registrationStatus:2,refreshToken:In.refreshToken,authToken:K(In.authToken)}}throw yield pe("Create Installation",Ci)})).apply(this,arguments)}function Ee(ce){return new Promise(Ue=>{setTimeout(Ue,ce)})}const De=/^[cdef][\w-]{21}$/;function Tt(){try{const ce=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ce),ce[0]=112+ce[0]%16;const ot=function(ce){return function(ce){return btoa(String.fromCharCode(...ce)).replace(/\+/g,"-").replace(/\//g,"_")}(ce).substr(0,22)}(ce);return De.test(ot)?ot:""}catch(ce){return""}}function Be(ce){return`${ce.appName}!${ce.appId}`}const He=new Map;function Ze(ce,Ue){const ot=Be(ce);sn(ot,Ue),function(ce,Ue){const ot=(!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=ce=>{sn(ce.data.key,ce.data.fid)}),St);ot&&ot.postMessage({key:ce,fid:Ue}),0===He.size&&St&&(St.close(),St=null)}(ot,Ue)}function sn(ce,Ue){const ot=He.get(ce);if(ot)for(const Lt of ot)Lt(Ue)}let St=null;const Wn="firebase-installations-store";let Xn=null;function Kn(){return Xn||(Xn=(0,ue.openDb)("firebase-installations-database",1,ce=>{0===ce.oldVersion&&ce.createObjectStore(Wn)})),Xn}function jn(ce,Ue){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(ce,Ue){const ot=Be(ce),ni=(yield Kn()).transaction(Wn,"readwrite"),cn=ni.objectStore(Wn),Ci=yield cn.get(ot);return yield cn.put(Ue,ot),yield ni.complete,(!Ci||Ci.fid!==Ue.fid)&&Ze(ce,Ue.fid),Ue})).apply(this,arguments)}function ci(ce){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(ce){const Ue=Be(ce),Lt=(yield Kn()).transaction(Wn,"readwrite");yield Lt.objectStore(Wn).delete(Ue),yield Lt.complete})).apply(this,arguments)}function on(ce,Ue){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(ce,Ue){const ot=Be(ce),ni=(yield Kn()).transaction(Wn,"readwrite"),cn=ni.objectStore(Wn),Ci=yield cn.get(ot),In=Ue(Ci);return void 0===In?yield cn.delete(ot):yield cn.put(In,ot),yield ni.complete,In&&(!Ci||Ci.fid!==In.fid)&&Ze(ce,In.fid),In})).apply(this,arguments)}function fn(ce){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(ce){let Ue;const ot=yield on(ce,Lt=>{const ni=Ut(Lt),cn=vn(ce,ni);return Ue=cn.registrationPromise,cn.installationEntry});return""===ot.fid?{installationEntry:yield Ue}:{installationEntry:ot,registrationPromise:Ue}})).apply(this,arguments)}function Ut(ce){return gi(ce||{fid:Tt(),registrationStatus:0})}function vn(ce,Ue){if(0===Ue.registrationStatus){if(!navigator.onLine)return{installationEntry:Ue,registrationPromise:Promise.reject(se.create("app-offline"))};const ot={fid:Ue.fid,registrationStatus:1,registrationTime:Date.now()},Lt=function(ce,Ue){return ti.apply(this,arguments)}(ce,ot);return{installationEntry:ot,registrationPromise:Lt}}return 1===Ue.registrationStatus?{installationEntry:Ue,registrationPromise:Cn(ce)}:{installationEntry:Ue}}function ti(){return(ti=(0,s.Z)(function*(ce,Ue){try{return jn(ce,yield ae(ce,Ue))}catch(ot){throw ee(ot)&&409===ot.customData.serverCode?yield ci(ce):yield jn(ce,{fid:Ue.fid,registrationStatus:0}),ot}})).apply(this,arguments)}function Cn(ce){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(ce){let Ue=yield It(ce);for(;1===Ue.registrationStatus;)yield Ee(100),Ue=yield It(ce);if(0===Ue.registrationStatus){const{installationEntry:ot,registrationPromise:Lt}=yield fn(ce);return Lt||ot}return Ue})).apply(this,arguments)}function It(ce){return on(ce,Ue=>{if(!Ue)throw se.create("installation-not-found");return gi(Ue)})}function gi(ce){return function(ce){return 1===ce.registrationStatus&&ce.registrationTime+1e4<Date.now()}(ce)?{fid:ce.fid,registrationStatus:0}:ce}function Hi(ce,Ue){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*({appConfig:ce,platformLoggerProvider:Ue},ot){const Lt=Dn(ce,ot),ni=Re(ce,ot),cn=Ue.getImmediate({optional:!0});cn&&ni.append("x-firebase-client",cn.getPlatformInfoString());const In={method:"POST",headers:ni,body:JSON.stringify({installation:{sdkVersion:W}})},Ds=yield Xe(()=>fetch(Lt,In));if(Ds.ok)return K(yield Ds.json());throw yield pe("Generate Auth Token",Ds)})).apply(this,arguments)}function Dn(ce,{fid:Ue}){return`${$(ce)}/${Ue}/authTokens:generate`}function gr(ce){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(ce,Ue=!1){let ot;const Lt=yield on(ce.appConfig,cn=>{if(!ke(cn))throw se.create("not-registered");const Ci=cn.authToken;if(!Ue&&Ge(Ci))return cn;if(1===Ci.requestStatus)return ot=he(ce,Ue),cn;{if(!navigator.onLine)throw se.create("app-offline");const In=wt(cn);return ot=Ne(ce,In),In}});return ot?yield ot:Lt.authToken})).apply(this,arguments)}function he(ce,Ue){return we.apply(this,arguments)}function we(){return(we=(0,s.Z)(function*(ce,Ue){let ot=yield tt(ce.appConfig);for(;1===ot.authToken.requestStatus;)yield Ee(100),ot=yield tt(ce.appConfig);const Lt=ot.authToken;return 0===Lt.requestStatus?gr(ce,Ue):Lt})).apply(this,arguments)}function tt(ce){return on(ce,Ue=>{if(!ke(Ue))throw se.create("not-registered");return function(ce){return 1===ce.requestStatus&&ce.requestTime+1e4<Date.now()}(Ue.authToken)?Object.assign(Object.assign({},Ue),{authToken:{requestStatus:0}}):Ue})}function Ne(ce,Ue){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(ce,Ue){try{const ot=yield Hi(ce,Ue),Lt=Object.assign(Object.assign({},Ue),{authToken:ot});return yield jn(ce.appConfig,Lt),ot}catch(ot){if(!ee(ot)||401!==ot.customData.serverCode&&404!==ot.customData.serverCode){const Lt=Object.assign(Object.assign({},Ue),{authToken:{requestStatus:0}});yield jn(ce.appConfig,Lt)}else yield ci(ce.appConfig);throw ot}})).apply(this,arguments)}function ke(ce){return void 0!==ce&&2===ce.registrationStatus}function Ge(ce){return 2===ce.requestStatus&&!function(ce){const Ue=Date.now();return Ue<ce.creationTime||ce.creationTime+ce.expiresIn<Ue+36e5}(ce)}function wt(ce){const Ue={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ce),{authToken:Ue})}function Te(){return(Te=(0,s.Z)(function*(ce){const Ue=ce,{installationEntry:ot,registrationPromise:Lt}=yield fn(Ue.appConfig);return Lt?Lt.catch(console.error):gr(Ue).catch(console.error),ot.fid})).apply(this,arguments)}function ge(){return(ge=(0,s.Z)(function*(ce,Ue=!1){const ot=ce;return yield ze(ot.appConfig),(yield gr(ot,Ue)).token})).apply(this,arguments)}function ze(ce){return _t.apply(this,arguments)}function _t(){return(_t=(0,s.Z)(function*(ce){const{registrationPromise:Ue}=yield fn(ce);Ue&&(yield Ue)})).apply(this,arguments)}function Vr(ce){return se.create("missing-app-config-values",{valueName:ce})}const Do="installations";(0,T._registerComponent)(new F.wA(Do,ce=>{const Ue=ce.getProvider("app").getImmediate(),ot=function(ce){if(!ce||!ce.options)throw Vr("App Configuration");if(!ce.name)throw Vr("App Name");const Ue=["projectId","apiKey","appId"];for(const ot of Ue)if(!ce.options[ot])throw Vr(ot);return{appName:ce.name,projectId:ce.options.projectId,apiKey:ce.options.apiKey,appId:ce.options.appId}}(Ue);return{app:Ue,appConfig:ot,platformLoggerProvider:(0,T._getProvider)(Ue,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,T._registerComponent)(new F.wA("installations-internal",ce=>{const Ue=ce.getProvider("app").getImmediate(),ot=(0,T._getProvider)(Ue,Do).getImmediate();return{getId:()=>function(ce){return Te.apply(this,arguments)}(ot),getToken:ni=>function(ce){return ge.apply(this,arguments)}(ot,ni)}},"PRIVATE")),(0,T.registerVersion)(Z,"0.5.5"),(0,T.registerVersion)(Z,"0.5.5","esm2017")},1877:(qe,Ae,O)=>{"use strict";O.d(Ae,{in:()=>T,Yd:()=>oe,Ub:()=>N,Am:()=>W});const s=[];var T=(()=>{return(R=T||(T={}))[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",T;var R})();const F={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},X=T.INFO,ue={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},Z=(R,M,...L)=>{if(M<R.logLevel)return;const V=(new Date).toISOString(),z=ue[M];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);console[z](`[${V}]  ${R.name}:`,...L)};class oe{constructor(M){this.name=M,this._logLevel=X,this._logHandler=Z,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in T))throw new TypeError(`Invalid value "${M}" assigned to \`logLevel\``);this._logLevel=M}setLogLevel(M){this._logLevel="string"==typeof M?F[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!=typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(...M){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...M),this._logHandler(this,T.DEBUG,...M)}log(...M){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...M),this._logHandler(this,T.VERBOSE,...M)}info(...M){this._userLogHandler&&this._userLogHandler(this,T.INFO,...M),this._logHandler(this,T.INFO,...M)}warn(...M){this._userLogHandler&&this._userLogHandler(this,T.WARN,...M),this._logHandler(this,T.WARN,...M)}error(...M){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...M),this._logHandler(this,T.ERROR,...M)}}function N(R){s.forEach(M=>{M.setLogLevel(R)})}function W(R,M){for(const L of s){let V=null;M&&M.level&&(V=F[M.level]),L.userLogHandler=null===R?null:(z,ie,...se)=>{const ee=se.map($=>{if(null==$)return null;if("string"==typeof $)return $;if("number"==typeof $||"boolean"==typeof $)return $.toString();if($ instanceof Error)return $.message;try{return JSON.stringify($)}catch(K){return null}}).filter($=>$).join(" ");ie>=(null!=V?V:z.logLevel)&&R({level:T[ie].toLowerCase(),message:ee,args:se,type:z.name})}}}},5861:(qe,Ae,O)=>{"use strict";function s(F,X,ue,Z,oe,N,W){try{var R=F[N](W),M=R.value}catch(L){return void ue(L)}R.done?X(M):Promise.resolve(M).then(Z,oe)}function T(F){return function(){var X=this,ue=arguments;return new Promise(function(Z,oe){var N=F.apply(X,ue);function W(M){s(N,Z,oe,W,R,"next",M)}function R(M){s(N,Z,oe,W,R,"throw",M)}W(void 0)})}}O.d(Ae,{Z:()=>T})}},qe=>{qe(qe.s=8369)}]);